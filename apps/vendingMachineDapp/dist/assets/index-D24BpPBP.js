var N3=Object.defineProperty;var R3=(e,t,r)=>t in e?N3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ji=(e,t,r)=>(R3(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function O0(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const xt={},js=[],Vr=()=>{},B3=()=>!1,rf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),P0=e=>e.startsWith("onUpdate:"),Dt=Object.assign,D0=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$3=Object.prototype.hasOwnProperty,ut=(e,t)=>$3.call(e,t),Je=Array.isArray,qs=e=>nf(e)==="[object Map]",tm=e=>nf(e)==="[object Set]",et=e=>typeof e=="function",Ot=e=>typeof e=="string",ao=e=>typeof e=="symbol",At=e=>e!==null&&typeof e=="object",rm=e=>(At(e)||et(e))&&et(e.then)&&et(e.catch),nm=Object.prototype.toString,nf=e=>nm.call(e),U3=e=>nf(e).slice(8,-1),im=e=>nf(e)==="[object Object]",N0=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Jo=O0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sf=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},L3=/-(\w)/g,Sn=sf(e=>e.replace(L3,(t,r)=>r?r.toUpperCase():"")),F3=/\B([A-Z])/g,co=sf(e=>e.replace(F3,"-$1").toLowerCase()),of=sf(e=>e.charAt(0).toUpperCase()+e.slice(1)),dc=sf(e=>e?`on${of(e)}`:""),Oi=(e,t)=>!Object.is(e,t),hc=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ic=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},bl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},k3=e=>{const t=Ot(e)?Number(e):NaN;return isNaN(t)?e:t};let Mh;const sm=()=>Mh||(Mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Aa(e){if(Je(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ot(n)?z3(n):Aa(n);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ot(e)||At(e))return e}const j3=/;(?![^(]*\))/g,q3=/:([^]+)/,H3=/\/\*[^]*?\*\//g;function z3(e){const t={};return e.replace(H3,"").split(j3).forEach(r=>{if(r){const n=r.split(q3);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function An(e){let t="";if(Ot(e))t=e;else if(Je(e))for(let r=0;r<e.length;r++){const n=An(e[r]);n&&(t+=n+" ")}else if(At(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const V3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K3=O0(V3);function om(e){return!!e||e===""}const fa=e=>Ot(e)?e:e==null?"":Je(e)||At(e)&&(e.toString===nm||!et(e.toString))?JSON.stringify(e,am,2):String(e),am=(e,t)=>t&&t.__v_isRef?am(e,t.value):qs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s],i)=>(r[pu(n,i)+" =>"]=s,r),{})}:tm(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>pu(r))}:ao(t)?pu(t):At(t)&&!Je(t)&&!im(t)?String(t):t,pu=(e,t="")=>{var r;return ao(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tn;class G3{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tn,!t&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=tn;try{return tn=this,t()}finally{tn=r}}}on(){tn=this}off(){tn=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function W3(e,t=tn){t&&t.active&&t.effects.push(e)}function Y3(){return tn}let as;class R0{constructor(t,r,n,s){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,W3(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,gs();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(J3(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ms()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ti,r=as;try{return Ti=!0,as=this,this._runnings++,Ch(this),this.fn()}finally{Oh(this),this._runnings--,as=r,Ti=t}}stop(){var t;this.active&&(Ch(this),Oh(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function J3(e){return e.value}function Ch(e){e._trackId++,e._depsLength=0}function Oh(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cm(e.deps[t],e);e.deps.length=e._depsLength}}function cm(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let Ti=!0,yl=0;const fm=[];function gs(){fm.push(Ti),Ti=!1}function ms(){const e=fm.pop();Ti=e===void 0?!0:e}function B0(){yl++}function $0(){for(yl--;!yl&&vl.length;)vl.shift()()}function um(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&cm(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const vl=[];function lm(e,t,r){B0();for(const n of e.keys()){let s;n._dirtyLevel<t&&(s??(s=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(s??(s=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&vl.push(n.scheduler)))}$0()}const dm=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},wl=new WeakMap,cs=Symbol(""),_l=Symbol("");function Er(e,t,r){if(Ti&&as){let n=wl.get(e);n||wl.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=dm(()=>n.delete(r))),um(as,s)}}function Xn(e,t,r,n,s,i){const a=wl.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(r==="length"&&Je(e)){const f=Number(n);a.forEach((c,l)=>{(l==="length"||!ao(l)&&l>=f)&&o.push(c)})}else switch(r!==void 0&&o.push(a.get(r)),t){case"add":Je(e)?N0(r)&&o.push(a.get("length")):(o.push(a.get(cs)),qs(e)&&o.push(a.get(_l)));break;case"delete":Je(e)||(o.push(a.get(cs)),qs(e)&&o.push(a.get(_l)));break;case"set":qs(e)&&o.push(a.get(cs));break}B0();for(const f of o)f&&lm(f,4);$0()}const X3=O0("__proto__,__v_isRef,__isVue"),hm=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ao)),Ph=Z3();function Z3(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=lt(this);for(let i=0,a=this.length;i<a;i++)Er(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(lt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){gs(),B0();const n=lt(this)[t].apply(this,r);return $0(),ms(),n}}),e}function Q3(e){const t=lt(this);return Er(t,"has",e),t.hasOwnProperty(e)}class pm{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,n){const s=this._isReadonly,i=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?d4:ym:i?bm:mm).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Je(t);if(!s){if(a&&ut(Ph,r))return Reflect.get(Ph,r,n);if(r==="hasOwnProperty")return Q3}const o=Reflect.get(t,r,n);return(ao(r)?hm.has(r):X3(r))||(s||Er(t,"get",r),i)?o:pr(o)?a&&N0(r)?o:o.value:At(o)?s?vm(o):Ia(o):o}}class gm extends pm{constructor(t=!1){super(!1,t)}set(t,r,n,s){let i=t[r];if(!this._shallow){const f=Gs(i);if(!Tc(n)&&!Gs(n)&&(i=lt(i),n=lt(n)),!Je(t)&&pr(i)&&!pr(n))return f?!1:(i.value=n,!0)}const a=Je(t)&&N0(r)?Number(r)<t.length:ut(t,r),o=Reflect.set(t,r,n,s);return t===lt(s)&&(a?Oi(n,i)&&Xn(t,"set",r,n):Xn(t,"add",r,n)),o}deleteProperty(t,r){const n=ut(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&Xn(t,"delete",r,void 0),s}has(t,r){const n=Reflect.has(t,r);return(!ao(r)||!hm.has(r))&&Er(t,"has",r),n}ownKeys(t){return Er(t,"iterate",Je(t)?"length":cs),Reflect.ownKeys(t)}}class e4 extends pm{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const t4=new gm,r4=new e4,n4=new gm(!0),U0=e=>e,af=e=>Reflect.getPrototypeOf(e);function Ja(e,t,r=!1,n=!1){e=e.__v_raw;const s=lt(e),i=lt(t);r||(Oi(t,i)&&Er(s,"get",t),Er(s,"get",i));const{has:a}=af(s),o=n?U0:r?k0:ua;if(a.call(s,t))return o(e.get(t));if(a.call(s,i))return o(e.get(i));e!==s&&e.get(t)}function Xa(e,t=!1){const r=this.__v_raw,n=lt(r),s=lt(e);return t||(Oi(e,s)&&Er(n,"has",e),Er(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function Za(e,t=!1){return e=e.__v_raw,!t&&Er(lt(e),"iterate",cs),Reflect.get(e,"size",e)}function Dh(e){e=lt(e);const t=lt(this);return af(t).has.call(t,e)||(t.add(e),Xn(t,"add",e,e)),this}function Nh(e,t){t=lt(t);const r=lt(this),{has:n,get:s}=af(r);let i=n.call(r,e);i||(e=lt(e),i=n.call(r,e));const a=s.call(r,e);return r.set(e,t),i?Oi(t,a)&&Xn(r,"set",e,t):Xn(r,"add",e,t),this}function Rh(e){const t=lt(this),{has:r,get:n}=af(t);let s=r.call(t,e);s||(e=lt(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&Xn(t,"delete",e,void 0),i}function Bh(){const e=lt(this),t=e.size!==0,r=e.clear();return t&&Xn(e,"clear",void 0,void 0),r}function Qa(e,t){return function(n,s){const i=this,a=i.__v_raw,o=lt(a),f=t?U0:e?k0:ua;return!e&&Er(o,"iterate",cs),a.forEach((c,l)=>n.call(s,f(c),f(l),i))}}function ec(e,t,r){return function(...n){const s=this.__v_raw,i=lt(s),a=qs(i),o=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,c=s[e](...n),l=r?U0:t?k0:ua;return!t&&Er(i,"iterate",f?_l:cs),{next(){const{value:v,done:S}=c.next();return S?{value:v,done:S}:{value:o?[l(v[0]),l(v[1])]:l(v),done:S}},[Symbol.iterator](){return this}}}}function li(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function i4(){const e={get(i){return Ja(this,i)},get size(){return Za(this)},has:Xa,add:Dh,set:Nh,delete:Rh,clear:Bh,forEach:Qa(!1,!1)},t={get(i){return Ja(this,i,!1,!0)},get size(){return Za(this)},has:Xa,add:Dh,set:Nh,delete:Rh,clear:Bh,forEach:Qa(!1,!0)},r={get(i){return Ja(this,i,!0)},get size(){return Za(this,!0)},has(i){return Xa.call(this,i,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:Qa(!0,!1)},n={get(i){return Ja(this,i,!0,!0)},get size(){return Za(this,!0)},has(i){return Xa.call(this,i,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:Qa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ec(i,!1,!1),r[i]=ec(i,!0,!1),t[i]=ec(i,!1,!0),n[i]=ec(i,!0,!0)}),[e,r,t,n]}const[s4,o4,a4,c4]=i4();function L0(e,t){const r=t?e?c4:a4:e?o4:s4;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(ut(r,s)&&s in n?r:n,s,i)}const f4={get:L0(!1,!1)},u4={get:L0(!1,!0)},l4={get:L0(!0,!1)},mm=new WeakMap,bm=new WeakMap,ym=new WeakMap,d4=new WeakMap;function h4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p4(e){return e.__v_skip||!Object.isExtensible(e)?0:h4(U3(e))}function Ia(e){return Gs(e)?e:F0(e,!1,t4,f4,mm)}function g4(e){return F0(e,!1,n4,u4,bm)}function vm(e){return F0(e,!0,r4,l4,ym)}function F0(e,t,r,n,s){if(!At(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=p4(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return s.set(e,o),o}function Hs(e){return Gs(e)?Hs(e.__v_raw):!!(e&&e.__v_isReactive)}function Gs(e){return!!(e&&e.__v_isReadonly)}function Tc(e){return!!(e&&e.__v_isShallow)}function wm(e){return Hs(e)||Gs(e)}function lt(e){const t=e&&e.__v_raw;return t?lt(t):e}function _m(e){return Object.isExtensible(e)&&Ic(e,"__v_skip",!0),e}const ua=e=>At(e)?Ia(e):e,k0=e=>At(e)?vm(e):e;class Em{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new R0(()=>t(this._value),()=>pc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=lt(this);return(!t._cacheable||t.effect.dirty)&&Oi(t._value,t._value=t.effect.run())&&pc(t,4),xm(t),t.effect._dirtyLevel>=2&&pc(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function m4(e,t,r=!1){let n,s;const i=et(e);return i?(n=e,s=Vr):(n=e.get,s=e.set),new Em(n,s,i||!s,r)}function xm(e){var t;Ti&&as&&(e=lt(e),um(as,(t=e.dep)!=null?t:e.dep=dm(()=>e.dep=void 0,e instanceof Em?e:void 0)))}function pc(e,t=4,r){e=lt(e);const n=e.dep;n&&lm(n,t)}function pr(e){return!!(e&&e.__v_isRef===!0)}function Ni(e){return b4(e,!1)}function b4(e,t){return pr(e)?e:new y4(e,t)}class y4{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:lt(t),this._value=r?t:ua(t)}get value(){return xm(this),this._value}set value(t){const r=this.__v_isShallow||Tc(t)||Gs(t);t=r?t:lt(t),Oi(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:ua(t),pc(this,4))}}function Kt(e){return pr(e)?e.value:e}const v4={get:(e,t,r)=>Kt(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return pr(s)&&!pr(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Sm(e){return Hs(e)?e:new Proxy(e,v4)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mi(e,t,r,n){try{return n?e(...n):e()}catch(s){cf(s,t,r)}}function Kr(e,t,r,n){if(et(e)){const i=Mi(e,t,r,n);return i&&rm(i)&&i.catch(a=>{cf(a,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Kr(e[i],t,r,n));return s}function cf(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const c=i.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,a,o)===!1)return}i=i.parent}const f=t.appContext.config.errorHandler;if(f){Mi(f,null,10,[e,a,o]);return}}w4(e,r,s,n)}function w4(e,t,r,n=!0){console.error(e)}let la=!1,El=!1;const ir=[];let bn=0;const zs=[];let yi=null,es=0;const Am=Promise.resolve();let j0=null;function Im(e){const t=j0||Am;return e?t.then(this?e.bind(this):e):t}function _4(e){let t=bn+1,r=ir.length;for(;t<r;){const n=t+r>>>1,s=ir[n],i=da(s);i<e||i===e&&s.pre?t=n+1:r=n}return t}function q0(e){(!ir.length||!ir.includes(e,la&&e.allowRecurse?bn+1:bn))&&(e.id==null?ir.push(e):ir.splice(_4(e.id),0,e),Tm())}function Tm(){!la&&!El&&(El=!0,j0=Am.then(Cm))}function E4(e){const t=ir.indexOf(e);t>bn&&ir.splice(t,1)}function x4(e){Je(e)?zs.push(...e):(!yi||!yi.includes(e,e.allowRecurse?es+1:es))&&zs.push(e),Tm()}function $h(e,t,r=la?bn+1:0){for(;r<ir.length;r++){const n=ir[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;ir.splice(r,1),r--,n()}}}function Mm(e){if(zs.length){const t=[...new Set(zs)].sort((r,n)=>da(r)-da(n));if(zs.length=0,yi){yi.push(...t);return}for(yi=t,es=0;es<yi.length;es++)yi[es]();yi=null,es=0}}const da=e=>e.id==null?1/0:e.id,S4=(e,t)=>{const r=da(e)-da(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Cm(e){El=!1,la=!0,ir.sort(S4);try{for(bn=0;bn<ir.length;bn++){const t=ir[bn];t&&t.active!==!1&&Mi(t,null,14)}}finally{bn=0,ir.length=0,Mm(),la=!1,j0=null,(ir.length||zs.length)&&Cm()}}function A4(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||xt;let s=r;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in n){const l=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:S}=n[l]||xt;S&&(s=r.map(D=>Ot(D)?D.trim():D)),v&&(s=r.map(bl))}let o,f=n[o=dc(t)]||n[o=dc(Sn(t))];!f&&i&&(f=n[o=dc(co(t))]),f&&Kr(f,e,6,s);const c=n[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Kr(c,e,6,s)}}function Om(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!et(e)){const f=c=>{const l=Om(c,t,!0);l&&(o=!0,Dt(a,l))};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!o?(At(e)&&n.set(e,null),null):(Je(i)?i.forEach(f=>a[f]=null):Dt(a,i),At(e)&&n.set(e,a),a)}function ff(e,t){return!e||!rf(t)?!1:(t=t.slice(2).replace(/Once$/,""),ut(e,t[0].toLowerCase()+t.slice(1))||ut(e,co(t))||ut(e,t))}let Bt=null,Pm=null;function Mc(e){const t=Bt;return Bt=e,Pm=e&&e.type.__scopeId||null,t}function Ta(e,t=Bt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Gh(-1);const i=Mc(t);let a;try{a=e(...s)}finally{Mc(i),n._d&&Gh(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function gu(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[a],slots:o,attrs:f,emit:c,render:l,renderCache:v,data:S,setupState:D,ctx:C,inheritAttrs:q}=e;let H,Z;const W=Mc(e);try{if(r.shapeFlag&4){const B=s||n,z=B;H=mn(l.call(z,B,v,i,D,S,C)),Z=f}else{const B=t;H=mn(B.length>1?B(i,{attrs:f,slots:o,emit:c}):B(i,null)),Z=t.props?f:I4(f)}}catch(B){ra.length=0,cf(B,e,1),H=Wt(ti)}let K=H;if(Z&&q!==!1){const B=Object.keys(Z),{shapeFlag:z}=K;B.length&&z&7&&(a&&B.some(P0)&&(Z=T4(Z,a)),K=hs(K,Z))}return r.dirs&&(K=hs(K),K.dirs=K.dirs?K.dirs.concat(r.dirs):r.dirs),r.transition&&(K.transition=r.transition),H=K,Mc(W),H}const I4=e=>{let t;for(const r in e)(r==="class"||r==="style"||rf(r))&&((t||(t={}))[r]=e[r]);return t},T4=(e,t)=>{const r={};for(const n in e)(!P0(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function M4(e,t,r){const{props:n,children:s,component:i}=e,{props:a,children:o,patchFlag:f}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?Uh(n,a,c):!!a;if(f&8){const l=t.dynamicProps;for(let v=0;v<l.length;v++){const S=l[v];if(a[S]!==n[S]&&!ff(c,S))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Uh(n,a,c):!0:!!a;return!1}function Uh(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!ff(r,i))return!0}return!1}function C4({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const H0="components";function Xo(e,t){return Nm(H0,e,!0,t)||e}const Dm=Symbol.for("v-ndc");function z0(e){return Ot(e)?Nm(H0,e,!1)||e:e||Dm}function Nm(e,t,r=!0,n=!1){const s=Bt||Yt;if(s){const i=s.type;if(e===H0){const o=A5(i,!1);if(o&&(o===t||o===Sn(t)||o===of(Sn(t))))return i}const a=Lh(s[e]||i[e],t)||Lh(s.appContext[e],t);return!a&&n?i:a}}function Lh(e,t){return e&&(e[t]||e[Sn(t)]||e[of(Sn(t))])}const O4=e=>e.__isSuspense;function P4(e,t){t&&t.pendingBranch?Je(e)?t.effects.push(...e):t.effects.push(e):x4(e)}const D4=Symbol.for("v-scx"),N4=()=>ta(D4),tc={};function mu(e,t,r){return Rm(e,t,r)}function Rm(e,t,{immediate:r,deep:n,flush:s,once:i,onTrack:a,onTrigger:o}=xt){if(t&&i){const P=t;t=(...g)=>{P(...g),z()}}const f=Yt,c=P=>n===!0?P:ns(P,n===!1?1:void 0);let l,v=!1,S=!1;if(pr(e)?(l=()=>e.value,v=Tc(e)):Hs(e)?(l=()=>c(e),v=!0):Je(e)?(S=!0,v=e.some(P=>Hs(P)||Tc(P)),l=()=>e.map(P=>{if(pr(P))return P.value;if(Hs(P))return c(P);if(et(P))return Mi(P,f,2)})):et(e)?t?l=()=>Mi(e,f,2):l=()=>(D&&D(),Kr(e,f,3,[C])):l=Vr,t&&n){const P=l;l=()=>ns(P())}let D,C=P=>{D=K.onStop=()=>{Mi(P,f,4),D=K.onStop=void 0}},q;if(gf)if(C=Vr,t?r&&Kr(t,f,3,[l(),S?[]:void 0,C]):l(),s==="sync"){const P=N4();q=P.__watcherHandles||(P.__watcherHandles=[])}else return Vr;let H=S?new Array(e.length).fill(tc):tc;const Z=()=>{if(!(!K.active||!K.dirty))if(t){const P=K.run();(n||v||(S?P.some((g,$)=>Oi(g,H[$])):Oi(P,H)))&&(D&&D(),Kr(t,f,3,[P,H===tc?void 0:S&&H[0]===tc?[]:H,C]),H=P)}else K.run()};Z.allowRecurse=!!t;let W;s==="sync"?W=Z:s==="post"?W=()=>vr(Z,f&&f.suspense):(Z.pre=!0,f&&(Z.id=f.uid),W=()=>q0(Z));const K=new R0(l,Vr,W),B=Y3(),z=()=>{K.stop(),B&&D0(B.effects,K)};return t?r?Z():H=K.run():s==="post"?vr(K.run.bind(K),f&&f.suspense):K.run(),q&&q.push(z),z}function R4(e,t,r){const n=this.proxy,s=Ot(e)?e.includes(".")?Bm(n,e):()=>n[e]:e.bind(n,n);let i;et(t)?i=t:(i=t.handler,r=t);const a=Ma(this),o=Rm(s,i.bind(n),r);return a(),o}function Bm(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function ns(e,t,r=0,n){if(!At(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),pr(e))ns(e.value,t,r,n);else if(Je(e))for(let s=0;s<e.length;s++)ns(e[s],t,r,n);else if(tm(e)||qs(e))e.forEach(s=>{ns(s,t,r,n)});else if(im(e))for(const s in e)ns(e[s],t,r,n);return e}function B4(e,t){if(Bt===null)return e;const r=mf(Bt)||Bt.proxy,n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,o,f=xt]=t[s];i&&(et(i)&&(i={mounted:i,updated:i}),i.deep&&ns(a),n.push({dir:i,instance:r,value:a,oldValue:void 0,arg:o,modifiers:f}))}return e}function qi(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let f=o.dir[n];f&&(gs(),Kr(f,r,8,[e.el,o,e,t]),ms())}}const Os=Symbol("_leaveCb"),rc=Symbol("_enterCb");function $4(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return V0(()=>{e.isMounted=!0}),km(()=>{e.isUnmounting=!0}),e}const kr=[Function,Array],U4={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr};function L4(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function xl(e,t,r,n){const{appear:s,mode:i,persisted:a=!1,onBeforeEnter:o,onEnter:f,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:v,onLeave:S,onAfterLeave:D,onLeaveCancelled:C,onBeforeAppear:q,onAppear:H,onAfterAppear:Z,onAppearCancelled:W}=t,K=String(e.key),B=L4(r,e),z=($,Y)=>{$&&Kr($,n,9,Y)},P=($,Y)=>{const Q=Y[1];z($,Y),Je($)?$.every(G=>G.length<=1)&&Q():$.length<=1&&Q()},g={mode:i,persisted:a,beforeEnter($){let Y=o;if(!r.isMounted)if(s)Y=q||o;else return;$[Os]&&$[Os](!0);const Q=B[K];Q&&Ns(e,Q)&&Q.el[Os]&&Q.el[Os](),z(Y,[$])},enter($){let Y=f,Q=c,G=l;if(!r.isMounted)if(s)Y=H||f,Q=Z||c,G=W||l;else return;let h=!1;const m=$[rc]=u=>{h||(h=!0,u?z(G,[$]):z(Q,[$]),g.delayedLeave&&g.delayedLeave(),$[rc]=void 0)};Y?P(Y,[$,m]):m()},leave($,Y){const Q=String(e.key);if($[rc]&&$[rc](!0),r.isUnmounting)return Y();z(v,[$]);let G=!1;const h=$[Os]=m=>{G||(G=!0,Y(),m?z(C,[$]):z(D,[$]),$[Os]=void 0,B[Q]===e&&delete B[Q])};B[Q]=e,S?P(S,[$,h]):h()},clone($){return xl($,t,r,n)}};return g}function Sl(e,t){e.shapeFlag&6&&e.component?Sl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $m(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:i);a.type===Nt?(a.patchFlag&128&&s++,n=n.concat($m(a.children,t,o))):(t||a.type!==ti)&&n.push(o!=null?hs(a,{key:o}):a)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Cn(e,t){return et(e)?Dt({name:e.name},t,{setup:e}):e}const Zo=e=>!!e.type.__asyncLoader,Um=e=>e.type.__isKeepAlive;function F4(e,t){Lm(e,"a",t)}function k4(e,t){Lm(e,"da",t)}function Lm(e,t,r=Yt){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(uf(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Um(s.parent.vnode)&&j4(n,t,r,s),s=s.parent}}function j4(e,t,r,n){const s=uf(t,e,n,!0);jm(()=>{D0(n[t],s)},r)}function uf(e,t,r=Yt,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;gs();const o=Ma(r),f=Kr(t,r,e,a);return o(),ms(),f});return n?s.unshift(i):s.push(i),i}}const si=e=>(t,r=Yt)=>(!gf||e==="sp")&&uf(e,(...n)=>t(...n),r),q4=si("bm"),V0=si("m"),H4=si("bu"),Fm=si("u"),km=si("bum"),jm=si("um"),z4=si("sp"),V4=si("rtg"),K4=si("rtc");function G4(e,t=Yt){uf("ec",e,t)}function Cc(e,t,r,n){let s;const i=r&&r[n];if(Je(e)||Ot(e)){s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i&&i[a])}else if(At(e))if(e[Symbol.iterator])s=Array.from(e,(a,o)=>t(a,o,void 0,i&&i[o]));else{const a=Object.keys(e);s=new Array(a.length);for(let o=0,f=a.length;o<f;o++){const c=a[o];s[o]=t(e[c],c,o,i&&i[o])}}else s=[];return r&&(r[n]=s),s}function W4(e,t,r={},n,s){if(Bt.isCE||Bt.parent&&Zo(Bt.parent)&&Bt.parent.isCE)return t!=="default"&&(r.name=t),Wt("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),at();const a=i&&qm(i(r)),o=vn(Nt,{key:r.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),i&&i._c&&(i._d=!0),o}function qm(e){return e.some(t=>Qm(t)?!(t.type===ti||t.type===Nt&&!qm(t.children)):!0)?e:null}function Y4(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:dc(n)]=e[n];return r}const Al=e=>e?rb(e)?mf(e)||e.proxy:Al(e.parent):null,Qo=Dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Al(e.parent),$root:e=>Al(e.root),$emit:e=>e.emit,$options:e=>K0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,q0(e.update)}),$nextTick:e=>e.n||(e.n=Im.bind(e.proxy)),$watch:e=>R4.bind(e)}),bu=(e,t)=>e!==xt&&!e.__isScriptSetup&&ut(e,t),J4={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:f}=e;let c;if(t[0]!=="$"){const D=a[t];if(D!==void 0)switch(D){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(bu(n,t))return a[t]=1,n[t];if(s!==xt&&ut(s,t))return a[t]=2,s[t];if((c=e.propsOptions[0])&&ut(c,t))return a[t]=3,i[t];if(r!==xt&&ut(r,t))return a[t]=4,r[t];Il&&(a[t]=0)}}const l=Qo[t];let v,S;if(l)return t==="$attrs"&&Er(e,"get",t),l(e);if((v=o.__cssModules)&&(v=v[t]))return v;if(r!==xt&&ut(r,t))return a[t]=4,r[t];if(S=f.config.globalProperties,ut(S,t))return S[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return bu(s,t)?(s[t]=r,!0):n!==xt&&ut(n,t)?(n[t]=r,!0):ut(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||e!==xt&&ut(e,a)||bu(t,a)||(o=i[0])&&ut(o,a)||ut(n,a)||ut(Qo,a)||ut(s.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ut(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Fh(e){return Je(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Il=!0;function X4(e){const t=K0(e),r=e.proxy,n=e.ctx;Il=!1,t.beforeCreate&&kh(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:f,inject:c,created:l,beforeMount:v,mounted:S,beforeUpdate:D,updated:C,activated:q,deactivated:H,beforeDestroy:Z,beforeUnmount:W,destroyed:K,unmounted:B,render:z,renderTracked:P,renderTriggered:g,errorCaptured:$,serverPrefetch:Y,expose:Q,inheritAttrs:G,components:h,directives:m,filters:u}=t;if(c&&Z4(c,n,null),a)for(const x in a){const O=a[x];et(O)&&(n[x]=O.bind(r))}if(s){const x=s.call(r,r);At(x)&&(e.data=Ia(x))}if(Il=!0,i)for(const x in i){const O=i[x],N=et(O)?O.bind(r,r):et(O.get)?O.get.bind(r,r):Vr,w=!et(O)&&et(O.set)?O.set.bind(r):Vr,I=T5({get:N,set:w});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>I.value,set:T=>I.value=T})}if(o)for(const x in o)Hm(o[x],n,r,x);if(f){const x=et(f)?f.call(r):f;Reflect.ownKeys(x).forEach(O=>{i5(O,x[O])})}l&&kh(l,e,"c");function A(x,O){Je(O)?O.forEach(N=>x(N.bind(r))):O&&x(O.bind(r))}if(A(q4,v),A(V0,S),A(H4,D),A(Fm,C),A(F4,q),A(k4,H),A(G4,$),A(K4,P),A(V4,g),A(km,W),A(jm,B),A(z4,Y),Je(Q))if(Q.length){const x=e.exposed||(e.exposed={});Q.forEach(O=>{Object.defineProperty(x,O,{get:()=>r[O],set:N=>r[O]=N})})}else e.exposed||(e.exposed={});z&&e.render===Vr&&(e.render=z),G!=null&&(e.inheritAttrs=G),h&&(e.components=h),m&&(e.directives=m)}function Z4(e,t,r=Vr){Je(e)&&(e=Tl(e));for(const n in e){const s=e[n];let i;At(s)?"default"in s?i=ta(s.from||n,s.default,!0):i=ta(s.from||n):i=ta(s),pr(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function kh(e,t,r){Kr(Je(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Hm(e,t,r,n){const s=n.includes(".")?Bm(r,n):()=>r[n];if(Ot(e)){const i=t[e];et(i)&&mu(s,i)}else if(et(e))mu(s,e.bind(r));else if(At(e))if(Je(e))e.forEach(i=>Hm(i,t,r,n));else{const i=et(e.handler)?e.handler.bind(r):t[e.handler];et(i)&&mu(s,i,e)}}function K0(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let f;return o?f=o:!s.length&&!r&&!n?f=t:(f={},s.length&&s.forEach(c=>Oc(f,c,a,!0)),Oc(f,t,a)),At(t)&&i.set(t,f),f}function Oc(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&Oc(e,i,r,!0),s&&s.forEach(a=>Oc(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=Q4[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Q4={data:jh,props:qh,emits:qh,methods:Ko,computed:Ko,beforeCreate:lr,created:lr,beforeMount:lr,mounted:lr,beforeUpdate:lr,updated:lr,beforeDestroy:lr,beforeUnmount:lr,destroyed:lr,unmounted:lr,activated:lr,deactivated:lr,errorCaptured:lr,serverPrefetch:lr,components:Ko,directives:Ko,watch:t5,provide:jh,inject:e5};function jh(e,t){return t?e?function(){return Dt(et(e)?e.call(this,this):e,et(t)?t.call(this,this):t)}:t:e}function e5(e,t){return Ko(Tl(e),Tl(t))}function Tl(e){if(Je(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function lr(e,t){return e?[...new Set([].concat(e,t))]:t}function Ko(e,t){return e?Dt(Object.create(null),e,t):t}function qh(e,t){return e?Je(e)&&Je(t)?[...new Set([...e,...t])]:Dt(Object.create(null),Fh(e),Fh(t??{})):t}function t5(e,t){if(!e)return t;if(!t)return e;const r=Dt(Object.create(null),e);for(const n in t)r[n]=lr(e[n],t[n]);return r}function zm(){return{app:null,config:{isNativeTag:B3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let r5=0;function n5(e,t){return function(n,s=null){et(n)||(n=Dt({},n)),s!=null&&!At(s)&&(s=null);const i=zm(),a=new WeakSet;let o=!1;const f=i.app={_uid:r5++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:M5,get config(){return i.config},set config(c){},use(c,...l){return a.has(c)||(c&&et(c.install)?(a.add(c),c.install(f,...l)):et(c)&&(a.add(c),c(f,...l))),f},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),f},component(c,l){return l?(i.components[c]=l,f):i.components[c]},directive(c,l){return l?(i.directives[c]=l,f):i.directives[c]},mount(c,l,v){if(!o){const S=Wt(n,s);return S.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),l&&t?t(S,c):e(S,c,v),o=!0,f._container=c,c.__vue_app__=f,mf(S.component)||S.component.proxy}},unmount(){o&&(e(null,f._container),delete f._container.__vue_app__)},provide(c,l){return i.provides[c]=l,f},runWithContext(c){const l=ea;ea=f;try{return c()}finally{ea=l}}};return f}}let ea=null;function i5(e,t){if(Yt){let r=Yt.provides;const n=Yt.parent&&Yt.parent.provides;n===r&&(r=Yt.provides=Object.create(n)),r[e]=t}}function ta(e,t,r=!1){const n=Yt||Bt;if(n||ea){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:ea._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&et(t)?t.call(n&&n.proxy):t}}function s5(e,t,r,n=!1){const s={},i={};Ic(i,df,1),e.propsDefaults=Object.create(null),Vm(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);r?e.props=n?s:g4(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function o5(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=lt(s),[f]=e.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const l=e.vnode.dynamicProps;for(let v=0;v<l.length;v++){let S=l[v];if(ff(e.emitsOptions,S))continue;const D=t[S];if(f)if(ut(i,S))D!==i[S]&&(i[S]=D,c=!0);else{const C=Sn(S);s[C]=Ml(f,o,C,D,e,!1)}else D!==i[S]&&(i[S]=D,c=!0)}}}else{Vm(e,t,s,i)&&(c=!0);let l;for(const v in o)(!t||!ut(t,v)&&((l=co(v))===v||!ut(t,l)))&&(f?r&&(r[v]!==void 0||r[l]!==void 0)&&(s[v]=Ml(f,o,v,void 0,e,!0)):delete s[v]);if(i!==o)for(const v in i)(!t||!ut(t,v))&&(delete i[v],c=!0)}c&&Xn(e,"set","$attrs")}function Vm(e,t,r,n){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let f in t){if(Jo(f))continue;const c=t[f];let l;s&&ut(s,l=Sn(f))?!i||!i.includes(l)?r[l]=c:(o||(o={}))[l]=c:ff(e.emitsOptions,f)||(!(f in n)||c!==n[f])&&(n[f]=c,a=!0)}if(i){const f=lt(r),c=o||xt;for(let l=0;l<i.length;l++){const v=i[l];r[v]=Ml(s,f,v,c[v],e,!ut(c,v))}}return a}function Ml(e,t,r,n,s,i){const a=e[r];if(a!=null){const o=ut(a,"default");if(o&&n===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&et(f)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const l=Ma(s);n=c[r]=f.call(null,t),l()}}else n=f}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===co(r))&&(n=!0))}return n}function Km(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,a={},o=[];let f=!1;if(!et(e)){const l=v=>{f=!0;const[S,D]=Km(v,t,!0);Dt(a,S),D&&o.push(...D)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!f)return At(e)&&n.set(e,js),js;if(Je(i))for(let l=0;l<i.length;l++){const v=Sn(i[l]);Hh(v)&&(a[v]=xt)}else if(i)for(const l in i){const v=Sn(l);if(Hh(v)){const S=i[l],D=a[v]=Je(S)||et(S)?{type:S}:Dt({},S);if(D){const C=Kh(Boolean,D.type),q=Kh(String,D.type);D[0]=C>-1,D[1]=q<0||C<q,(C>-1||ut(D,"default"))&&o.push(v)}}}const c=[a,o];return At(e)&&n.set(e,c),c}function Hh(e){return e[0]!=="$"&&!Jo(e)}function zh(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Vh(e,t){return zh(e)===zh(t)}function Kh(e,t){return Je(t)?t.findIndex(r=>Vh(r,e)):et(t)&&Vh(t,e)?0:-1}const Gm=e=>e[0]==="_"||e==="$stable",G0=e=>Je(e)?e.map(mn):[mn(e)],a5=(e,t,r)=>{if(t._n)return t;const n=Ta((...s)=>G0(t(...s)),r);return n._c=!1,n},Wm=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Gm(s))continue;const i=e[s];if(et(i))t[s]=a5(s,i,n);else if(i!=null){const a=G0(i);t[s]=()=>a}}},Ym=(e,t)=>{const r=G0(t);e.slots.default=()=>r},c5=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=lt(t),Ic(t,"_",r)):Wm(t,e.slots={})}else e.slots={},t&&Ym(e,t);Ic(e.slots,df,1)},f5=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,a=xt;if(n.shapeFlag&32){const o=t._;o?r&&o===1?i=!1:(Dt(s,t),!r&&o===1&&delete s._):(i=!t.$stable,Wm(t,s)),a=t}else t&&(Ym(e,t),a={default:1});if(i)for(const o in s)!Gm(o)&&a[o]==null&&delete s[o]};function Cl(e,t,r,n,s=!1){if(Je(e)){e.forEach((S,D)=>Cl(S,t&&(Je(t)?t[D]:t),r,n,s));return}if(Zo(n)&&!s)return;const i=n.shapeFlag&4?mf(n.component)||n.component.proxy:n.el,a=s?null:i,{i:o,r:f}=e,c=t&&t.r,l=o.refs===xt?o.refs={}:o.refs,v=o.setupState;if(c!=null&&c!==f&&(Ot(c)?(l[c]=null,ut(v,c)&&(v[c]=null)):pr(c)&&(c.value=null)),et(f))Mi(f,o,12,[a,l]);else{const S=Ot(f),D=pr(f);if(S||D){const C=()=>{if(e.f){const q=S?ut(v,f)?v[f]:l[f]:f.value;s?Je(q)&&D0(q,i):Je(q)?q.includes(i)||q.push(i):S?(l[f]=[i],ut(v,f)&&(v[f]=l[f])):(f.value=[i],e.k&&(l[e.k]=f.value))}else S?(l[f]=a,ut(v,f)&&(v[f]=a)):D&&(f.value=a,e.k&&(l[e.k]=a))};a?(C.id=-1,vr(C,r)):C()}}}const vr=P4;function u5(e){return l5(e)}function l5(e,t){const r=sm();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:f,setText:c,setElementText:l,parentNode:v,nextSibling:S,setScopeId:D=Vr,insertStaticContent:C}=e,q=(j,J,te,R=null,_=null,E=null,L=void 0,V=null,ee=!!J.dynamicChildren)=>{if(j===J)return;j&&!Ns(j,J)&&(R=he(j),T(j,_,E,!0),j=null),J.patchFlag===-2&&(ee=!1,J.dynamicChildren=null);const{type:ie,ref:me,shapeFlag:ye}=J;switch(ie){case lf:H(j,J,te,R);break;case ti:Z(j,J,te,R);break;case vu:j==null&&W(J,te,R,L);break;case Nt:h(j,J,te,R,_,E,L,V,ee);break;default:ye&1?z(j,J,te,R,_,E,L,V,ee):ye&6?m(j,J,te,R,_,E,L,V,ee):(ye&64||ye&128)&&ie.process(j,J,te,R,_,E,L,V,ee,y)}me!=null&&_&&Cl(me,j&&j.ref,E,J||j,!J)},H=(j,J,te,R)=>{if(j==null)n(J.el=o(J.children),te,R);else{const _=J.el=j.el;J.children!==j.children&&c(_,J.children)}},Z=(j,J,te,R)=>{j==null?n(J.el=f(J.children||""),te,R):J.el=j.el},W=(j,J,te,R)=>{[j.el,j.anchor]=C(j.children,J,te,R,j.el,j.anchor)},K=({el:j,anchor:J},te,R)=>{let _;for(;j&&j!==J;)_=S(j),n(j,te,R),j=_;n(J,te,R)},B=({el:j,anchor:J})=>{let te;for(;j&&j!==J;)te=S(j),s(j),j=te;s(J)},z=(j,J,te,R,_,E,L,V,ee)=>{J.type==="svg"?L="svg":J.type==="math"&&(L="mathml"),j==null?P(J,te,R,_,E,L,V,ee):Y(j,J,_,E,L,V,ee)},P=(j,J,te,R,_,E,L,V)=>{let ee,ie;const{props:me,shapeFlag:ye,transition:ve,dirs:Se}=j;if(ee=j.el=a(j.type,E,me&&me.is,me),ye&8?l(ee,j.children):ye&16&&$(j.children,ee,null,R,_,yu(j,E),L,V),Se&&qi(j,null,R,"created"),g(ee,j,j.scopeId,L,R),me){for(const d in me)d!=="value"&&!Jo(d)&&i(ee,d,null,me[d],E,j.children,R,_,be);"value"in me&&i(ee,"value",null,me.value,E),(ie=me.onVnodeBeforeMount)&&dn(ie,R,j)}Se&&qi(j,null,R,"beforeMount");const M=d5(_,ve);M&&ve.beforeEnter(ee),n(ee,J,te),((ie=me&&me.onVnodeMounted)||M||Se)&&vr(()=>{ie&&dn(ie,R,j),M&&ve.enter(ee),Se&&qi(j,null,R,"mounted")},_)},g=(j,J,te,R,_)=>{if(te&&D(j,te),R)for(let E=0;E<R.length;E++)D(j,R[E]);if(_){let E=_.subTree;if(J===E){const L=_.vnode;g(j,L,L.scopeId,L.slotScopeIds,_.parent)}}},$=(j,J,te,R,_,E,L,V,ee=0)=>{for(let ie=ee;ie<j.length;ie++){const me=j[ie]=V?vi(j[ie]):mn(j[ie]);q(null,me,J,te,R,_,E,L,V)}},Y=(j,J,te,R,_,E,L)=>{const V=J.el=j.el;let{patchFlag:ee,dynamicChildren:ie,dirs:me}=J;ee|=j.patchFlag&16;const ye=j.props||xt,ve=J.props||xt;let Se;if(te&&Hi(te,!1),(Se=ve.onVnodeBeforeUpdate)&&dn(Se,te,J,j),me&&qi(J,j,te,"beforeUpdate"),te&&Hi(te,!0),ie?Q(j.dynamicChildren,ie,V,te,R,yu(J,_),E):L||O(j,J,V,null,te,R,yu(J,_),E,!1),ee>0){if(ee&16)G(V,J,ye,ve,te,R,_);else if(ee&2&&ye.class!==ve.class&&i(V,"class",null,ve.class,_),ee&4&&i(V,"style",ye.style,ve.style,_),ee&8){const M=J.dynamicProps;for(let d=0;d<M.length;d++){const b=M[d],U=ye[b],X=ve[b];(X!==U||b==="value")&&i(V,b,U,X,_,j.children,te,R,be)}}ee&1&&j.children!==J.children&&l(V,J.children)}else!L&&ie==null&&G(V,J,ye,ve,te,R,_);((Se=ve.onVnodeUpdated)||me)&&vr(()=>{Se&&dn(Se,te,J,j),me&&qi(J,j,te,"updated")},R)},Q=(j,J,te,R,_,E,L)=>{for(let V=0;V<J.length;V++){const ee=j[V],ie=J[V],me=ee.el&&(ee.type===Nt||!Ns(ee,ie)||ee.shapeFlag&70)?v(ee.el):te;q(ee,ie,me,null,R,_,E,L,!0)}},G=(j,J,te,R,_,E,L)=>{if(te!==R){if(te!==xt)for(const V in te)!Jo(V)&&!(V in R)&&i(j,V,te[V],null,L,J.children,_,E,be);for(const V in R){if(Jo(V))continue;const ee=R[V],ie=te[V];ee!==ie&&V!=="value"&&i(j,V,ie,ee,L,J.children,_,E,be)}"value"in R&&i(j,"value",te.value,R.value,L)}},h=(j,J,te,R,_,E,L,V,ee)=>{const ie=J.el=j?j.el:o(""),me=J.anchor=j?j.anchor:o("");let{patchFlag:ye,dynamicChildren:ve,slotScopeIds:Se}=J;Se&&(V=V?V.concat(Se):Se),j==null?(n(ie,te,R),n(me,te,R),$(J.children||[],te,me,_,E,L,V,ee)):ye>0&&ye&64&&ve&&j.dynamicChildren?(Q(j.dynamicChildren,ve,te,_,E,L,V),(J.key!=null||_&&J===_.subTree)&&Jm(j,J,!0)):O(j,J,te,me,_,E,L,V,ee)},m=(j,J,te,R,_,E,L,V,ee)=>{J.slotScopeIds=V,j==null?J.shapeFlag&512?_.ctx.activate(J,te,R,L,ee):u(J,te,R,_,E,L,ee):p(j,J,ee)},u=(j,J,te,R,_,E,L)=>{const V=j.component=w5(j,R,_);if(Um(j)&&(V.ctx.renderer=y),_5(V),V.asyncDep){if(_&&_.registerDep(V,A),!j.el){const ee=V.subTree=Wt(ti);Z(null,ee,J,te)}}else A(V,j,J,te,_,E,L)},p=(j,J,te)=>{const R=J.component=j.component;if(M4(j,J,te))if(R.asyncDep&&!R.asyncResolved){x(R,J,te);return}else R.next=J,E4(R.update),R.effect.dirty=!0,R.update();else J.el=j.el,R.vnode=J},A=(j,J,te,R,_,E,L)=>{const V=()=>{if(j.isMounted){let{next:me,bu:ye,u:ve,parent:Se,vnode:M}=j;{const se=Xm(j);if(se){me&&(me.el=M.el,x(j,me,L)),se.asyncDep.then(()=>{j.isUnmounted||V()});return}}let d=me,b;Hi(j,!1),me?(me.el=M.el,x(j,me,L)):me=M,ye&&hc(ye),(b=me.props&&me.props.onVnodeBeforeUpdate)&&dn(b,Se,me,M),Hi(j,!0);const U=gu(j),X=j.subTree;j.subTree=U,q(X,U,v(X.el),he(X),j,_,E),me.el=U.el,d===null&&C4(j,U.el),ve&&vr(ve,_),(b=me.props&&me.props.onVnodeUpdated)&&vr(()=>dn(b,Se,me,M),_)}else{let me;const{el:ye,props:ve}=J,{bm:Se,m:M,parent:d}=j,b=Zo(J);if(Hi(j,!1),Se&&hc(Se),!b&&(me=ve&&ve.onVnodeBeforeMount)&&dn(me,d,J),Hi(j,!0),ye&&re){const U=()=>{j.subTree=gu(j),re(ye,j.subTree,j,_,null)};b?J.type.__asyncLoader().then(()=>!j.isUnmounted&&U()):U()}else{const U=j.subTree=gu(j);q(null,U,te,R,j,_,E),J.el=U.el}if(M&&vr(M,_),!b&&(me=ve&&ve.onVnodeMounted)){const U=J;vr(()=>dn(me,d,U),_)}(J.shapeFlag&256||d&&Zo(d.vnode)&&d.vnode.shapeFlag&256)&&j.a&&vr(j.a,_),j.isMounted=!0,J=te=R=null}},ee=j.effect=new R0(V,Vr,()=>q0(ie),j.scope),ie=j.update=()=>{ee.dirty&&ee.run()};ie.id=j.uid,Hi(j,!0),ie()},x=(j,J,te)=>{J.component=j;const R=j.vnode.props;j.vnode=J,j.next=null,o5(j,J.props,R,te),f5(j,J.children,te),gs(),$h(j),ms()},O=(j,J,te,R,_,E,L,V,ee=!1)=>{const ie=j&&j.children,me=j?j.shapeFlag:0,ye=J.children,{patchFlag:ve,shapeFlag:Se}=J;if(ve>0){if(ve&128){w(ie,ye,te,R,_,E,L,V,ee);return}else if(ve&256){N(ie,ye,te,R,_,E,L,V,ee);return}}Se&8?(me&16&&be(ie,_,E),ye!==ie&&l(te,ye)):me&16?Se&16?w(ie,ye,te,R,_,E,L,V,ee):be(ie,_,E,!0):(me&8&&l(te,""),Se&16&&$(ye,te,R,_,E,L,V,ee))},N=(j,J,te,R,_,E,L,V,ee)=>{j=j||js,J=J||js;const ie=j.length,me=J.length,ye=Math.min(ie,me);let ve;for(ve=0;ve<ye;ve++){const Se=J[ve]=ee?vi(J[ve]):mn(J[ve]);q(j[ve],Se,te,null,_,E,L,V,ee)}ie>me?be(j,_,E,!0,!1,ye):$(J,te,R,_,E,L,V,ee,ye)},w=(j,J,te,R,_,E,L,V,ee)=>{let ie=0;const me=J.length;let ye=j.length-1,ve=me-1;for(;ie<=ye&&ie<=ve;){const Se=j[ie],M=J[ie]=ee?vi(J[ie]):mn(J[ie]);if(Ns(Se,M))q(Se,M,te,null,_,E,L,V,ee);else break;ie++}for(;ie<=ye&&ie<=ve;){const Se=j[ye],M=J[ve]=ee?vi(J[ve]):mn(J[ve]);if(Ns(Se,M))q(Se,M,te,null,_,E,L,V,ee);else break;ye--,ve--}if(ie>ye){if(ie<=ve){const Se=ve+1,M=Se<me?J[Se].el:R;for(;ie<=ve;)q(null,J[ie]=ee?vi(J[ie]):mn(J[ie]),te,M,_,E,L,V,ee),ie++}}else if(ie>ve)for(;ie<=ye;)T(j[ie],_,E,!0),ie++;else{const Se=ie,M=ie,d=new Map;for(ie=M;ie<=ve;ie++){const Ae=J[ie]=ee?vi(J[ie]):mn(J[ie]);Ae.key!=null&&d.set(Ae.key,ie)}let b,U=0;const X=ve-M+1;let se=!1,oe=0;const _e=new Array(X);for(ie=0;ie<X;ie++)_e[ie]=0;for(ie=Se;ie<=ye;ie++){const Ae=j[ie];if(U>=X){T(Ae,_,E,!0);continue}let Me;if(Ae.key!=null)Me=d.get(Ae.key);else for(b=M;b<=ve;b++)if(_e[b-M]===0&&Ns(Ae,J[b])){Me=b;break}Me===void 0?T(Ae,_,E,!0):(_e[Me-M]=ie+1,Me>=oe?oe=Me:se=!0,q(Ae,J[Me],te,null,_,E,L,V,ee),U++)}const xe=se?h5(_e):js;for(b=xe.length-1,ie=X-1;ie>=0;ie--){const Ae=M+ie,Me=J[Ae],De=Ae+1<me?J[Ae+1].el:R;_e[ie]===0?q(null,Me,te,De,_,E,L,V,ee):se&&(b<0||ie!==xe[b]?I(Me,te,De,2):b--)}}},I=(j,J,te,R,_=null)=>{const{el:E,type:L,transition:V,children:ee,shapeFlag:ie}=j;if(ie&6){I(j.component.subTree,J,te,R);return}if(ie&128){j.suspense.move(J,te,R);return}if(ie&64){L.move(j,J,te,y);return}if(L===Nt){n(E,J,te);for(let ye=0;ye<ee.length;ye++)I(ee[ye],J,te,R);n(j.anchor,J,te);return}if(L===vu){K(j,J,te);return}if(R!==2&&ie&1&&V)if(R===0)V.beforeEnter(E),n(E,J,te),vr(()=>V.enter(E),_);else{const{leave:ye,delayLeave:ve,afterLeave:Se}=V,M=()=>n(E,J,te),d=()=>{ye(E,()=>{M(),Se&&Se()})};ve?ve(E,M,d):d()}else n(E,J,te)},T=(j,J,te,R=!1,_=!1)=>{const{type:E,props:L,ref:V,children:ee,dynamicChildren:ie,shapeFlag:me,patchFlag:ye,dirs:ve}=j;if(V!=null&&Cl(V,null,te,j,!0),me&256){J.ctx.deactivate(j);return}const Se=me&1&&ve,M=!Zo(j);let d;if(M&&(d=L&&L.onVnodeBeforeUnmount)&&dn(d,J,j),me&6)fe(j.component,te,R);else{if(me&128){j.suspense.unmount(te,R);return}Se&&qi(j,null,J,"beforeUnmount"),me&64?j.type.remove(j,J,te,_,y,R):ie&&(E!==Nt||ye>0&&ye&64)?be(ie,J,te,!1,!0):(E===Nt&&ye&384||!_&&me&16)&&be(ee,J,te),R&&k(j)}(M&&(d=L&&L.onVnodeUnmounted)||Se)&&vr(()=>{d&&dn(d,J,j),Se&&qi(j,null,J,"unmounted")},te)},k=j=>{const{type:J,el:te,anchor:R,transition:_}=j;if(J===Nt){ce(te,R);return}if(J===vu){B(j);return}const E=()=>{s(te),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(j.shapeFlag&1&&_&&!_.persisted){const{leave:L,delayLeave:V}=_,ee=()=>L(te,E);V?V(j.el,E,ee):ee()}else E()},ce=(j,J)=>{let te;for(;j!==J;)te=S(j),s(j),j=te;s(J)},fe=(j,J,te)=>{const{bum:R,scope:_,update:E,subTree:L,um:V}=j;R&&hc(R),_.stop(),E&&(E.active=!1,T(L,j,J,te)),V&&vr(V,J),vr(()=>{j.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},be=(j,J,te,R=!1,_=!1,E=0)=>{for(let L=E;L<j.length;L++)T(j[L],J,te,R,_)},he=j=>j.shapeFlag&6?he(j.component.subTree):j.shapeFlag&128?j.suspense.next():S(j.anchor||j.el);let pe=!1;const le=(j,J,te)=>{j==null?J._vnode&&T(J._vnode,null,null,!0):q(J._vnode||null,j,J,null,null,null,te),pe||(pe=!0,$h(),Mm(),pe=!1),J._vnode=j},y={p:q,um:T,m:I,r:k,mt:u,mc:$,pc:O,pbc:Q,n:he,o:e};let F,re;return t&&([F,re]=t(y)),{render:le,hydrate:F,createApp:n5(le,F)}}function yu({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Hi({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function d5(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jm(e,t,r=!1){const n=e.children,s=t.children;if(Je(n)&&Je(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=vi(s[i]),o.el=a.el),r||Jm(a,o)),o.type===lf&&(o.el=a.el)}}function h5(e){const t=e.slice(),r=[0];let n,s,i,a,o;const f=e.length;for(n=0;n<f;n++){const c=e[n];if(c!==0){if(s=r[r.length-1],e[s]<c){t[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,e[r[o]]<c?i=o+1:a=o;c<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}function Xm(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xm(t)}const p5=e=>e.__isTeleport,Nt=Symbol.for("v-fgt"),lf=Symbol.for("v-txt"),ti=Symbol.for("v-cmt"),vu=Symbol.for("v-stc"),ra=[];let sn=null;function at(e=!1){ra.push(sn=e?null:[])}function g5(){ra.pop(),sn=ra[ra.length-1]||null}let ha=1;function Gh(e){ha+=e}function Zm(e){return e.dynamicChildren=ha>0?sn||js:null,g5(),ha>0&&sn&&sn.push(e),e}function St(e,t,r,n,s,i){return Zm(bt(e,t,r,n,s,i,!0))}function vn(e,t,r,n,s){return Zm(Wt(e,t,r,n,s,!0))}function Qm(e){return e?e.__v_isVNode===!0:!1}function Ns(e,t){return e.type===t.type&&e.key===t.key}const df="__vInternal",eb=({key:e})=>e??null,gc=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||pr(e)||et(e)?{i:Bt,r:e,k:t,f:!!r}:e:null);function bt(e,t=null,r=null,n=0,s=null,i=e===Nt?0:1,a=!1,o=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&eb(t),ref:t&&gc(t),scopeId:Pm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Bt};return o?(W0(f,r),i&128&&e.normalize(f)):r&&(f.shapeFlag|=Ot(r)?8:16),ha>0&&!a&&sn&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&sn.push(f),f}const Wt=m5;function m5(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Dm)&&(e=ti),Qm(e)){const o=hs(e,t,!0);return r&&W0(o,r),ha>0&&!i&&sn&&(o.shapeFlag&6?sn[sn.indexOf(e)]=o:sn.push(o)),o.patchFlag|=-2,o}if(I5(e)&&(e=e.__vccOpts),t){t=b5(t);let{class:o,style:f}=t;o&&!Ot(o)&&(t.class=An(o)),At(f)&&(wm(f)&&!Je(f)&&(f=Dt({},f)),t.style=Aa(f))}const a=Ot(e)?1:O4(e)?128:p5(e)?64:At(e)?4:et(e)?2:0;return bt(e,t,r,n,s,a,i,!0)}function b5(e){return e?wm(e)||df in e?Dt({},e):e:null}function hs(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:a}=e,o=t?pf(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&eb(o),ref:t&&t.ref?r&&s?Je(s)?s.concat(gc(t)):[s,gc(t)]:gc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hs(e.ssContent),ssFallback:e.ssFallback&&hs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function hf(e=" ",t=0){return Wt(lf,null,e,t)}function _i(e="",t=!1){return t?(at(),vn(ti,null,e)):Wt(ti,null,e)}function mn(e){return e==null||typeof e=="boolean"?Wt(ti):Je(e)?Wt(Nt,null,e.slice()):typeof e=="object"?vi(e):Wt(lf,null,String(e))}function vi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hs(e)}function W0(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Je(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),W0(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(df in t)?t._ctx=Bt:s===3&&Bt&&(Bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else et(t)?(t={default:t,_ctx:Bt},r=32):(t=String(t),n&64?(r=16,t=[hf(t)]):r=8);e.children=t,e.shapeFlag|=r}function pf(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=An([t.class,n.class]));else if(s==="style")t.style=Aa([t.style,n.style]);else if(rf(s)){const i=t[s],a=n[s];a&&i!==a&&!(Je(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=n[s])}return t}function dn(e,t,r,n=null){Kr(e,t,7,[r,n])}const y5=zm();let v5=0;function w5(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||y5,i={uid:v5++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new G3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Km(n,s),emitsOptions:Om(n,s),emit:null,emitted:null,propsDefaults:xt,inheritAttrs:n.inheritAttrs,ctx:xt,data:xt,props:xt,attrs:xt,slots:xt,refs:xt,setupState:xt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=A4.bind(null,i),e.ce&&e.ce(i),i}let Yt=null;const tb=()=>Yt||Bt;let Pc,Ol;{const e=sm(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Pc=t("__VUE_INSTANCE_SETTERS__",r=>Yt=r),Ol=t("__VUE_SSR_SETTERS__",r=>gf=r)}const Ma=e=>{const t=Yt;return Pc(e),e.scope.on(),()=>{e.scope.off(),Pc(t)}},Wh=()=>{Yt&&Yt.scope.off(),Pc(null)};function rb(e){return e.vnode.shapeFlag&4}let gf=!1;function _5(e,t=!1){t&&Ol(t);const{props:r,children:n}=e.vnode,s=rb(e);s5(e,r,s,t),c5(e,n);const i=s?E5(e,t):void 0;return t&&Ol(!1),i}function E5(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=_m(new Proxy(e.ctx,J4));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?S5(e):null,i=Ma(e);gs();const a=Mi(n,e,0,[e.props,s]);if(ms(),i(),rm(a)){if(a.then(Wh,Wh),t)return a.then(o=>{Yh(e,o,t)}).catch(o=>{cf(o,e,0)});e.asyncDep=a}else Yh(e,a,t)}else nb(e,t)}function Yh(e,t,r){et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:At(t)&&(e.setupState=Sm(t)),nb(e,r)}let Jh;function nb(e,t,r){const n=e.type;if(!e.render){if(!t&&Jh&&!n.render){const s=n.template||K0(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:f}=n,c=Dt(Dt({isCustomElement:i,delimiters:o},a),f);n.render=Jh(s,c)}}e.render=n.render||Vr}{const s=Ma(e);gs();try{X4(e)}finally{ms(),s()}}}function x5(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Er(e,"get","$attrs"),t[r]}}))}function S5(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return x5(e)},slots:e.slots,emit:e.emit,expose:t}}function mf(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Sm(_m(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Qo)return Qo[r](e)},has(t,r){return r in t||r in Qo}}))}function A5(e,t=!0){return et(e)?e.displayName||e.name:e.name||t&&e.__name}function I5(e){return et(e)&&"__vccOpts"in e}const T5=(e,t)=>m4(e,t,gf),M5="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const C5="http://www.w3.org/2000/svg",O5="http://www.w3.org/1998/Math/MathML",wi=typeof document<"u"?document:null,Xh=wi&&wi.createElement("template"),P5={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t==="svg"?wi.createElementNS(C5,e):t==="mathml"?wi.createElementNS(O5,e):wi.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>wi.createTextNode(e),createComment:e=>wi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const a=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Xh.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const o=Xh.content;if(n==="svg"||n==="mathml"){const f=o.firstChild;for(;f.firstChild;)o.appendChild(f.firstChild);o.removeChild(f)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},di="transition",Oo="animation",Ws=Symbol("_vtc"),ib={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D5=Dt({},U4,ib),zi=(e,t=[])=>{Je(e)?e.forEach(r=>r(...t)):e&&e(...t)},Zh=e=>e?Je(e)?e.some(t=>t.length>1):e.length>1:!1;function N5(e){const t={};for(const h in e)h in ib||(t[h]=e[h]);if(e.css===!1)return t;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:f=i,appearActiveClass:c=a,appearToClass:l=o,leaveFromClass:v=`${r}-leave-from`,leaveActiveClass:S=`${r}-leave-active`,leaveToClass:D=`${r}-leave-to`}=e,C=R5(s),q=C&&C[0],H=C&&C[1],{onBeforeEnter:Z,onEnter:W,onEnterCancelled:K,onLeave:B,onLeaveCancelled:z,onBeforeAppear:P=Z,onAppear:g=W,onAppearCancelled:$=K}=t,Y=(h,m,u)=>{bi(h,m?l:o),bi(h,m?c:a),u&&u()},Q=(h,m)=>{h._isLeaving=!1,bi(h,v),bi(h,D),bi(h,S),m&&m()},G=h=>(m,u)=>{const p=h?g:W,A=()=>Y(m,h,u);zi(p,[m,A]),Qh(()=>{bi(m,h?f:i),Kn(m,h?l:o),Zh(p)||ep(m,n,q,A)})};return Dt(t,{onBeforeEnter(h){zi(Z,[h]),Kn(h,i),Kn(h,a)},onBeforeAppear(h){zi(P,[h]),Kn(h,f),Kn(h,c)},onEnter:G(!1),onAppear:G(!0),onLeave(h,m){h._isLeaving=!0;const u=()=>Q(h,m);Kn(h,v),ob(),Kn(h,S),Qh(()=>{h._isLeaving&&(bi(h,v),Kn(h,D),Zh(B)||ep(h,n,H,u))}),zi(B,[h,u])},onEnterCancelled(h){Y(h,!1),zi(K,[h])},onAppearCancelled(h){Y(h,!0),zi($,[h])},onLeaveCancelled(h){Q(h),zi(z,[h])}})}function R5(e){if(e==null)return null;if(At(e))return[wu(e.enter),wu(e.leave)];{const t=wu(e);return[t,t]}}function wu(e){return k3(e)}function Kn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Ws]||(e[Ws]=new Set)).add(t)}function bi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Ws];r&&(r.delete(t),r.size||(e[Ws]=void 0))}function Qh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let B5=0;function ep(e,t,r,n){const s=e._endId=++B5,i=()=>{s===e._endId&&n()};if(r)return setTimeout(i,r);const{type:a,timeout:o,propCount:f}=sb(e,t);if(!a)return n();const c=a+"end";let l=0;const v=()=>{e.removeEventListener(c,S),i()},S=D=>{D.target===e&&++l>=f&&v()};setTimeout(()=>{l<f&&v()},o+1),e.addEventListener(c,S)}function sb(e,t){const r=window.getComputedStyle(e),n=C=>(r[C]||"").split(", "),s=n(`${di}Delay`),i=n(`${di}Duration`),a=tp(s,i),o=n(`${Oo}Delay`),f=n(`${Oo}Duration`),c=tp(o,f);let l=null,v=0,S=0;t===di?a>0&&(l=di,v=a,S=i.length):t===Oo?c>0&&(l=Oo,v=c,S=f.length):(v=Math.max(a,c),l=v>0?a>c?di:Oo:null,S=l?l===di?i.length:f.length:0);const D=l===di&&/\b(transform|all)(,|$)/.test(n(`${di}Property`).toString());return{type:l,timeout:v,propCount:S,hasTransform:D}}function tp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>rp(r)+rp(e[n])))}function rp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ob(){return document.body.offsetHeight}function $5(e,t,r){const n=e[Ws];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const np=Symbol("_vod"),U5=Symbol(""),L5=/(^|;)\s*display\s*:/;function F5(e,t,r){const n=e.style,s=Ot(r),i=n.display;let a=!1;if(r&&!s){if(t&&!Ot(t))for(const o in t)r[o]==null&&Pl(n,o,"");for(const o in r)o==="display"&&(a=!0),Pl(n,o,r[o])}else if(s){if(t!==r){const o=n[U5];o&&(r+=";"+o),n.cssText=r,a=L5.test(r)}}else t&&e.removeAttribute("style");np in e&&(e[np]=a?n.display:"",n.display=i)}const ip=/\s*!important$/;function Pl(e,t,r){if(Je(r))r.forEach(n=>Pl(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=k5(e,t);ip.test(r)?e.setProperty(co(n),r.replace(ip,""),"important"):e[n]=r}}const sp=["Webkit","Moz","ms"],_u={};function k5(e,t){const r=_u[t];if(r)return r;let n=Sn(t);if(n!=="filter"&&n in e)return _u[t]=n;n=of(n);for(let s=0;s<sp.length;s++){const i=sp[s]+n;if(i in e)return _u[t]=i}return t}const op="http://www.w3.org/1999/xlink";function j5(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(op,t.slice(6,t.length)):e.setAttributeNS(op,t,r);else{const i=K3(t);r==null||i&&!om(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function q5(e,t,r,n,s,i,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,s,i),e[t]=r??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=r;const c=o==="OPTION"?e.getAttribute("value"):e.value,l=r??"";c!==l&&(e.value=l),r==null&&e.removeAttribute(t);return}let f=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=om(r):r==null&&c==="string"?(r="",f=!0):c==="number"&&(r=0,f=!0)}try{e[t]=r}catch{}f&&e.removeAttribute(t)}function Rs(e,t,r,n){e.addEventListener(t,r,n)}function H5(e,t,r,n){e.removeEventListener(t,r,n)}const ap=Symbol("_vei");function z5(e,t,r,n,s=null){const i=e[ap]||(e[ap]={}),a=i[t];if(n&&a)a.value=n;else{const[o,f]=V5(t);if(n){const c=i[t]=W5(n,s);Rs(e,o,c,f)}else a&&(H5(e,o,a,f),i[t]=void 0)}}const cp=/(?:Once|Passive|Capture)$/;function V5(e){let t;if(cp.test(e)){t={};let n;for(;n=e.match(cp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):co(e.slice(2)),t]}let Eu=0;const K5=Promise.resolve(),G5=()=>Eu||(K5.then(()=>Eu=0),Eu=Date.now());function W5(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Kr(Y5(n,r.value),t,5,[n])};return r.value=e,r.attached=G5(),r}function Y5(e,t){if(Je(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const fp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,J5=(e,t,r,n,s,i,a,o,f)=>{const c=s==="svg";t==="class"?$5(e,n,c):t==="style"?F5(e,r,n):rf(t)?P0(t)||z5(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):X5(e,t,n,c))?q5(e,t,n,i,a,o,f):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),j5(e,t,n,c))};function X5(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&fp(t)&&et(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return fp(t)&&Ot(r)?!1:t in e}const ab=new WeakMap,cb=new WeakMap,Dc=Symbol("_moveCb"),up=Symbol("_enterCb"),fb={name:"TransitionGroup",props:Dt({},D5,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=tb(),n=$4();let s,i;return Fm(()=>{if(!s.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!n8(s[0].el,r.vnode.el,a))return;s.forEach(e8),s.forEach(t8);const o=s.filter(r8);ob(),o.forEach(f=>{const c=f.el,l=c.style;Kn(c,a),l.transform=l.webkitTransform=l.transitionDuration="";const v=c[Dc]=S=>{S&&S.target!==c||(!S||/transform$/.test(S.propertyName))&&(c.removeEventListener("transitionend",v),c[Dc]=null,bi(c,a))};c.addEventListener("transitionend",v)})}),()=>{const a=lt(e),o=N5(a);let f=a.tag||Nt;s=i,i=t.default?$m(t.default()):[];for(let c=0;c<i.length;c++){const l=i[c];l.key!=null&&Sl(l,xl(l,o,n,r))}if(s)for(let c=0;c<s.length;c++){const l=s[c];Sl(l,xl(l,o,n,r)),ab.set(l,l.el.getBoundingClientRect())}return Wt(f,null,i)}}},Z5=e=>delete e.mode;fb.props;const Q5=fb;function e8(e){const t=e.el;t[Dc]&&t[Dc](),t[up]&&t[up]()}function t8(e){cb.set(e,e.el.getBoundingClientRect())}function r8(e){const t=ab.get(e),r=cb.get(e),n=t.left-r.left,s=t.top-r.top;if(n||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",e}}function n8(e,t,r){const n=e.cloneNode(),s=e[Ws];s&&s.forEach(o=>{o.split(/\s+/).forEach(f=>f&&n.classList.remove(f))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:a}=sb(n);return i.removeChild(n),a}const lp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Je(t)?r=>hc(t,r):t};function i8(e){e.target.composing=!0}function dp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xu=Symbol("_assign"),s8={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e[xu]=lp(s);const i=n||s.props&&s.props.type==="number";Rs(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;r&&(o=o.trim()),i&&(o=bl(o)),e[xu](o)}),r&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",i8),Rs(e,"compositionend",dp),Rs(e,"change",dp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:s}},i){if(e[xu]=lp(i),e.composing)return;const a=s||e.type==="number"?bl(e.value):e.value,o=t??"";a!==o&&(document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===o)||(e.value=o))}},o8=["ctrl","shift","alt","meta"],a8={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>o8.some(r=>e[`${r}Key`]&&!t.includes(r))},ub=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(s,...i)=>{for(let a=0;a<t.length;a++){const o=a8[t[a]];if(o&&o(s,t))return}return e(s,...i)})},c8=Dt({patchProp:J5},P5);let hp;function f8(){return hp||(hp=u5(c8))}const lb=(...e)=>{const t=f8().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=l8(n);if(!s)return;const i=t._component;!et(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=r(s,!1,u8(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function u8(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function l8(e){return Ot(e)?document.querySelector(e):e}var d8=Object.defineProperty,pp=Object.getOwnPropertySymbols,h8=Object.prototype.hasOwnProperty,p8=Object.prototype.propertyIsEnumerable,gp=(e,t,r)=>t in e?d8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,db=(e,t)=>{for(var r in t||(t={}))h8.call(t,r)&&gp(e,r,t[r]);if(pp)for(var r of pp(t))p8.call(t,r)&&gp(e,r,t[r]);return e},bf=e=>typeof e=="function",yf=e=>typeof e=="string",hb=e=>yf(e)&&e.trim().length>0,g8=e=>typeof e=="number",is=e=>typeof e>"u",pa=e=>typeof e=="object"&&e!==null,m8=e=>wn(e,"tag")&&hb(e.tag),pb=e=>window.TouchEvent&&e instanceof TouchEvent,gb=e=>wn(e,"component")&&mb(e.component),b8=e=>bf(e)||pa(e),mb=e=>!is(e)&&(yf(e)||b8(e)||gb(e)),mp=e=>pa(e)&&["height","width","right","left","top","bottom"].every(t=>g8(e[t])),wn=(e,t)=>(pa(e)||bf(e))&&t in e,y8=(e=>()=>e++)(0);function Su(e){return pb(e)?e.targetTouches[0].clientX:e.clientX}function bp(e){return pb(e)?e.targetTouches[0].clientY:e.clientY}var v8=e=>{is(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},Ca=e=>gb(e)?Ca(e.component):m8(e)?Cn({render(){return e}}):typeof e=="string"?e:lt(Kt(e)),w8=e=>{if(typeof e=="string")return e;const t=wn(e,"props")&&pa(e.props)?e.props:{},r=wn(e,"listeners")&&pa(e.listeners)?e.listeners:{};return{component:Ca(e),props:t,listeners:r}},_8=()=>typeof window<"u",Y0=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(n=>n(t))}},E8=e=>["on","off","emit"].every(t=>wn(e,t)&&bf(e[t])),Pr;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(Pr||(Pr={}));var Nc;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(Nc||(Nc={}));var Dr;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Dr||(Dr={}));var on="Vue-Toastification",nn={type:{type:String,default:Pr.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},bb={type:nn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},mc={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:nn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Dl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},yb={transition:{type:[Object,String],default:`${on}__bounce`}},x8={position:{type:String,default:Nc.TOP_RIGHT},draggable:nn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:nn.trueBoolean,pauseOnHover:nn.trueBoolean,closeOnClick:nn.trueBoolean,timeout:Dl.timeout,hideProgressBar:Dl.hideProgressBar,toastClassName:nn.classNames,bodyClassName:nn.classNames,icon:bb.customIcon,closeButton:mc.component,closeButtonClassName:mc.classNames,showCloseButtonOnHover:mc.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Y0}},S8={id:{type:[String,Number],required:!0,default:0},type:nn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},A8={container:{type:[Object,Function],default:()=>document.body},newestOnTop:nn.trueBoolean,maxToasts:{type:Number,default:20},transition:yb.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:nn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Zn={CORE_TOAST:x8,TOAST:S8,CONTAINER:A8,PROGRESS_BAR:Dl,ICON:bb,TRANSITION:yb,CLOSE_BUTTON:mc},vb=Cn({name:"VtProgressBar",props:Zn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${on}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function I8(e,t){return at(),St("div",{style:Aa(e.style),class:An(e.cpClass)},null,6)}vb.render=I8;var T8=vb,wb=Cn({name:"VtCloseButton",props:Zn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Ca(this.component):"button"},classes(){const e=[`${on}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),M8=hf("  ");function C8(e,t){return at(),vn(z0(e.buttonComponent),pf({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Ta(()=>[M8]),_:1},16,["aria-label","class"])}wb.render=C8;var O8=wb,_b={},P8={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},D8=bt("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),N8=[D8];function R8(e,t){return at(),St("svg",P8,N8)}_b.render=R8;var B8=_b,Eb={},$8={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},U8=bt("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),L8=[U8];function F8(e,t){return at(),St("svg",$8,L8)}Eb.render=F8;var yp=Eb,xb={},k8={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},j8=bt("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),q8=[j8];function H8(e,t){return at(),St("svg",k8,q8)}xb.render=H8;var z8=xb,Sb={},V8={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},K8=bt("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),G8=[K8];function W8(e,t){return at(),St("svg",V8,G8)}Sb.render=W8;var Y8=Sb,Ab=Cn({name:"VtIcon",props:Zn.ICON,computed:{customIconChildren(){return wn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return yf(this.customIcon)?this.trimValue(this.customIcon):wn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return wn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:mb(this.customIcon)?Ca(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Pr.DEFAULT]:yp,[Pr.INFO]:yp,[Pr.SUCCESS]:B8,[Pr.ERROR]:Y8,[Pr.WARNING]:z8}[this.type]},iconClasses(){const e=[`${on}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return hb(e)?e.trim():t}}});function J8(e,t){return at(),vn(z0(e.component),{class:An(e.iconClasses)},{default:Ta(()=>[hf(fa(e.customIconChildren),1)]),_:1},8,["class"])}Ab.render=J8;var X8=Ab,Ib=Cn({name:"VtToast",components:{ProgressBar:T8,CloseButton:O8,Icon:X8},inheritAttrs:!1,props:Object.assign({},Zn.CORE_TOAST,Zn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${on}__toast`,`${on}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${on}__toast--rtl`),e},bodyClasses(){return[`${on}__toast-${yf(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return mp(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:wn,getVueComponentFromObj:Ca,closeToast(){this.eventBus.emit(Dr.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Su(e),y:bp(e)},this.dragStart=Su(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Su(e),y:bp(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,mp(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Z8=["role"];function Q8(e,t){const r=Xo("Icon"),n=Xo("CloseButton"),s=Xo("ProgressBar");return at(),St("div",{class:An(e.classes),style:Aa(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(at(),vn(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):_i("v-if",!0),bt("div",{role:e.accessibility.toastRole||"alert",class:An(e.bodyClasses)},[typeof e.content=="string"?(at(),St(Nt,{key:0},[hf(fa(e.content),1)],2112)):(at(),vn(z0(e.getVueComponentFromObj(e.content)),pf({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Y4(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Z8),e.closeButton?(at(),vn(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:ub(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):_i("v-if",!0),e.timeout?(at(),vn(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):_i("v-if",!0)],38)}Ib.render=Q8;var eE=Ib,Tb=Cn({name:"VtTransition",props:Zn.TRANSITION,emits:["leave"],methods:{hasProp:wn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function tE(e,t){return at(),vn(Q5,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:Ta(()=>[W4(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Tb.render=tE;var rE=Tb,Mb=Cn({name:"VueToastification",devtools:{hide:!0},components:{Toast:eE,VtTransition:rE},props:Object.assign({},Zn.CORE_TOAST,Zn.CONTAINER,Zn.TRANSITION),data(){return{count:0,positions:Object.values(Nc),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Dr.ADD,this.addToast),e.on(Dr.CLEAR,this.clearToasts),e.on(Dr.DISMISS,this.dismissToast),e.on(Dr.UPDATE,this.updateToast),e.on(Dr.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){bf(e)&&(e=await e()),v8(this.$el),e.appendChild(this.$el)},setToast(e){is(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=w8(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];!is(t)&&!is(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(r=>r.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){is(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${on}__container`,e].concat(this.defaults.containerClassName)}}});function nE(e,t){const r=Xo("Toast"),n=Xo("VtTransition");return at(),St("div",null,[(at(!0),St(Nt,null,Cc(e.positions,s=>(at(),St("div",{key:s},[Wt(n,{transition:e.defaults.transition,class:An(e.getClasses(s))},{default:Ta(()=>[(at(!0),St(Nt,null,Cc(e.getPositionToasts(s),i=>(at(),vn(r,pf({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Mb.render=nE;var iE=Mb,vp=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new Y0;t&&Im(()=>{const i=lb(iE,db({},e)),a=i.mount(document.createElement("div")),o=e.onMounted;if(is(o)||o(a,i),e.shareAppContext){const f=e.shareAppContext;f===!0?console.warn(`[${on}] App to share context with was not provided.`):(i._context.components=f._context.components,i._context.directives=f._context.directives,i._context.mixins=f._context.mixins,i._context.provides=f._context.provides,i.config.globalProperties=f.config.globalProperties)}});const n=(i,a)=>{const o=Object.assign({},{id:y8(),type:Pr.DEFAULT},a,{content:i});return r.emit(Dr.ADD,o),o.id};n.clear=()=>r.emit(Dr.CLEAR,void 0),n.updateDefaults=i=>{r.emit(Dr.UPDATE_DEFAULTS,i)},n.dismiss=i=>{r.emit(Dr.DISMISS,i)};function s(i,{content:a,options:o},f=!1){const c=Object.assign({},o,{content:a});r.emit(Dr.UPDATE,{id:i,options:c,create:f})}return n.update=s,n.success=(i,a)=>n(i,Object.assign({},a,{type:Pr.SUCCESS})),n.info=(i,a)=>n(i,Object.assign({},a,{type:Pr.INFO})),n.error=(i,a)=>n(i,Object.assign({},a,{type:Pr.ERROR})),n.warning=(i,a)=>n(i,Object.assign({},a,{type:Pr.WARNING})),n},sE=()=>{const e=()=>console.warn(`[${on}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Nl(e){return _8()?E8(e)?vp({eventBus:e},!1):vp(e,!0):sE()}var Cb=Symbol("VueToastification"),Ob=new Y0,oE=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const r=Nl(db({eventBus:Ob},t));e.provide(Cb,r)},J0=e=>{if(e)return Nl(e);const t=tb()?ta(Cb,void 0):void 0;return t||Nl(Ob)},aE=oE;const Rc=["Popcorn","Banana","Beer","Bread","Hot Dog","Lollipop","Milk","Candy","Taco","Cheese","Chicken","Soda","Chips","Coffee","Pie","Donut","Eggs","Fries","Hamburger","Pizza"],X0=["popcorn","bananas","beer","bread-slice","hot-dog","lollipop","milk","candy","taco","cheese","chicken","soda","chips","coffee","pie","donut","egg","fries","hamburger","pizza"];var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ar(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Au={},Iu={},Po={},Tu={},Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_GAS_ALPH_AMOUNT=e.DEFAULT_GAS_ATTOALPH_AMOUNT=e.DEFAULT_GAS_PRICE=e.DEFAULT_GAS_AMOUNT=e.ZERO_ADDRESS=e.DUST_AMOUNT=e.ONE_ALPH=e.ALPH_TOKEN_ID=e.MIN_UTXO_SET_AMOUNT=e.TOTAL_NUMBER_OF_CHAINS=e.TOTAL_NUMBER_OF_GROUPS=void 0,e.TOTAL_NUMBER_OF_GROUPS=4,e.TOTAL_NUMBER_OF_CHAINS=e.TOTAL_NUMBER_OF_GROUPS*e.TOTAL_NUMBER_OF_GROUPS,e.MIN_UTXO_SET_AMOUNT=BigInt(1e12),e.ALPH_TOKEN_ID="".padStart(64,"0"),e.ONE_ALPH=10n**18n,e.DUST_AMOUNT=10n**15n,e.ZERO_ADDRESS="tgx7VNFoP9DJiFMFgXXtafQZkUvyEdDHT9ryamHJYrjq",e.DEFAULT_GAS_AMOUNT=2e4,e.DEFAULT_GAS_PRICE=10n**11n,e.DEFAULT_GAS_ATTOALPH_AMOUNT=BigInt(e.DEFAULT_GAS_AMOUNT)*e.DEFAULT_GAS_PRICE,e.DEFAULT_GAS_ALPH_AMOUNT=.002})(Pa);var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.disableDebugMode=Qn.enableDebugMode=Qn.isDebugModeEnabled=void 0;let Z0=!1;function cE(){return Z0}Qn.isDebugModeEnabled=cE;function fE(){Z0=!0}Qn.enableDebugMode=fE;function uE(){Z0=!1}Qn.disableDebugMode=uE;var Mu={},vf={},fo={},Da={};Da.byteLength=hE;Da.toByteArray=gE;Da.fromByteArray=yE;var yn=[],jr=[],lE=typeof Uint8Array<"u"?Uint8Array:Array,Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ps=0,dE=Cu.length;Ps<dE;++Ps)yn[Ps]=Cu[Ps],jr[Cu.charCodeAt(Ps)]=Ps;jr[45]=62;jr[95]=63;function Pb(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function hE(e){var t=Pb(e),r=t[0],n=t[1];return(r+n)*3/4-n}function pE(e,t,r){return(t+r)*3/4-r}function gE(e){var t,r=Pb(e),n=r[0],s=r[1],i=new lE(pE(e,n,s)),a=0,o=s>0?n-4:n,f;for(f=0;f<o;f+=4)t=jr[e.charCodeAt(f)]<<18|jr[e.charCodeAt(f+1)]<<12|jr[e.charCodeAt(f+2)]<<6|jr[e.charCodeAt(f+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=t&255;return s===2&&(t=jr[e.charCodeAt(f)]<<2|jr[e.charCodeAt(f+1)]>>4,i[a++]=t&255),s===1&&(t=jr[e.charCodeAt(f)]<<10|jr[e.charCodeAt(f+1)]<<4|jr[e.charCodeAt(f+2)]>>2,i[a++]=t>>8&255,i[a++]=t&255),i}function mE(e){return yn[e>>18&63]+yn[e>>12&63]+yn[e>>6&63]+yn[e&63]}function bE(e,t,r){for(var n,s=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(mE(n));return s.join("")}function yE(e){for(var t,r=e.length,n=r%3,s=[],i=16383,a=0,o=r-n;a<o;a+=i)s.push(bE(e,a,a+i>o?o:a+i));return n===1?(t=e[r-1],s.push(yn[t>>2]+yn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(yn[t>>10]+yn[t>>4&63]+yn[t<<2&63]+"=")),s.join("")}var wf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wf.read=function(e,t,r,n,s){var i,a,o=s*8-n-1,f=(1<<o)-1,c=f>>1,l=-7,v=r?s-1:0,S=r?-1:1,D=e[t+v];for(v+=S,i=D&(1<<-l)-1,D>>=-l,l+=o;l>0;i=i*256+e[t+v],v+=S,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=a*256+e[t+v],v+=S,l-=8);if(i===0)i=1-c;else{if(i===f)return a?NaN:(D?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-c}return(D?-1:1)*a*Math.pow(2,i-n)};wf.write=function(e,t,r,n,s,i){var a,o,f,c=i*8-s-1,l=(1<<c)-1,v=l>>1,S=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=n?0:i-1,C=n?1:-1,q=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+v>=1?t+=S/f:t+=S*Math.pow(2,1-v),t*f>=2&&(a++,f/=2),a+v>=l?(o=0,a=l):a+v>=1?(o=(t*f-1)*Math.pow(2,s),a=a+v):(o=t*Math.pow(2,v-1)*Math.pow(2,s),a=0));s>=8;e[r+D]=o&255,D+=C,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;e[r+D]=a&255,D+=C,a/=256,c-=8);e[r+D-C]|=q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Da,r=wf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=W,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const M=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(M,d),M.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(M){if(M>s)throw new RangeError('The value "'+M+'" is invalid for option "size"');const d=new Uint8Array(M);return Object.setPrototypeOf(d,o.prototype),d}function o(M,d,b){if(typeof M=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(M)}return f(M,d,b)}o.poolSize=8192;function f(M,d,b){if(typeof M=="string")return S(M,d);if(ArrayBuffer.isView(M))return C(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(ie(M,ArrayBuffer)||M&&ie(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(M,SharedArrayBuffer)||M&&ie(M.buffer,SharedArrayBuffer)))return q(M,d,b);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=M.valueOf&&M.valueOf();if(U!=null&&U!==M)return o.from(U,d,b);const X=H(M);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return o.from(M[Symbol.toPrimitive]("string"),d,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}o.from=function(M,d,b){return f(M,d,b)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function l(M,d,b){return c(M),M<=0?a(M):d!==void 0?typeof b=="string"?a(M).fill(d,b):a(M).fill(d):a(M)}o.alloc=function(M,d,b){return l(M,d,b)};function v(M){return c(M),a(M<0?0:Z(M)|0)}o.allocUnsafe=function(M){return v(M)},o.allocUnsafeSlow=function(M){return v(M)};function S(M,d){if((typeof d!="string"||d==="")&&(d="utf8"),!o.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const b=K(M,d)|0;let U=a(b);const X=U.write(M,d);return X!==b&&(U=U.slice(0,X)),U}function D(M){const d=M.length<0?0:Z(M.length)|0,b=a(d);for(let U=0;U<d;U+=1)b[U]=M[U]&255;return b}function C(M){if(ie(M,Uint8Array)){const d=new Uint8Array(M);return q(d.buffer,d.byteOffset,d.byteLength)}return D(M)}function q(M,d,b){if(d<0||M.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<d+(b||0))throw new RangeError('"length" is outside of buffer bounds');let U;return d===void 0&&b===void 0?U=new Uint8Array(M):b===void 0?U=new Uint8Array(M,d):U=new Uint8Array(M,d,b),Object.setPrototypeOf(U,o.prototype),U}function H(M){if(o.isBuffer(M)){const d=Z(M.length)|0,b=a(d);return b.length===0||M.copy(b,0,0,d),b}if(M.length!==void 0)return typeof M.length!="number"||me(M.length)?a(0):D(M);if(M.type==="Buffer"&&Array.isArray(M.data))return D(M.data)}function Z(M){if(M>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return M|0}function W(M){return+M!=M&&(M=0),o.alloc(+M)}o.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==o.prototype},o.compare=function(d,b){if(ie(d,Uint8Array)&&(d=o.from(d,d.offset,d.byteLength)),ie(b,Uint8Array)&&(b=o.from(b,b.offset,b.byteLength)),!o.isBuffer(d)||!o.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===b)return 0;let U=d.length,X=b.length;for(let se=0,oe=Math.min(U,X);se<oe;++se)if(d[se]!==b[se]){U=d[se],X=b[se];break}return U<X?-1:X<U?1:0},o.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(d,b){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return o.alloc(0);let U;if(b===void 0)for(b=0,U=0;U<d.length;++U)b+=d[U].length;const X=o.allocUnsafe(b);let se=0;for(U=0;U<d.length;++U){let oe=d[U];if(ie(oe,Uint8Array))se+oe.length>X.length?(o.isBuffer(oe)||(oe=o.from(oe)),oe.copy(X,se)):Uint8Array.prototype.set.call(X,oe,se);else if(o.isBuffer(oe))oe.copy(X,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=oe.length}return X};function K(M,d){if(o.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||ie(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const b=M.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&b===0)return 0;let X=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return _(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return V(M).length;default:if(X)return U?-1:_(M).length;d=(""+d).toLowerCase(),X=!0}}o.byteLength=K;function B(M,d,b){let U=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,d>>>=0,b<=d))return"";for(M||(M="utf8");;)switch(M){case"hex":return N(this,d,b);case"utf8":case"utf-8":return u(this,d,b);case"ascii":return x(this,d,b);case"latin1":case"binary":return O(this,d,b);case"base64":return m(this,d,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,d,b);default:if(U)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),U=!0}}o.prototype._isBuffer=!0;function z(M,d,b){const U=M[d];M[d]=M[b],M[b]=U}o.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<d;b+=2)z(this,b,b+1);return this},o.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<d;b+=4)z(this,b,b+3),z(this,b+1,b+2);return this},o.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<d;b+=8)z(this,b,b+7),z(this,b+1,b+6),z(this,b+2,b+5),z(this,b+3,b+4);return this},o.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?u(this,0,d):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(d){if(!o.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:o.compare(this,d)===0},o.prototype.inspect=function(){let d="";const b=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(d+=" ... "),"<Buffer "+d+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(d,b,U,X,se){if(ie(d,Uint8Array)&&(d=o.from(d,d.offset,d.byteLength)),!o.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(b===void 0&&(b=0),U===void 0&&(U=d?d.length:0),X===void 0&&(X=0),se===void 0&&(se=this.length),b<0||U>d.length||X<0||se>this.length)throw new RangeError("out of range index");if(X>=se&&b>=U)return 0;if(X>=se)return-1;if(b>=U)return 1;if(b>>>=0,U>>>=0,X>>>=0,se>>>=0,this===d)return 0;let oe=se-X,_e=U-b;const xe=Math.min(oe,_e),Ae=this.slice(X,se),Me=d.slice(b,U);for(let De=0;De<xe;++De)if(Ae[De]!==Me[De]){oe=Ae[De],_e=Me[De];break}return oe<_e?-1:_e<oe?1:0};function P(M,d,b,U,X){if(M.length===0)return-1;if(typeof b=="string"?(U=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,me(b)&&(b=X?0:M.length-1),b<0&&(b=M.length+b),b>=M.length){if(X)return-1;b=M.length-1}else if(b<0)if(X)b=0;else return-1;if(typeof d=="string"&&(d=o.from(d,U)),o.isBuffer(d))return d.length===0?-1:g(M,d,b,U,X);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(M,d,b):Uint8Array.prototype.lastIndexOf.call(M,d,b):g(M,[d],b,U,X);throw new TypeError("val must be string, number or Buffer")}function g(M,d,b,U,X){let se=1,oe=M.length,_e=d.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(M.length<2||d.length<2)return-1;se=2,oe/=2,_e/=2,b/=2}function xe(Me,De){return se===1?Me[De]:Me.readUInt16BE(De*se)}let Ae;if(X){let Me=-1;for(Ae=b;Ae<oe;Ae++)if(xe(M,Ae)===xe(d,Me===-1?0:Ae-Me)){if(Me===-1&&(Me=Ae),Ae-Me+1===_e)return Me*se}else Me!==-1&&(Ae-=Ae-Me),Me=-1}else for(b+_e>oe&&(b=oe-_e),Ae=b;Ae>=0;Ae--){let Me=!0;for(let De=0;De<_e;De++)if(xe(M,Ae+De)!==xe(d,De)){Me=!1;break}if(Me)return Ae}return-1}o.prototype.includes=function(d,b,U){return this.indexOf(d,b,U)!==-1},o.prototype.indexOf=function(d,b,U){return P(this,d,b,U,!0)},o.prototype.lastIndexOf=function(d,b,U){return P(this,d,b,U,!1)};function $(M,d,b,U){b=Number(b)||0;const X=M.length-b;U?(U=Number(U),U>X&&(U=X)):U=X;const se=d.length;U>se/2&&(U=se/2);let oe;for(oe=0;oe<U;++oe){const _e=parseInt(d.substr(oe*2,2),16);if(me(_e))return oe;M[b+oe]=_e}return oe}function Y(M,d,b,U){return ee(_(d,M.length-b),M,b,U)}function Q(M,d,b,U){return ee(E(d),M,b,U)}function G(M,d,b,U){return ee(V(d),M,b,U)}function h(M,d,b,U){return ee(L(d,M.length-b),M,b,U)}o.prototype.write=function(d,b,U,X){if(b===void 0)X="utf8",U=this.length,b=0;else if(U===void 0&&typeof b=="string")X=b,U=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(U)?(U=U>>>0,X===void 0&&(X="utf8")):(X=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-b;if((U===void 0||U>se)&&(U=se),d.length>0&&(U<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let oe=!1;for(;;)switch(X){case"hex":return $(this,d,b,U);case"utf8":case"utf-8":return Y(this,d,b,U);case"ascii":case"latin1":case"binary":return Q(this,d,b,U);case"base64":return G(this,d,b,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,d,b,U);default:if(oe)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),oe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(M,d,b){return d===0&&b===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(d,b))}function u(M,d,b){b=Math.min(M.length,b);const U=[];let X=d;for(;X<b;){const se=M[X];let oe=null,_e=se>239?4:se>223?3:se>191?2:1;if(X+_e<=b){let xe,Ae,Me,De;switch(_e){case 1:se<128&&(oe=se);break;case 2:xe=M[X+1],(xe&192)===128&&(De=(se&31)<<6|xe&63,De>127&&(oe=De));break;case 3:xe=M[X+1],Ae=M[X+2],(xe&192)===128&&(Ae&192)===128&&(De=(se&15)<<12|(xe&63)<<6|Ae&63,De>2047&&(De<55296||De>57343)&&(oe=De));break;case 4:xe=M[X+1],Ae=M[X+2],Me=M[X+3],(xe&192)===128&&(Ae&192)===128&&(Me&192)===128&&(De=(se&15)<<18|(xe&63)<<12|(Ae&63)<<6|Me&63,De>65535&&De<1114112&&(oe=De))}}oe===null?(oe=65533,_e=1):oe>65535&&(oe-=65536,U.push(oe>>>10&1023|55296),oe=56320|oe&1023),U.push(oe),X+=_e}return A(U)}const p=4096;function A(M){const d=M.length;if(d<=p)return String.fromCharCode.apply(String,M);let b="",U=0;for(;U<d;)b+=String.fromCharCode.apply(String,M.slice(U,U+=p));return b}function x(M,d,b){let U="";b=Math.min(M.length,b);for(let X=d;X<b;++X)U+=String.fromCharCode(M[X]&127);return U}function O(M,d,b){let U="";b=Math.min(M.length,b);for(let X=d;X<b;++X)U+=String.fromCharCode(M[X]);return U}function N(M,d,b){const U=M.length;(!d||d<0)&&(d=0),(!b||b<0||b>U)&&(b=U);let X="";for(let se=d;se<b;++se)X+=ye[M[se]];return X}function w(M,d,b){const U=M.slice(d,b);let X="";for(let se=0;se<U.length-1;se+=2)X+=String.fromCharCode(U[se]+U[se+1]*256);return X}o.prototype.slice=function(d,b){const U=this.length;d=~~d,b=b===void 0?U:~~b,d<0?(d+=U,d<0&&(d=0)):d>U&&(d=U),b<0?(b+=U,b<0&&(b=0)):b>U&&(b=U),b<d&&(b=d);const X=this.subarray(d,b);return Object.setPrototypeOf(X,o.prototype),X};function I(M,d,b){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+d>b)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(d,b,U){d=d>>>0,b=b>>>0,U||I(d,b,this.length);let X=this[d],se=1,oe=0;for(;++oe<b&&(se*=256);)X+=this[d+oe]*se;return X},o.prototype.readUintBE=o.prototype.readUIntBE=function(d,b,U){d=d>>>0,b=b>>>0,U||I(d,b,this.length);let X=this[d+--b],se=1;for(;b>0&&(se*=256);)X+=this[d+--b]*se;return X},o.prototype.readUint8=o.prototype.readUInt8=function(d,b){return d=d>>>0,b||I(d,1,this.length),this[d]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(d,b){return d=d>>>0,b||I(d,2,this.length),this[d]|this[d+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(d,b){return d=d>>>0,b||I(d,2,this.length),this[d]<<8|this[d+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(d,b){return d=d>>>0,b||I(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(d,b){return d=d>>>0,b||I(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},o.prototype.readBigUInt64LE=ve(function(d){d=d>>>0,j(d,"offset");const b=this[d],U=this[d+7];(b===void 0||U===void 0)&&J(d,this.length-8);const X=b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,se=this[++d]+this[++d]*2**8+this[++d]*2**16+U*2**24;return BigInt(X)+(BigInt(se)<<BigInt(32))}),o.prototype.readBigUInt64BE=ve(function(d){d=d>>>0,j(d,"offset");const b=this[d],U=this[d+7];(b===void 0||U===void 0)&&J(d,this.length-8);const X=b*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],se=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+U;return(BigInt(X)<<BigInt(32))+BigInt(se)}),o.prototype.readIntLE=function(d,b,U){d=d>>>0,b=b>>>0,U||I(d,b,this.length);let X=this[d],se=1,oe=0;for(;++oe<b&&(se*=256);)X+=this[d+oe]*se;return se*=128,X>=se&&(X-=Math.pow(2,8*b)),X},o.prototype.readIntBE=function(d,b,U){d=d>>>0,b=b>>>0,U||I(d,b,this.length);let X=b,se=1,oe=this[d+--X];for(;X>0&&(se*=256);)oe+=this[d+--X]*se;return se*=128,oe>=se&&(oe-=Math.pow(2,8*b)),oe},o.prototype.readInt8=function(d,b){return d=d>>>0,b||I(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},o.prototype.readInt16LE=function(d,b){d=d>>>0,b||I(d,2,this.length);const U=this[d]|this[d+1]<<8;return U&32768?U|4294901760:U},o.prototype.readInt16BE=function(d,b){d=d>>>0,b||I(d,2,this.length);const U=this[d+1]|this[d]<<8;return U&32768?U|4294901760:U},o.prototype.readInt32LE=function(d,b){return d=d>>>0,b||I(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},o.prototype.readInt32BE=function(d,b){return d=d>>>0,b||I(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},o.prototype.readBigInt64LE=ve(function(d){d=d>>>0,j(d,"offset");const b=this[d],U=this[d+7];(b===void 0||U===void 0)&&J(d,this.length-8);const X=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(U<<24);return(BigInt(X)<<BigInt(32))+BigInt(b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),o.prototype.readBigInt64BE=ve(function(d){d=d>>>0,j(d,"offset");const b=this[d],U=this[d+7];(b===void 0||U===void 0)&&J(d,this.length-8);const X=(b<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(X)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+U)}),o.prototype.readFloatLE=function(d,b){return d=d>>>0,b||I(d,4,this.length),r.read(this,d,!0,23,4)},o.prototype.readFloatBE=function(d,b){return d=d>>>0,b||I(d,4,this.length),r.read(this,d,!1,23,4)},o.prototype.readDoubleLE=function(d,b){return d=d>>>0,b||I(d,8,this.length),r.read(this,d,!0,52,8)},o.prototype.readDoubleBE=function(d,b){return d=d>>>0,b||I(d,8,this.length),r.read(this,d,!1,52,8)};function T(M,d,b,U,X,se){if(!o.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>X||d<se)throw new RangeError('"value" argument is out of bounds');if(b+U>M.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(d,b,U,X){if(d=+d,b=b>>>0,U=U>>>0,!X){const _e=Math.pow(2,8*U)-1;T(this,d,b,U,_e,0)}let se=1,oe=0;for(this[b]=d&255;++oe<U&&(se*=256);)this[b+oe]=d/se&255;return b+U},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(d,b,U,X){if(d=+d,b=b>>>0,U=U>>>0,!X){const _e=Math.pow(2,8*U)-1;T(this,d,b,U,_e,0)}let se=U-1,oe=1;for(this[b+se]=d&255;--se>=0&&(oe*=256);)this[b+se]=d/oe&255;return b+U},o.prototype.writeUint8=o.prototype.writeUInt8=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,1,255,0),this[b]=d&255,b+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,2,65535,0),this[b]=d&255,this[b+1]=d>>>8,b+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,2,65535,0),this[b]=d>>>8,this[b+1]=d&255,b+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,4,4294967295,0),this[b+3]=d>>>24,this[b+2]=d>>>16,this[b+1]=d>>>8,this[b]=d&255,b+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,4,4294967295,0),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4};function k(M,d,b,U,X){re(d,U,X,M,b,7);let se=Number(d&BigInt(4294967295));M[b++]=se,se=se>>8,M[b++]=se,se=se>>8,M[b++]=se,se=se>>8,M[b++]=se;let oe=Number(d>>BigInt(32)&BigInt(4294967295));return M[b++]=oe,oe=oe>>8,M[b++]=oe,oe=oe>>8,M[b++]=oe,oe=oe>>8,M[b++]=oe,b}function ce(M,d,b,U,X){re(d,U,X,M,b,7);let se=Number(d&BigInt(4294967295));M[b+7]=se,se=se>>8,M[b+6]=se,se=se>>8,M[b+5]=se,se=se>>8,M[b+4]=se;let oe=Number(d>>BigInt(32)&BigInt(4294967295));return M[b+3]=oe,oe=oe>>8,M[b+2]=oe,oe=oe>>8,M[b+1]=oe,oe=oe>>8,M[b]=oe,b+8}o.prototype.writeBigUInt64LE=ve(function(d,b=0){return k(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ve(function(d,b=0){return ce(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(d,b,U,X){if(d=+d,b=b>>>0,!X){const xe=Math.pow(2,8*U-1);T(this,d,b,U,xe-1,-xe)}let se=0,oe=1,_e=0;for(this[b]=d&255;++se<U&&(oe*=256);)d<0&&_e===0&&this[b+se-1]!==0&&(_e=1),this[b+se]=(d/oe>>0)-_e&255;return b+U},o.prototype.writeIntBE=function(d,b,U,X){if(d=+d,b=b>>>0,!X){const xe=Math.pow(2,8*U-1);T(this,d,b,U,xe-1,-xe)}let se=U-1,oe=1,_e=0;for(this[b+se]=d&255;--se>=0&&(oe*=256);)d<0&&_e===0&&this[b+se+1]!==0&&(_e=1),this[b+se]=(d/oe>>0)-_e&255;return b+U},o.prototype.writeInt8=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,1,127,-128),d<0&&(d=255+d+1),this[b]=d&255,b+1},o.prototype.writeInt16LE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,2,32767,-32768),this[b]=d&255,this[b+1]=d>>>8,b+2},o.prototype.writeInt16BE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,2,32767,-32768),this[b]=d>>>8,this[b+1]=d&255,b+2},o.prototype.writeInt32LE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,4,2147483647,-2147483648),this[b]=d&255,this[b+1]=d>>>8,this[b+2]=d>>>16,this[b+3]=d>>>24,b+4},o.prototype.writeInt32BE=function(d,b,U){return d=+d,b=b>>>0,U||T(this,d,b,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4},o.prototype.writeBigInt64LE=ve(function(d,b=0){return k(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ve(function(d,b=0){return ce(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(M,d,b,U,X,se){if(b+U>M.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function be(M,d,b,U,X){return d=+d,b=b>>>0,X||fe(M,d,b,4),r.write(M,d,b,U,23,4),b+4}o.prototype.writeFloatLE=function(d,b,U){return be(this,d,b,!0,U)},o.prototype.writeFloatBE=function(d,b,U){return be(this,d,b,!1,U)};function he(M,d,b,U,X){return d=+d,b=b>>>0,X||fe(M,d,b,8),r.write(M,d,b,U,52,8),b+8}o.prototype.writeDoubleLE=function(d,b,U){return he(this,d,b,!0,U)},o.prototype.writeDoubleBE=function(d,b,U){return he(this,d,b,!1,U)},o.prototype.copy=function(d,b,U,X){if(!o.isBuffer(d))throw new TypeError("argument should be a Buffer");if(U||(U=0),!X&&X!==0&&(X=this.length),b>=d.length&&(b=d.length),b||(b=0),X>0&&X<U&&(X=U),X===U||d.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),d.length-b<X-U&&(X=d.length-b+U);const se=X-U;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,U,X):Uint8Array.prototype.set.call(d,this.subarray(U,X),b),se},o.prototype.fill=function(d,b,U,X){if(typeof d=="string"){if(typeof b=="string"?(X=b,b=0,U=this.length):typeof U=="string"&&(X=U,U=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!o.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(d.length===1){const oe=d.charCodeAt(0);(X==="utf8"&&oe<128||X==="latin1")&&(d=oe)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(b<0||this.length<b||this.length<U)throw new RangeError("Out of range index");if(U<=b)return this;b=b>>>0,U=U===void 0?this.length:U>>>0,d||(d=0);let se;if(typeof d=="number")for(se=b;se<U;++se)this[se]=d;else{const oe=o.isBuffer(d)?d:o.from(d,X),_e=oe.length;if(_e===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(se=0;se<U-b;++se)this[se+b]=oe[se%_e]}return this};const pe={};function le(M,d,b){pe[M]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(M,d){return`The "${M}" argument must be of type number. Received type ${typeof d}`},TypeError),le("ERR_OUT_OF_RANGE",function(M,d,b){let U=`The value of "${M}" is out of range.`,X=b;return Number.isInteger(b)&&Math.abs(b)>2**32?X=y(String(b)):typeof b=="bigint"&&(X=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(X=y(X)),X+="n"),U+=` It must be ${d}. Received ${X}`,U},RangeError);function y(M){let d="",b=M.length;const U=M[0]==="-"?1:0;for(;b>=U+4;b-=3)d=`_${M.slice(b-3,b)}${d}`;return`${M.slice(0,b)}${d}`}function F(M,d,b){j(d,"offset"),(M[d]===void 0||M[d+b]===void 0)&&J(d,M.length-(b+1))}function re(M,d,b,U,X,se){if(M>b||M<d){const oe=typeof d=="bigint"?"n":"";let _e;throw se>3?d===0||d===BigInt(0)?_e=`>= 0${oe} and < 2${oe} ** ${(se+1)*8}${oe}`:_e=`>= -(2${oe} ** ${(se+1)*8-1}${oe}) and < 2 ** ${(se+1)*8-1}${oe}`:_e=`>= ${d}${oe} and <= ${b}${oe}`,new pe.ERR_OUT_OF_RANGE("value",_e,M)}F(U,X,se)}function j(M,d){if(typeof M!="number")throw new pe.ERR_INVALID_ARG_TYPE(d,"number",M)}function J(M,d,b){throw Math.floor(M)!==M?(j(M,b),new pe.ERR_OUT_OF_RANGE(b||"offset","an integer",M)):d<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${d}`,M)}const te=/[^+/0-9A-Za-z-_]/g;function R(M){if(M=M.split("=")[0],M=M.trim().replace(te,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function _(M,d){d=d||1/0;let b;const U=M.length;let X=null;const se=[];for(let oe=0;oe<U;++oe){if(b=M.charCodeAt(oe),b>55295&&b<57344){if(!X){if(b>56319){(d-=3)>-1&&se.push(239,191,189);continue}else if(oe+1===U){(d-=3)>-1&&se.push(239,191,189);continue}X=b;continue}if(b<56320){(d-=3)>-1&&se.push(239,191,189),X=b;continue}b=(X-55296<<10|b-56320)+65536}else X&&(d-=3)>-1&&se.push(239,191,189);if(X=null,b<128){if((d-=1)<0)break;se.push(b)}else if(b<2048){if((d-=2)<0)break;se.push(b>>6|192,b&63|128)}else if(b<65536){if((d-=3)<0)break;se.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((d-=4)<0)break;se.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return se}function E(M){const d=[];for(let b=0;b<M.length;++b)d.push(M.charCodeAt(b)&255);return d}function L(M,d){let b,U,X;const se=[];for(let oe=0;oe<M.length&&!((d-=2)<0);++oe)b=M.charCodeAt(oe),U=b>>8,X=b%256,se.push(X),se.push(U);return se}function V(M){return t.toByteArray(R(M))}function ee(M,d,b,U){let X;for(X=0;X<U&&!(X+b>=d.length||X>=M.length);++X)d[X+b]=M[X];return X}function ie(M,d){return M instanceof d||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===d.name}function me(M){return M!==M}const ye=function(){const M="0123456789abcdef",d=new Array(256);for(let b=0;b<16;++b){const U=b*16;for(let X=0;X<16;++X)d[U+X]=M[b]+M[X]}return d}();function ve(M){return typeof BigInt>"u"?Se:M}function Se(){throw new Error("BigInt not supported")}})(fo);const vE={},wE=Object.freeze(Object.defineProperty({__proto__:null,default:vE},Symbol.toStringTag,{value:"Module"})),an=Ar(wE);Object.defineProperty(vf,"__esModule",{value:!0});vf.WebCrypto=void 0;const _E=fo,Ou=an,wp=typeof window<"u"&&typeof window.document<"u";class EE{constructor(){this.subtle=wp?globalThis.crypto.subtle:Ou.webcrypto?Ou.webcrypto.subtle:crypto.subtle}getRandomValues(t){if(!ArrayBuffer.isView(t))throw new TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");const r=_E.Buffer.from(t.buffer,t.byteOffset,t.byteLength);return wp?globalThis.crypto.getRandomValues(r):(0,Ou.randomFillSync)(r),t}}vf.WebCrypto=EE;var _f={},Ef={};function xE(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var a=e.length,o=e.charAt(0),f=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(D){if(D instanceof Uint8Array||(ArrayBuffer.isView(D)?D=new Uint8Array(D.buffer,D.byteOffset,D.byteLength):Array.isArray(D)&&(D=Uint8Array.from(D))),!(D instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(D.length===0)return"";for(var C=0,q=0,H=0,Z=D.length;H!==Z&&D[H]===0;)H++,C++;for(var W=(Z-H)*c+1>>>0,K=new Uint8Array(W);H!==Z;){for(var B=D[H],z=0,P=W-1;(B!==0||z<q)&&P!==-1;P--,z++)B+=256*K[P]>>>0,K[P]=B%a>>>0,B=B/a>>>0;if(B!==0)throw new Error("Non-zero carry");q=z,H++}for(var g=W-q;g!==W&&K[g]===0;)g++;for(var $=o.repeat(C);g<W;++g)$+=e.charAt(K[g]);return $}function v(D){if(typeof D!="string")throw new TypeError("Expected String");if(D.length===0)return new Uint8Array;for(var C=0,q=0,H=0;D[C]===o;)q++,C++;for(var Z=(D.length-C)*f+1>>>0,W=new Uint8Array(Z);D[C];){var K=t[D.charCodeAt(C)];if(K===255)return;for(var B=0,z=Z-1;(K!==0||B<H)&&z!==-1;z--,B++)K+=a*W[z]>>>0,W[z]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");H=B,C++}for(var P=Z-H;P!==Z&&W[P]===0;)P++;for(var g=new Uint8Array(q+(Z-P)),$=q;P!==Z;)g[$++]=W[P++];return g}function S(D){var C=v(D);if(C)return C;throw new Error("Non-base"+a+" character")}return{encode:l,decodeUnsafe:v,decode:S}}var SE=xE;(function(e){var t=Be&&Be.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.isBase58=e.bs58=void 0;const r=t(SE),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.bs58=(0,r.default)(n);function s(i){if(i===""||i.trim()==="")return!1;try{return e.bs58.encode(e.bs58.decode(i))===i}catch{return!1}}e.isBase58=s,e.default=e.bs58})(Ef);var Na={};Object.defineProperty(Na,"__esModule",{value:!0});function AE(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+(e[`${r}`]&255);return t}Na.default=AE;var Db=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});_f.addressToGroup=void 0;const IE=Db(Ef),TE=Db(Na);function ME(e,t){const r=IE.default.decode(e).slice(1),n=(0,TE.default)(r)|1;return OE(CE(n))%t}_f.addressToGroup=ME;function CE(e){const t=e>>24,r=e>>16,n=e>>8;return t^r^n^e}function OE(e){return e&255}var Nb={},Q0={};const PE="elliptic",DE="6.5.4",NE="EC cryptography",RE="lib/elliptic.js",BE=["lib"],$E={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},UE={type:"git",url:"git@github.com:indutny/elliptic"},LE=["EC","Elliptic","curve","Cryptography"],FE="Fedor Indutny <fedor@indutny.com>",kE="MIT",jE={url:"https://github.com/indutny/elliptic/issues"},qE="https://github.com/indutny/elliptic",HE={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},zE={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},VE={name:PE,version:DE,description:NE,main:RE,files:BE,scripts:$E,repository:UE,keywords:LE,author:FE,license:kE,bugs:jE,homepage:qE,devDependencies:HE,dependencies:zE};var Rr={},ed={exports:{}};ed.exports;(function(e){(function(t,r){function n(G,h){if(!G)throw new Error(h||"Assertion failed")}function s(G,h){G.super_=h;var m=function(){};m.prototype=h.prototype,G.prototype=new m,G.prototype.constructor=G}function i(G,h,m){if(i.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((h==="le"||h==="be")&&(m=h,h=10),this._init(G||0,h||10,m||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=an.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,m){return h.cmp(m)>0?h:m},i.min=function(h,m){return h.cmp(m)<0?h:m},i.prototype._init=function(h,m,u){if(typeof h=="number")return this._initNumber(h,m,u);if(typeof h=="object")return this._initArray(h,m,u);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),h=h.toString().replace(/\s+/g,"");var p=0;h[0]==="-"&&(p++,this.negative=1),p<h.length&&(m===16?this._parseHex(h,p,u):(this._parseBase(h,m,p),u==="le"&&this._initArray(this.toArray(),m,u)))},i.prototype._initNumber=function(h,m,u){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),m,u)},i.prototype._initArray=function(h,m,u){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var A,x,O=0;if(u==="be")for(p=h.length-1,A=0;p>=0;p-=3)x=h[p]|h[p-1]<<8|h[p-2]<<16,this.words[A]|=x<<O&67108863,this.words[A+1]=x>>>26-O&67108863,O+=24,O>=26&&(O-=26,A++);else if(u==="le")for(p=0,A=0;p<h.length;p+=3)x=h[p]|h[p+1]<<8|h[p+2]<<16,this.words[A]|=x<<O&67108863,this.words[A+1]=x>>>26-O&67108863,O+=24,O>=26&&(O-=26,A++);return this.strip()};function o(G,h){var m=G.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function f(G,h,m){var u=o(G,m);return m-1>=h&&(u|=o(G,m-1)<<4),u}i.prototype._parseHex=function(h,m,u){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var A=0,x=0,O;if(u==="be")for(p=h.length-1;p>=m;p-=2)O=f(h,m,p)<<A,this.words[x]|=O&67108863,A>=18?(A-=18,x+=1,this.words[x]|=O>>>26):A+=8;else{var N=h.length-m;for(p=N%2===0?m+1:m;p<h.length;p+=2)O=f(h,m,p)<<A,this.words[x]|=O&67108863,A>=18?(A-=18,x+=1,this.words[x]|=O>>>26):A+=8}this.strip()};function c(G,h,m,u){for(var p=0,A=Math.min(G.length,m),x=h;x<A;x++){var O=G.charCodeAt(x)-48;p*=u,O>=49?p+=O-49+10:O>=17?p+=O-17+10:p+=O}return p}i.prototype._parseBase=function(h,m,u){this.words=[0],this.length=1;for(var p=0,A=1;A<=67108863;A*=m)p++;p--,A=A/m|0;for(var x=h.length-u,O=x%p,N=Math.min(x,x-O)+u,w=0,I=u;I<N;I+=p)w=c(h,I,I+p,m),this.imuln(A),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(O!==0){var T=1;for(w=c(h,I,h.length,m),I=0;I<O;I++)T*=m;this.imuln(T),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this.strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,m){h=h||10,m=m|0||1;var u;if(h===16||h==="hex"){u="";for(var p=0,A=0,x=0;x<this.length;x++){var O=this.words[x],N=((O<<p|A)&16777215).toString(16);A=O>>>24-p&16777215,A!==0||x!==this.length-1?u=l[6-N.length]+N+u:u=N+u,p+=2,p>=26&&(p-=26,x--)}for(A!==0&&(u=A.toString(16)+u);u.length%m!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(h===(h|0)&&h>=2&&h<=36){var w=v[h],I=S[h];u="";var T=this.clone();for(T.negative=0;!T.isZero();){var k=T.modn(I).toString(h);T=T.idivn(I),T.isZero()?u=k+u:u=l[w-k.length]+k+u}for(this.isZero()&&(u="0"+u);u.length%m!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(h,m){return n(typeof a<"u"),this.toArrayLike(a,h,m)},i.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},i.prototype.toArrayLike=function(h,m,u){var p=this.byteLength(),A=u||Math.max(1,p);n(p<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0"),this.strip();var x=m==="le",O=new h(A),N,w,I=this.clone();if(x){for(w=0;!I.isZero();w++)N=I.andln(255),I.iushrn(8),O[w]=N;for(;w<A;w++)O[w]=0}else{for(w=0;w<A-p;w++)O[w]=0;for(w=0;!I.isZero();w++)N=I.andln(255),I.iushrn(8),O[A-w-1]=N}return O},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var m=h,u=0;return m>=4096&&(u+=13,m>>>=13),m>=64&&(u+=7,m>>>=7),m>=8&&(u+=4,m>>>=4),m>=2&&(u+=2,m>>>=2),u+m},i.prototype._zeroBits=function(h){if(h===0)return 26;var m=h,u=0;return m&8191||(u+=13,m>>>=13),m&127||(u+=7,m>>>=7),m&15||(u+=4,m>>>=4),m&3||(u+=2,m>>>=2),m&1||u++,u},i.prototype.bitLength=function(){var h=this.words[this.length-1],m=this._countBits(h);return(this.length-1)*26+m};function D(G){for(var h=new Array(G.bitLength()),m=0;m<h.length;m++){var u=m/26|0,p=m%26;h[m]=(G.words[u]&1<<p)>>>p}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var u=this._zeroBits(this.words[m]);if(h+=u,u!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},i.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var m;this.length>h.length?m=h:m=this;for(var u=0;u<m.length;u++)this.words[u]=this.words[u]&h.words[u];return this.length=m.length,this.strip()},i.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var m,u;this.length>h.length?(m=this,u=h):(m=h,u=this);for(var p=0;p<u.length;p++)this.words[p]=m.words[p]^u.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},i.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var m=Math.ceil(h/26)|0,u=h%26;this._expand(m),u>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return u>0&&(this.words[p]=~this.words[p]&67108863>>26-u),this.strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,m){n(typeof h=="number"&&h>=0);var u=h/26|0,p=h%26;return this._expand(u+1),m?this.words[u]=this.words[u]|1<<p:this.words[u]=this.words[u]&~(1<<p),this.strip()},i.prototype.iadd=function(h){var m;if(this.negative!==0&&h.negative===0)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();var u,p;this.length>h.length?(u=this,p=h):(u=h,p=this);for(var A=0,x=0;x<p.length;x++)m=(u.words[x]|0)+(p.words[x]|0)+A,this.words[x]=m&67108863,A=m>>>26;for(;A!==0&&x<u.length;x++)m=(u.words[x]|0)+A,this.words[x]=m&67108863,A=m>>>26;if(this.length=u.length,A!==0)this.words[this.length]=A,this.length++;else if(u!==this)for(;x<u.length;x++)this.words[x]=u.words[x];return this},i.prototype.add=function(h){var m;return h.negative!==0&&this.negative===0?(h.negative=0,m=this.sub(h),h.negative^=1,m):h.negative===0&&this.negative!==0?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var u=this.cmp(h);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,A;u>0?(p=this,A=h):(p=h,A=this);for(var x=0,O=0;O<A.length;O++)m=(p.words[O]|0)-(A.words[O]|0)+x,x=m>>26,this.words[O]=m&67108863;for(;x!==0&&O<p.length;O++)m=(p.words[O]|0)+x,x=m>>26,this.words[O]=m&67108863;if(x===0&&O<p.length&&p!==this)for(;O<p.length;O++)this.words[O]=p.words[O];return this.length=Math.max(this.length,O),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function C(G,h,m){m.negative=h.negative^G.negative;var u=G.length+h.length|0;m.length=u,u=u-1|0;var p=G.words[0]|0,A=h.words[0]|0,x=p*A,O=x&67108863,N=x/67108864|0;m.words[0]=O;for(var w=1;w<u;w++){for(var I=N>>>26,T=N&67108863,k=Math.min(w,h.length-1),ce=Math.max(0,w-G.length+1);ce<=k;ce++){var fe=w-ce|0;p=G.words[fe]|0,A=h.words[ce]|0,x=p*A+T,I+=x/67108864|0,T=x&67108863}m.words[w]=T|0,N=I|0}return N!==0?m.words[w]=N|0:m.length--,m.strip()}var q=function(h,m,u){var p=h.words,A=m.words,x=u.words,O=0,N,w,I,T=p[0]|0,k=T&8191,ce=T>>>13,fe=p[1]|0,be=fe&8191,he=fe>>>13,pe=p[2]|0,le=pe&8191,y=pe>>>13,F=p[3]|0,re=F&8191,j=F>>>13,J=p[4]|0,te=J&8191,R=J>>>13,_=p[5]|0,E=_&8191,L=_>>>13,V=p[6]|0,ee=V&8191,ie=V>>>13,me=p[7]|0,ye=me&8191,ve=me>>>13,Se=p[8]|0,M=Se&8191,d=Se>>>13,b=p[9]|0,U=b&8191,X=b>>>13,se=A[0]|0,oe=se&8191,_e=se>>>13,xe=A[1]|0,Ae=xe&8191,Me=xe>>>13,De=A[2]|0,Le=De&8191,Ze=De>>>13,it=A[3]|0,je=it&8191,qe=it>>>13,Ge=A[4]|0,ae=Ge&8191,ne=Ge>>>13,ue=A[5]|0,ge=ue&8191,Ee=ue>>>13,Ie=A[6]|0,Te=Ie&8191,Ce=Ie>>>13,Re=A[7]|0,Oe=Re&8191,$e=Re>>>13,Ue=A[8]|0,Ne=Ue&8191,Ke=Ue>>>13,Xe=A[9]|0,We=Xe&8191,dt=Xe>>>13;u.negative=h.negative^m.negative,u.length=19,N=Math.imul(k,oe),w=Math.imul(k,_e),w=w+Math.imul(ce,oe)|0,I=Math.imul(ce,_e);var rt=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(rt>>>26)|0,rt&=67108863,N=Math.imul(be,oe),w=Math.imul(be,_e),w=w+Math.imul(he,oe)|0,I=Math.imul(he,_e),N=N+Math.imul(k,Ae)|0,w=w+Math.imul(k,Me)|0,w=w+Math.imul(ce,Ae)|0,I=I+Math.imul(ce,Me)|0;var ft=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(ft>>>26)|0,ft&=67108863,N=Math.imul(le,oe),w=Math.imul(le,_e),w=w+Math.imul(y,oe)|0,I=Math.imul(y,_e),N=N+Math.imul(be,Ae)|0,w=w+Math.imul(be,Me)|0,w=w+Math.imul(he,Ae)|0,I=I+Math.imul(he,Me)|0,N=N+Math.imul(k,Le)|0,w=w+Math.imul(k,Ze)|0,w=w+Math.imul(ce,Le)|0,I=I+Math.imul(ce,Ze)|0;var mr=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(mr>>>26)|0,mr&=67108863,N=Math.imul(re,oe),w=Math.imul(re,_e),w=w+Math.imul(j,oe)|0,I=Math.imul(j,_e),N=N+Math.imul(le,Ae)|0,w=w+Math.imul(le,Me)|0,w=w+Math.imul(y,Ae)|0,I=I+Math.imul(y,Me)|0,N=N+Math.imul(be,Le)|0,w=w+Math.imul(be,Ze)|0,w=w+Math.imul(he,Le)|0,I=I+Math.imul(he,Ze)|0,N=N+Math.imul(k,je)|0,w=w+Math.imul(k,qe)|0,w=w+Math.imul(ce,je)|0,I=I+Math.imul(ce,qe)|0;var Ir=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,N=Math.imul(te,oe),w=Math.imul(te,_e),w=w+Math.imul(R,oe)|0,I=Math.imul(R,_e),N=N+Math.imul(re,Ae)|0,w=w+Math.imul(re,Me)|0,w=w+Math.imul(j,Ae)|0,I=I+Math.imul(j,Me)|0,N=N+Math.imul(le,Le)|0,w=w+Math.imul(le,Ze)|0,w=w+Math.imul(y,Le)|0,I=I+Math.imul(y,Ze)|0,N=N+Math.imul(be,je)|0,w=w+Math.imul(be,qe)|0,w=w+Math.imul(he,je)|0,I=I+Math.imul(he,qe)|0,N=N+Math.imul(k,ae)|0,w=w+Math.imul(k,ne)|0,w=w+Math.imul(ce,ae)|0,I=I+Math.imul(ce,ne)|0;var cr=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(cr>>>26)|0,cr&=67108863,N=Math.imul(E,oe),w=Math.imul(E,_e),w=w+Math.imul(L,oe)|0,I=Math.imul(L,_e),N=N+Math.imul(te,Ae)|0,w=w+Math.imul(te,Me)|0,w=w+Math.imul(R,Ae)|0,I=I+Math.imul(R,Me)|0,N=N+Math.imul(re,Le)|0,w=w+Math.imul(re,Ze)|0,w=w+Math.imul(j,Le)|0,I=I+Math.imul(j,Ze)|0,N=N+Math.imul(le,je)|0,w=w+Math.imul(le,qe)|0,w=w+Math.imul(y,je)|0,I=I+Math.imul(y,qe)|0,N=N+Math.imul(be,ae)|0,w=w+Math.imul(be,ne)|0,w=w+Math.imul(he,ae)|0,I=I+Math.imul(he,ne)|0,N=N+Math.imul(k,ge)|0,w=w+Math.imul(k,Ee)|0,w=w+Math.imul(ce,ge)|0,I=I+Math.imul(ce,Ee)|0;var ln=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(ln>>>26)|0,ln&=67108863,N=Math.imul(ee,oe),w=Math.imul(ee,_e),w=w+Math.imul(ie,oe)|0,I=Math.imul(ie,_e),N=N+Math.imul(E,Ae)|0,w=w+Math.imul(E,Me)|0,w=w+Math.imul(L,Ae)|0,I=I+Math.imul(L,Me)|0,N=N+Math.imul(te,Le)|0,w=w+Math.imul(te,Ze)|0,w=w+Math.imul(R,Le)|0,I=I+Math.imul(R,Ze)|0,N=N+Math.imul(re,je)|0,w=w+Math.imul(re,qe)|0,w=w+Math.imul(j,je)|0,I=I+Math.imul(j,qe)|0,N=N+Math.imul(le,ae)|0,w=w+Math.imul(le,ne)|0,w=w+Math.imul(y,ae)|0,I=I+Math.imul(y,ne)|0,N=N+Math.imul(be,ge)|0,w=w+Math.imul(be,Ee)|0,w=w+Math.imul(he,ge)|0,I=I+Math.imul(he,Ee)|0,N=N+Math.imul(k,Te)|0,w=w+Math.imul(k,Ce)|0,w=w+Math.imul(ce,Te)|0,I=I+Math.imul(ce,Ce)|0;var fr=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(fr>>>26)|0,fr&=67108863,N=Math.imul(ye,oe),w=Math.imul(ye,_e),w=w+Math.imul(ve,oe)|0,I=Math.imul(ve,_e),N=N+Math.imul(ee,Ae)|0,w=w+Math.imul(ee,Me)|0,w=w+Math.imul(ie,Ae)|0,I=I+Math.imul(ie,Me)|0,N=N+Math.imul(E,Le)|0,w=w+Math.imul(E,Ze)|0,w=w+Math.imul(L,Le)|0,I=I+Math.imul(L,Ze)|0,N=N+Math.imul(te,je)|0,w=w+Math.imul(te,qe)|0,w=w+Math.imul(R,je)|0,I=I+Math.imul(R,qe)|0,N=N+Math.imul(re,ae)|0,w=w+Math.imul(re,ne)|0,w=w+Math.imul(j,ae)|0,I=I+Math.imul(j,ne)|0,N=N+Math.imul(le,ge)|0,w=w+Math.imul(le,Ee)|0,w=w+Math.imul(y,ge)|0,I=I+Math.imul(y,Ee)|0,N=N+Math.imul(be,Te)|0,w=w+Math.imul(be,Ce)|0,w=w+Math.imul(he,Te)|0,I=I+Math.imul(he,Ce)|0,N=N+Math.imul(k,Oe)|0,w=w+Math.imul(k,$e)|0,w=w+Math.imul(ce,Oe)|0,I=I+Math.imul(ce,$e)|0;var Nn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,N=Math.imul(M,oe),w=Math.imul(M,_e),w=w+Math.imul(d,oe)|0,I=Math.imul(d,_e),N=N+Math.imul(ye,Ae)|0,w=w+Math.imul(ye,Me)|0,w=w+Math.imul(ve,Ae)|0,I=I+Math.imul(ve,Me)|0,N=N+Math.imul(ee,Le)|0,w=w+Math.imul(ee,Ze)|0,w=w+Math.imul(ie,Le)|0,I=I+Math.imul(ie,Ze)|0,N=N+Math.imul(E,je)|0,w=w+Math.imul(E,qe)|0,w=w+Math.imul(L,je)|0,I=I+Math.imul(L,qe)|0,N=N+Math.imul(te,ae)|0,w=w+Math.imul(te,ne)|0,w=w+Math.imul(R,ae)|0,I=I+Math.imul(R,ne)|0,N=N+Math.imul(re,ge)|0,w=w+Math.imul(re,Ee)|0,w=w+Math.imul(j,ge)|0,I=I+Math.imul(j,Ee)|0,N=N+Math.imul(le,Te)|0,w=w+Math.imul(le,Ce)|0,w=w+Math.imul(y,Te)|0,I=I+Math.imul(y,Ce)|0,N=N+Math.imul(be,Oe)|0,w=w+Math.imul(be,$e)|0,w=w+Math.imul(he,Oe)|0,I=I+Math.imul(he,$e)|0,N=N+Math.imul(k,Ne)|0,w=w+Math.imul(k,Ke)|0,w=w+Math.imul(ce,Ne)|0,I=I+Math.imul(ce,Ke)|0;var Rn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,N=Math.imul(U,oe),w=Math.imul(U,_e),w=w+Math.imul(X,oe)|0,I=Math.imul(X,_e),N=N+Math.imul(M,Ae)|0,w=w+Math.imul(M,Me)|0,w=w+Math.imul(d,Ae)|0,I=I+Math.imul(d,Me)|0,N=N+Math.imul(ye,Le)|0,w=w+Math.imul(ye,Ze)|0,w=w+Math.imul(ve,Le)|0,I=I+Math.imul(ve,Ze)|0,N=N+Math.imul(ee,je)|0,w=w+Math.imul(ee,qe)|0,w=w+Math.imul(ie,je)|0,I=I+Math.imul(ie,qe)|0,N=N+Math.imul(E,ae)|0,w=w+Math.imul(E,ne)|0,w=w+Math.imul(L,ae)|0,I=I+Math.imul(L,ne)|0,N=N+Math.imul(te,ge)|0,w=w+Math.imul(te,Ee)|0,w=w+Math.imul(R,ge)|0,I=I+Math.imul(R,Ee)|0,N=N+Math.imul(re,Te)|0,w=w+Math.imul(re,Ce)|0,w=w+Math.imul(j,Te)|0,I=I+Math.imul(j,Ce)|0,N=N+Math.imul(le,Oe)|0,w=w+Math.imul(le,$e)|0,w=w+Math.imul(y,Oe)|0,I=I+Math.imul(y,$e)|0,N=N+Math.imul(be,Ne)|0,w=w+Math.imul(be,Ke)|0,w=w+Math.imul(he,Ne)|0,I=I+Math.imul(he,Ke)|0,N=N+Math.imul(k,We)|0,w=w+Math.imul(k,dt)|0,w=w+Math.imul(ce,We)|0,I=I+Math.imul(ce,dt)|0;var Bn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,N=Math.imul(U,Ae),w=Math.imul(U,Me),w=w+Math.imul(X,Ae)|0,I=Math.imul(X,Me),N=N+Math.imul(M,Le)|0,w=w+Math.imul(M,Ze)|0,w=w+Math.imul(d,Le)|0,I=I+Math.imul(d,Ze)|0,N=N+Math.imul(ye,je)|0,w=w+Math.imul(ye,qe)|0,w=w+Math.imul(ve,je)|0,I=I+Math.imul(ve,qe)|0,N=N+Math.imul(ee,ae)|0,w=w+Math.imul(ee,ne)|0,w=w+Math.imul(ie,ae)|0,I=I+Math.imul(ie,ne)|0,N=N+Math.imul(E,ge)|0,w=w+Math.imul(E,Ee)|0,w=w+Math.imul(L,ge)|0,I=I+Math.imul(L,Ee)|0,N=N+Math.imul(te,Te)|0,w=w+Math.imul(te,Ce)|0,w=w+Math.imul(R,Te)|0,I=I+Math.imul(R,Ce)|0,N=N+Math.imul(re,Oe)|0,w=w+Math.imul(re,$e)|0,w=w+Math.imul(j,Oe)|0,I=I+Math.imul(j,$e)|0,N=N+Math.imul(le,Ne)|0,w=w+Math.imul(le,Ke)|0,w=w+Math.imul(y,Ne)|0,I=I+Math.imul(y,Ke)|0,N=N+Math.imul(be,We)|0,w=w+Math.imul(be,dt)|0,w=w+Math.imul(he,We)|0,I=I+Math.imul(he,dt)|0;var $n=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+($n>>>26)|0,$n&=67108863,N=Math.imul(U,Le),w=Math.imul(U,Ze),w=w+Math.imul(X,Le)|0,I=Math.imul(X,Ze),N=N+Math.imul(M,je)|0,w=w+Math.imul(M,qe)|0,w=w+Math.imul(d,je)|0,I=I+Math.imul(d,qe)|0,N=N+Math.imul(ye,ae)|0,w=w+Math.imul(ye,ne)|0,w=w+Math.imul(ve,ae)|0,I=I+Math.imul(ve,ne)|0,N=N+Math.imul(ee,ge)|0,w=w+Math.imul(ee,Ee)|0,w=w+Math.imul(ie,ge)|0,I=I+Math.imul(ie,Ee)|0,N=N+Math.imul(E,Te)|0,w=w+Math.imul(E,Ce)|0,w=w+Math.imul(L,Te)|0,I=I+Math.imul(L,Ce)|0,N=N+Math.imul(te,Oe)|0,w=w+Math.imul(te,$e)|0,w=w+Math.imul(R,Oe)|0,I=I+Math.imul(R,$e)|0,N=N+Math.imul(re,Ne)|0,w=w+Math.imul(re,Ke)|0,w=w+Math.imul(j,Ne)|0,I=I+Math.imul(j,Ke)|0,N=N+Math.imul(le,We)|0,w=w+Math.imul(le,dt)|0,w=w+Math.imul(y,We)|0,I=I+Math.imul(y,dt)|0;var Un=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Un>>>26)|0,Un&=67108863,N=Math.imul(U,je),w=Math.imul(U,qe),w=w+Math.imul(X,je)|0,I=Math.imul(X,qe),N=N+Math.imul(M,ae)|0,w=w+Math.imul(M,ne)|0,w=w+Math.imul(d,ae)|0,I=I+Math.imul(d,ne)|0,N=N+Math.imul(ye,ge)|0,w=w+Math.imul(ye,Ee)|0,w=w+Math.imul(ve,ge)|0,I=I+Math.imul(ve,Ee)|0,N=N+Math.imul(ee,Te)|0,w=w+Math.imul(ee,Ce)|0,w=w+Math.imul(ie,Te)|0,I=I+Math.imul(ie,Ce)|0,N=N+Math.imul(E,Oe)|0,w=w+Math.imul(E,$e)|0,w=w+Math.imul(L,Oe)|0,I=I+Math.imul(L,$e)|0,N=N+Math.imul(te,Ne)|0,w=w+Math.imul(te,Ke)|0,w=w+Math.imul(R,Ne)|0,I=I+Math.imul(R,Ke)|0,N=N+Math.imul(re,We)|0,w=w+Math.imul(re,dt)|0,w=w+Math.imul(j,We)|0,I=I+Math.imul(j,dt)|0;var Ur=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,N=Math.imul(U,ae),w=Math.imul(U,ne),w=w+Math.imul(X,ae)|0,I=Math.imul(X,ne),N=N+Math.imul(M,ge)|0,w=w+Math.imul(M,Ee)|0,w=w+Math.imul(d,ge)|0,I=I+Math.imul(d,Ee)|0,N=N+Math.imul(ye,Te)|0,w=w+Math.imul(ye,Ce)|0,w=w+Math.imul(ve,Te)|0,I=I+Math.imul(ve,Ce)|0,N=N+Math.imul(ee,Oe)|0,w=w+Math.imul(ee,$e)|0,w=w+Math.imul(ie,Oe)|0,I=I+Math.imul(ie,$e)|0,N=N+Math.imul(E,Ne)|0,w=w+Math.imul(E,Ke)|0,w=w+Math.imul(L,Ne)|0,I=I+Math.imul(L,Ke)|0,N=N+Math.imul(te,We)|0,w=w+Math.imul(te,dt)|0,w=w+Math.imul(R,We)|0,I=I+Math.imul(R,dt)|0;var Ln=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,N=Math.imul(U,ge),w=Math.imul(U,Ee),w=w+Math.imul(X,ge)|0,I=Math.imul(X,Ee),N=N+Math.imul(M,Te)|0,w=w+Math.imul(M,Ce)|0,w=w+Math.imul(d,Te)|0,I=I+Math.imul(d,Ce)|0,N=N+Math.imul(ye,Oe)|0,w=w+Math.imul(ye,$e)|0,w=w+Math.imul(ve,Oe)|0,I=I+Math.imul(ve,$e)|0,N=N+Math.imul(ee,Ne)|0,w=w+Math.imul(ee,Ke)|0,w=w+Math.imul(ie,Ne)|0,I=I+Math.imul(ie,Ke)|0,N=N+Math.imul(E,We)|0,w=w+Math.imul(E,dt)|0,w=w+Math.imul(L,We)|0,I=I+Math.imul(L,dt)|0;var Fn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,N=Math.imul(U,Te),w=Math.imul(U,Ce),w=w+Math.imul(X,Te)|0,I=Math.imul(X,Ce),N=N+Math.imul(M,Oe)|0,w=w+Math.imul(M,$e)|0,w=w+Math.imul(d,Oe)|0,I=I+Math.imul(d,$e)|0,N=N+Math.imul(ye,Ne)|0,w=w+Math.imul(ye,Ke)|0,w=w+Math.imul(ve,Ne)|0,I=I+Math.imul(ve,Ke)|0,N=N+Math.imul(ee,We)|0,w=w+Math.imul(ee,dt)|0,w=w+Math.imul(ie,We)|0,I=I+Math.imul(ie,dt)|0;var Qt=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,N=Math.imul(U,Oe),w=Math.imul(U,$e),w=w+Math.imul(X,Oe)|0,I=Math.imul(X,$e),N=N+Math.imul(M,Ne)|0,w=w+Math.imul(M,Ke)|0,w=w+Math.imul(d,Ne)|0,I=I+Math.imul(d,Ke)|0,N=N+Math.imul(ye,We)|0,w=w+Math.imul(ye,dt)|0,w=w+Math.imul(ve,We)|0,I=I+Math.imul(ve,dt)|0;var kn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(kn>>>26)|0,kn&=67108863,N=Math.imul(U,Ne),w=Math.imul(U,Ke),w=w+Math.imul(X,Ne)|0,I=Math.imul(X,Ke),N=N+Math.imul(M,We)|0,w=w+Math.imul(M,dt)|0,w=w+Math.imul(d,We)|0,I=I+Math.imul(d,dt)|0;var jn=(O+N|0)+((w&8191)<<13)|0;O=(I+(w>>>13)|0)+(jn>>>26)|0,jn&=67108863,N=Math.imul(U,We),w=Math.imul(U,dt),w=w+Math.imul(X,We)|0,I=Math.imul(X,dt);var qn=(O+N|0)+((w&8191)<<13)|0;return O=(I+(w>>>13)|0)+(qn>>>26)|0,qn&=67108863,x[0]=rt,x[1]=ft,x[2]=mr,x[3]=Ir,x[4]=cr,x[5]=ln,x[6]=fr,x[7]=Nn,x[8]=Rn,x[9]=Bn,x[10]=$n,x[11]=Un,x[12]=Ur,x[13]=Ln,x[14]=Fn,x[15]=Qt,x[16]=kn,x[17]=jn,x[18]=qn,O!==0&&(x[19]=O,u.length++),u};Math.imul||(q=C);function H(G,h,m){m.negative=h.negative^G.negative,m.length=G.length+h.length;for(var u=0,p=0,A=0;A<m.length-1;A++){var x=p;p=0;for(var O=u&67108863,N=Math.min(A,h.length-1),w=Math.max(0,A-G.length+1);w<=N;w++){var I=A-w,T=G.words[I]|0,k=h.words[w]|0,ce=T*k,fe=ce&67108863;x=x+(ce/67108864|0)|0,fe=fe+O|0,O=fe&67108863,x=x+(fe>>>26)|0,p+=x>>>26,x&=67108863}m.words[A]=O,u=x,x=p}return u!==0?m.words[A]=u:m.length--,m.strip()}function Z(G,h,m){var u=new W;return u.mulp(G,h,m)}i.prototype.mulTo=function(h,m){var u,p=this.length+h.length;return this.length===10&&h.length===10?u=q(this,h,m):p<63?u=C(this,h,m):p<1024?u=H(this,h,m):u=Z(this,h,m),u};function W(G,h){this.x=G,this.y=h}W.prototype.makeRBT=function(h){for(var m=new Array(h),u=i.prototype._countBits(h)-1,p=0;p<h;p++)m[p]=this.revBin(p,u,h);return m},W.prototype.revBin=function(h,m,u){if(h===0||h===u-1)return h;for(var p=0,A=0;A<m;A++)p|=(h&1)<<m-A-1,h>>=1;return p},W.prototype.permute=function(h,m,u,p,A,x){for(var O=0;O<x;O++)p[O]=m[h[O]],A[O]=u[h[O]]},W.prototype.transform=function(h,m,u,p,A,x){this.permute(x,h,m,u,p,A);for(var O=1;O<A;O<<=1)for(var N=O<<1,w=Math.cos(2*Math.PI/N),I=Math.sin(2*Math.PI/N),T=0;T<A;T+=N)for(var k=w,ce=I,fe=0;fe<O;fe++){var be=u[T+fe],he=p[T+fe],pe=u[T+fe+O],le=p[T+fe+O],y=k*pe-ce*le;le=k*le+ce*pe,pe=y,u[T+fe]=be+pe,p[T+fe]=he+le,u[T+fe+O]=be-pe,p[T+fe+O]=he-le,fe!==N&&(y=w*k-I*ce,ce=w*ce+I*k,k=y)}},W.prototype.guessLen13b=function(h,m){var u=Math.max(m,h)|1,p=u&1,A=0;for(u=u/2|0;u;u=u>>>1)A++;return 1<<A+1+p},W.prototype.conjugate=function(h,m,u){if(!(u<=1))for(var p=0;p<u/2;p++){var A=h[p];h[p]=h[u-p-1],h[u-p-1]=A,A=m[p],m[p]=-m[u-p-1],m[u-p-1]=-A}},W.prototype.normalize13b=function(h,m){for(var u=0,p=0;p<m/2;p++){var A=Math.round(h[2*p+1]/m)*8192+Math.round(h[2*p]/m)+u;h[p]=A&67108863,A<67108864?u=0:u=A/67108864|0}return h},W.prototype.convert13b=function(h,m,u,p){for(var A=0,x=0;x<m;x++)A=A+(h[x]|0),u[2*x]=A&8191,A=A>>>13,u[2*x+1]=A&8191,A=A>>>13;for(x=2*m;x<p;++x)u[x]=0;n(A===0),n((A&-8192)===0)},W.prototype.stub=function(h){for(var m=new Array(h),u=0;u<h;u++)m[u]=0;return m},W.prototype.mulp=function(h,m,u){var p=2*this.guessLen13b(h.length,m.length),A=this.makeRBT(p),x=this.stub(p),O=new Array(p),N=new Array(p),w=new Array(p),I=new Array(p),T=new Array(p),k=new Array(p),ce=u.words;ce.length=p,this.convert13b(h.words,h.length,O,p),this.convert13b(m.words,m.length,I,p),this.transform(O,x,N,w,p,A),this.transform(I,x,T,k,p,A);for(var fe=0;fe<p;fe++){var be=N[fe]*T[fe]-w[fe]*k[fe];w[fe]=N[fe]*k[fe]+w[fe]*T[fe],N[fe]=be}return this.conjugate(N,w,p),this.transform(N,w,ce,x,p,A),this.conjugate(ce,x,p),this.normalize13b(ce,p),u.negative=h.negative^m.negative,u.length=h.length+m.length,u.strip()},i.prototype.mul=function(h){var m=new i(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},i.prototype.mulf=function(h){var m=new i(null);return m.words=new Array(this.length+h.length),Z(this,h,m)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){n(typeof h=="number"),n(h<67108864);for(var m=0,u=0;u<this.length;u++){var p=(this.words[u]|0)*h,A=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=A>>>26,this.words[u]=A&67108863}return m!==0&&(this.words[u]=m,this.length++),this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var m=D(h);if(m.length===0)return new i(1);for(var u=this,p=0;p<m.length&&m[p]===0;p++,u=u.sqr());if(++p<m.length)for(var A=u.sqr();p<m.length;p++,A=A.sqr())m[p]!==0&&(u=u.mul(A));return u},i.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var m=h%26,u=(h-m)/26,p=67108863>>>26-m<<26-m,A;if(m!==0){var x=0;for(A=0;A<this.length;A++){var O=this.words[A]&p,N=(this.words[A]|0)-O<<m;this.words[A]=N|x,x=O>>>26-m}x&&(this.words[A]=x,this.length++)}if(u!==0){for(A=this.length-1;A>=0;A--)this.words[A+u]=this.words[A];for(A=0;A<u;A++)this.words[A]=0;this.length+=u}return this.strip()},i.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,m,u){n(typeof h=="number"&&h>=0);var p;m?p=(m-m%26)/26:p=0;var A=h%26,x=Math.min((h-A)/26,this.length),O=67108863^67108863>>>A<<A,N=u;if(p-=x,p=Math.max(0,p),N){for(var w=0;w<x;w++)N.words[w]=this.words[w];N.length=x}if(x!==0)if(this.length>x)for(this.length-=x,w=0;w<this.length;w++)this.words[w]=this.words[w+x];else this.words[0]=0,this.length=1;var I=0;for(w=this.length-1;w>=0&&(I!==0||w>=p);w--){var T=this.words[w]|0;this.words[w]=I<<26-A|T>>>A,I=T&O}return N&&I!==0&&(N.words[N.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(h,m,u){return n(this.negative===0),this.iushrn(h,m,u)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var m=h%26,u=(h-m)/26,p=1<<m;if(this.length<=u)return!1;var A=this.words[u];return!!(A&p)},i.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var m=h%26,u=(h-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(m!==0&&u++,this.length=Math.min(u,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},i.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,m,u){var p=h.length+u,A;this._expand(p);var x,O=0;for(A=0;A<h.length;A++){x=(this.words[A+u]|0)+O;var N=(h.words[A]|0)*m;x-=N&67108863,O=(x>>26)-(N/67108864|0),this.words[A+u]=x&67108863}for(;A<this.length-u;A++)x=(this.words[A+u]|0)+O,O=x>>26,this.words[A+u]=x&67108863;if(O===0)return this.strip();for(n(O===-1),O=0,A=0;A<this.length;A++)x=-(this.words[A]|0)+O,O=x>>26,this.words[A]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(h,m){var u=this.length-h.length,p=this.clone(),A=h,x=A.words[A.length-1]|0,O=this._countBits(x);u=26-O,u!==0&&(A=A.ushln(u),p.iushln(u),x=A.words[A.length-1]|0);var N=p.length-A.length,w;if(m!=="mod"){w=new i(null),w.length=N+1,w.words=new Array(w.length);for(var I=0;I<w.length;I++)w.words[I]=0}var T=p.clone()._ishlnsubmul(A,1,N);T.negative===0&&(p=T,w&&(w.words[N]=1));for(var k=N-1;k>=0;k--){var ce=(p.words[A.length+k]|0)*67108864+(p.words[A.length+k-1]|0);for(ce=Math.min(ce/x|0,67108863),p._ishlnsubmul(A,ce,k);p.negative!==0;)ce--,p.negative=0,p._ishlnsubmul(A,1,k),p.isZero()||(p.negative^=1);w&&(w.words[k]=ce)}return w&&w.strip(),p.strip(),m!=="div"&&u!==0&&p.iushrn(u),{div:w||null,mod:p}},i.prototype.divmod=function(h,m,u){if(n(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,A,x;return this.negative!==0&&h.negative===0?(x=this.neg().divmod(h,m),m!=="mod"&&(p=x.div.neg()),m!=="div"&&(A=x.mod.neg(),u&&A.negative!==0&&A.iadd(h)),{div:p,mod:A}):this.negative===0&&h.negative!==0?(x=this.divmod(h.neg(),m),m!=="mod"&&(p=x.div.neg()),{div:p,mod:x.mod}):this.negative&h.negative?(x=this.neg().divmod(h.neg(),m),m!=="div"&&(A=x.mod.neg(),u&&A.negative!==0&&A.isub(h)),{div:x.div,mod:A}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?m==="div"?{div:this.divn(h.words[0]),mod:null}:m==="mod"?{div:null,mod:new i(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modn(h.words[0]))}:this._wordDiv(h,m)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var u=m.div.negative!==0?m.mod.isub(h):m.mod,p=h.ushrn(1),A=h.andln(1),x=u.cmp(p);return x<0||A===1&&x===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},i.prototype.modn=function(h){n(h<=67108863);for(var m=(1<<26)%h,u=0,p=this.length-1;p>=0;p--)u=(m*u+(this.words[p]|0))%h;return u},i.prototype.idivn=function(h){n(h<=67108863);for(var m=0,u=this.length-1;u>=0;u--){var p=(this.words[u]|0)+m*67108864;this.words[u]=p/h|0,m=p%h}return this.strip()},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var m=this,u=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var p=new i(1),A=new i(0),x=new i(0),O=new i(1),N=0;m.isEven()&&u.isEven();)m.iushrn(1),u.iushrn(1),++N;for(var w=u.clone(),I=m.clone();!m.isZero();){for(var T=0,k=1;!(m.words[0]&k)&&T<26;++T,k<<=1);if(T>0)for(m.iushrn(T);T-- >0;)(p.isOdd()||A.isOdd())&&(p.iadd(w),A.isub(I)),p.iushrn(1),A.iushrn(1);for(var ce=0,fe=1;!(u.words[0]&fe)&&ce<26;++ce,fe<<=1);if(ce>0)for(u.iushrn(ce);ce-- >0;)(x.isOdd()||O.isOdd())&&(x.iadd(w),O.isub(I)),x.iushrn(1),O.iushrn(1);m.cmp(u)>=0?(m.isub(u),p.isub(x),A.isub(O)):(u.isub(m),x.isub(p),O.isub(A))}return{a:x,b:O,gcd:u.iushln(N)}},i.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var m=this,u=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var p=new i(1),A=new i(0),x=u.clone();m.cmpn(1)>0&&u.cmpn(1)>0;){for(var O=0,N=1;!(m.words[0]&N)&&O<26;++O,N<<=1);if(O>0)for(m.iushrn(O);O-- >0;)p.isOdd()&&p.iadd(x),p.iushrn(1);for(var w=0,I=1;!(u.words[0]&I)&&w<26;++w,I<<=1);if(w>0)for(u.iushrn(w);w-- >0;)A.isOdd()&&A.iadd(x),A.iushrn(1);m.cmp(u)>=0?(m.isub(u),p.isub(A)):(u.isub(m),A.isub(p))}var T;return m.cmpn(1)===0?T=p:T=A,T.cmpn(0)<0&&T.iadd(h),T},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),u=h.clone();m.negative=0,u.negative=0;for(var p=0;m.isEven()&&u.isEven();p++)m.iushrn(1),u.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;u.isEven();)u.iushrn(1);var A=m.cmp(u);if(A<0){var x=m;m=u,u=x}else if(A===0||u.cmpn(1)===0)break;m.isub(u)}while(!0);return u.iushln(p)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){n(typeof h=="number");var m=h%26,u=(h-m)/26,p=1<<m;if(this.length<=u)return this._expand(u+1),this.words[u]|=p,this;for(var A=p,x=u;A!==0&&x<this.length;x++){var O=this.words[x]|0;O+=A,A=O>>>26,O&=67108863,this.words[x]=O}return A!==0&&(this.words[x]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var m=h<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var u;if(this.length>1)u=1;else{m&&(h=-h),n(h<=67108863,"Number is too big");var p=this.words[0]|0;u=p===h?0:p<h?-1:1}return this.negative!==0?-u|0:u},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var m=this.ucmp(h);return this.negative!==0?-m|0:m},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,u=this.length-1;u>=0;u--){var p=this.words[u]|0,A=h.words[u]|0;if(p!==A){p<A?m=-1:p>A&&(m=1);break}}return m},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new Y(h)},i.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var K={k256:null,p224:null,p192:null,p25519:null};function B(G,h){this.name=G,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},B.prototype.ireduce=function(h){var m=h,u;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),u=m.bitLength();while(u>this.n);var p=u<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},B.prototype.split=function(h,m){h.iushrn(this.n,0,m)},B.prototype.imulK=function(h){return h.imul(this.k)};function z(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,B),z.prototype.split=function(h,m){for(var u=4194303,p=Math.min(h.length,9),A=0;A<p;A++)m.words[A]=h.words[A];if(m.length=p,h.length<=9){h.words[0]=0,h.length=1;return}var x=h.words[9];for(m.words[m.length++]=x&u,A=10;A<h.length;A++){var O=h.words[A]|0;h.words[A-10]=(O&u)<<4|x>>>22,x=O}x>>>=22,h.words[A-10]=x,x===0&&h.length>10?h.length-=10:h.length-=9},z.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,u=0;u<h.length;u++){var p=h.words[u]|0;m+=p*977,h.words[u]=m&67108863,m=p*64+(m/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function P(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(P,B);function g(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(g,B);function $(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s($,B),$.prototype.imulK=function(h){for(var m=0,u=0;u<h.length;u++){var p=(h.words[u]|0)*19+m,A=p&67108863;p>>>=26,h.words[u]=A,m=p}return m!==0&&(h.words[h.length++]=m),h},i._prime=function(h){if(K[h])return K[h];var m;if(h==="k256")m=new z;else if(h==="p224")m=new P;else if(h==="p192")m=new g;else if(h==="p25519")m=new $;else throw new Error("Unknown prime "+h);return K[h]=m,m};function Y(G){if(typeof G=="string"){var h=i._prime(G);this.m=h.p,this.prime=h}else n(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}Y.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},Y.prototype._verify2=function(h,m){n((h.negative|m.negative)===0,"red works only with positives"),n(h.red&&h.red===m.red,"red works only with red numbers")},Y.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Y.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Y.prototype.add=function(h,m){this._verify2(h,m);var u=h.add(m);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},Y.prototype.iadd=function(h,m){this._verify2(h,m);var u=h.iadd(m);return u.cmp(this.m)>=0&&u.isub(this.m),u},Y.prototype.sub=function(h,m){this._verify2(h,m);var u=h.sub(m);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},Y.prototype.isub=function(h,m){this._verify2(h,m);var u=h.isub(m);return u.cmpn(0)<0&&u.iadd(this.m),u},Y.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Y.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Y.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Y.prototype.isqr=function(h){return this.imul(h,h.clone())},Y.prototype.sqr=function(h){return this.mul(h,h)},Y.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var u=this.m.add(new i(1)).iushrn(2);return this.pow(h,u)}for(var p=this.m.subn(1),A=0;!p.isZero()&&p.andln(1)===0;)A++,p.iushrn(1);n(!p.isZero());var x=new i(1).toRed(this),O=x.redNeg(),N=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new i(2*w*w).toRed(this);this.pow(w,N).cmp(O)!==0;)w.redIAdd(O);for(var I=this.pow(w,p),T=this.pow(h,p.addn(1).iushrn(1)),k=this.pow(h,p),ce=A;k.cmp(x)!==0;){for(var fe=k,be=0;fe.cmp(x)!==0;be++)fe=fe.redSqr();n(be<ce);var he=this.pow(I,new i(1).iushln(ce-be-1));T=T.redMul(he),I=he.redSqr(),k=k.redMul(I),ce=be}return T},Y.prototype.invm=function(h){var m=h._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Y.prototype.pow=function(h,m){if(m.isZero())return new i(1).toRed(this);if(m.cmpn(1)===0)return h.clone();var u=4,p=new Array(1<<u);p[0]=new i(1).toRed(this),p[1]=h;for(var A=2;A<p.length;A++)p[A]=this.mul(p[A-1],h);var x=p[0],O=0,N=0,w=m.bitLength()%26;for(w===0&&(w=26),A=m.length-1;A>=0;A--){for(var I=m.words[A],T=w-1;T>=0;T--){var k=I>>T&1;if(x!==p[0]&&(x=this.sqr(x)),k===0&&O===0){N=0;continue}O<<=1,O|=k,N++,!(N!==u&&(A!==0||T!==0))&&(x=this.mul(x,p[O]),N=0,O=0)}w=26}return x},Y.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Y.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},i.mont=function(h){return new Q(h)};function Q(G){Y.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,Y),Q.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Q.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Q.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var u=h.imul(m),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=u.isub(p).iushrn(this.shift),x=A;return A.cmp(this.m)>=0?x=A.isub(this.m):A.cmpn(0)<0&&(x=A.iadd(this.m)),x._forceRed(this)},Q.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new i(0)._forceRed(this);var u=h.mul(m),p=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=u.isub(p).iushrn(this.shift),x=A;return A.cmp(this.m)>=0?x=A.isub(this.m):A.cmpn(0)<0&&(x=A.iadd(this.m)),x._forceRed(this)},Q.prototype.invm=function(h){var m=this.imod(h._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(e,Be)})(ed);var oi=ed.exports,bs=Rb;function Rb(e,t){if(!e)throw new Error(t||"Assertion failed")}Rb.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var td={};(function(e){var t=e;function r(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var o=[];if(typeof i!="string"){for(var f=0;f<i.length;f++)o[f]=i[f]|0;return o}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var f=0;f<i.length;f+=2)o.push(parseInt(i[f]+i[f+1],16))}else for(var f=0;f<i.length;f++){var c=i.charCodeAt(f),l=c>>8,v=c&255;l?o.push(l,v):o.push(v)}return o}t.toArray=r;function n(i){return i.length===1?"0"+i:i}t.zero2=n;function s(i){for(var a="",o=0;o<i.length;o++)a+=n(i[o].toString(16));return a}t.toHex=s,t.encode=function(a,o){return o==="hex"?s(a):a}})(td);(function(e){var t=e,r=oi,n=bs,s=td;t.assert=n,t.toArray=s.toArray,t.zero2=s.zero2,t.toHex=s.toHex,t.encode=s.encode;function i(l,v,S){var D=new Array(Math.max(l.bitLength(),S)+1);D.fill(0);for(var C=1<<v+1,q=l.clone(),H=0;H<D.length;H++){var Z,W=q.andln(C-1);q.isOdd()?(W>(C>>1)-1?Z=(C>>1)-W:Z=W,q.isubn(Z)):Z=0,D[H]=Z,q.iushrn(1)}return D}t.getNAF=i;function a(l,v){var S=[[],[]];l=l.clone(),v=v.clone();for(var D=0,C=0,q;l.cmpn(-D)>0||v.cmpn(-C)>0;){var H=l.andln(3)+D&3,Z=v.andln(3)+C&3;H===3&&(H=-1),Z===3&&(Z=-1);var W;H&1?(q=l.andln(7)+D&7,(q===3||q===5)&&Z===2?W=-H:W=H):W=0,S[0].push(W);var K;Z&1?(q=v.andln(7)+C&7,(q===3||q===5)&&H===2?K=-Z:K=Z):K=0,S[1].push(K),2*D===W+1&&(D=1-D),2*C===K+1&&(C=1-C),l.iushrn(1),v.iushrn(1)}return S}t.getJSF=a;function o(l,v,S){var D="_"+v;l.prototype[v]=function(){return this[D]!==void 0?this[D]:this[D]=S.call(this)}}t.cachedProperty=o;function f(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=f;function c(l){return new r(l,"hex","le")}t.intFromLE=c})(Rr);var rd={exports:{}},Pu;rd.exports=function(t){return Pu||(Pu=new xi(null)),Pu.generate(t)};function xi(e){this.rand=e}rd.exports.Rand=xi;xi.prototype.generate=function(t){return this._rand(t)};xi.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?xi.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?xi.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(xi.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var _p=an;if(typeof _p.randomBytes!="function")throw new Error("Not supported");xi.prototype._rand=function(t){return _p.randomBytes(t)}}catch{}var Bb=rd.exports,nd={},Vi=oi,Ra=Rr,Bc=Ra.getNAF,KE=Ra.getJSF,$c=Ra.assert;function Ri(e,t){this.type=e,this.p=new Vi(t.p,16),this.red=t.prime?Vi.red(t.prime):Vi.mont(this.p),this.zero=new Vi(0).toRed(this.red),this.one=new Vi(1).toRed(this.red),this.two=new Vi(2).toRed(this.red),this.n=t.n&&new Vi(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var xf=Ri;Ri.prototype.point=function(){throw new Error("Not implemented")};Ri.prototype.validate=function(){throw new Error("Not implemented")};Ri.prototype._fixedNafMul=function(t,r){$c(t.precomputed);var n=t._getDoubles(),s=Bc(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,f;for(o=0;o<s.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+s[c];a.push(f)}for(var l=this.jpoint(null,null,null),v=this.jpoint(null,null,null),S=i;S>0;S--){for(o=0;o<a.length;o++)f=a[o],f===S?v=v.mixedAdd(n.points[o]):f===-S&&(v=v.mixedAdd(n.points[o].neg()));l=l.add(v)}return l.toP()};Ri.prototype._wnafMul=function(t,r){var n=4,s=t._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=Bc(r,n,this._bitLength),o=this.jpoint(null,null,null),f=a.length-1;f>=0;f--){for(var c=0;f>=0&&a[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var l=a[f];$c(l!==0),t.type==="affine"?l>0?o=o.mixedAdd(i[l-1>>1]):o=o.mixedAdd(i[-l-1>>1].neg()):l>0?o=o.add(i[l-1>>1]):o=o.add(i[-l-1>>1].neg())}return t.type==="affine"?o.toP():o};Ri.prototype._wnafMulAdd=function(t,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,l,v,S;for(l=0;l<s;l++){S=r[l];var D=S._getNAFPoints(t);a[l]=D.wnd,o[l]=D.points}for(l=s-1;l>=1;l-=2){var C=l-1,q=l;if(a[C]!==1||a[q]!==1){f[C]=Bc(n[C],a[C],this._bitLength),f[q]=Bc(n[q],a[q],this._bitLength),c=Math.max(f[C].length,c),c=Math.max(f[q].length,c);continue}var H=[r[C],null,null,r[q]];r[C].y.cmp(r[q].y)===0?(H[1]=r[C].add(r[q]),H[2]=r[C].toJ().mixedAdd(r[q].neg())):r[C].y.cmp(r[q].y.redNeg())===0?(H[1]=r[C].toJ().mixedAdd(r[q]),H[2]=r[C].add(r[q].neg())):(H[1]=r[C].toJ().mixedAdd(r[q]),H[2]=r[C].toJ().mixedAdd(r[q].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],W=KE(n[C],n[q]);for(c=Math.max(W[0].length,c),f[C]=new Array(c),f[q]=new Array(c),v=0;v<c;v++){var K=W[0][v]|0,B=W[1][v]|0;f[C][v]=Z[(K+1)*3+(B+1)],f[q][v]=0,o[C]=H}}var z=this.jpoint(null,null,null),P=this._wnafT4;for(l=c;l>=0;l--){for(var g=0;l>=0;){var $=!0;for(v=0;v<s;v++)P[v]=f[v][l]|0,P[v]!==0&&($=!1);if(!$)break;g++,l--}if(l>=0&&g++,z=z.dblp(g),l<0)break;for(v=0;v<s;v++){var Y=P[v];Y!==0&&(Y>0?S=o[v][Y-1>>1]:Y<0&&(S=o[v][-Y-1>>1].neg()),S.type==="affine"?z=z.mixedAdd(S):z=z.add(S))}}for(l=0;l<s;l++)o[l]=null;return i?z:z.toP()};function Wr(e,t){this.curve=e,this.type=t,this.precomputed=null}Ri.BasePoint=Wr;Wr.prototype.eq=function(){throw new Error("Not implemented")};Wr.prototype.validate=function(){return this.curve.validate(this)};Ri.prototype.decodePoint=function(t,r){t=Ra.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?$c(t[t.length-1]%2===0):t[0]===7&&$c(t[t.length-1]%2===1);var s=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return s}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Wr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Wr.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Wr.prototype.encode=function(t,r){return Ra.encode(this._encode(r),t)};Wr.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Wr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Wr.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=t){for(var a=0;a<t;a++)s=s.dbl();n.push(s)}return{step:t,points:n}};Wr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:t,points:r}};Wr.prototype._getBeta=function(){return null};Wr.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Rl={exports:{}};typeof Object.create=="function"?Rl.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Rl.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Sf=Rl.exports,GE=Rr,Mt=oi,id=Sf,uo=xf,WE=GE.assert;function Yr(e){uo.call(this,"short",e),this.a=new Mt(e.a,16).toRed(this.red),this.b=new Mt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}id(Yr,uo);var YE=Yr;Yr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Mt(t.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(t.lambda)n=new Mt(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],WE(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return t.basis?a=t.basis.map(function(o){return{a:new Mt(o.a,16),b:new Mt(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Yr.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:Mt.mont(t),n=new Mt(2).toRed(r).redInvm(),s=n.redNeg(),i=new Mt(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]};Yr.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,s=this.n.clone(),i=new Mt(1),a=new Mt(0),o=new Mt(0),f=new Mt(1),c,l,v,S,D,C,q,H=0,Z,W;n.cmpn(0)!==0;){var K=s.div(n);Z=s.sub(K.mul(n)),W=o.sub(K.mul(i));var B=f.sub(K.mul(a));if(!v&&Z.cmp(r)<0)c=q.neg(),l=i,v=Z.neg(),S=W;else if(v&&++H===2)break;q=Z,s=n,n=Z,o=i,i=W,f=a,a=B}D=Z.neg(),C=W;var z=v.sqr().add(S.sqr()),P=D.sqr().add(C.sqr());return P.cmp(z)>=0&&(D=c,C=l),v.negative&&(v=v.neg(),S=S.neg()),D.negative&&(D=D.neg(),C=C.neg()),[{a:v,b:S},{a:D,b:C}]};Yr.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(t).divRound(this.n),a=n.b.neg().mul(t).divRound(this.n),o=i.mul(n.a),f=a.mul(s.a),c=i.mul(n.b),l=a.mul(s.b),v=t.sub(o).sub(f),S=c.add(l).neg();return{k1:v,k2:S}};Yr.prototype.pointFromX=function(t,r){t=new Mt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(t,s)};Yr.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Yr.prototype._endoWnafMulAdd=function(t,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<t.length;a++){var o=this._endoSplit(r[a]),f=t[a],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),s[a*2]=f,s[a*2+1]=c,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var l=this._wnafMulAdd(1,s,i,a*2,n),v=0;v<a*2;v++)s[v]=null,i[v]=null;return l};function kt(e,t,r,n){uo.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(t,16),this.y=new Mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}id(kt,uo.BasePoint);Yr.prototype.point=function(t,r,n){return new kt(this,t,r,n)};Yr.prototype.pointFromJSON=function(t,r){return kt.fromJSON(this,t,r)};kt.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(s)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(s)}}}return r}};kt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};kt.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=t.point(r[0],r[1],n);if(!r[2])return s;function i(o){return t.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s};kt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};kt.prototype.isInfinity=function(){return this.inf};kt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};kt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};kt.prototype.getX=function(){return this.x.fromRed()};kt.prototype.getY=function(){return this.y.fromRed()};kt.prototype.mul=function(t){return t=new Mt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};kt.prototype.mulAdd=function(t,r,n){var s=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};kt.prototype.jmulAdd=function(t,r,n){var s=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};kt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};kt.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};kt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Jt(e,t,r,n){uo.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(t,16),this.y=new Mt(r,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}id(Jt,uo.BasePoint);Yr.prototype.jpoint=function(t,r,n){return new Jt(this,t,r,n)};Jt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(t);return this.curve.point(n,s)};Jt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Jt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=t.x.redMul(n),a=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),f=s.redSub(i),c=a.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),v=l.redMul(f),S=s.redMul(l),D=c.redSqr().redIAdd(v).redISub(S).redISub(S),C=c.redMul(S.redISub(D)).redISub(a.redMul(v)),q=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(D,C,q)};Jt.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=t.x.redMul(r),i=this.y,a=t.y.redMul(r).redMul(this.z),o=n.redSub(s),f=i.redSub(a);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),v=n.redMul(c),S=f.redSqr().redIAdd(l).redISub(v).redISub(v),D=f.redMul(v.redISub(S)).redISub(i.redMul(l)),C=this.z.redMul(o);return this.curve.jpoint(S,D,C)};Jt.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<t;r++){var v=a.redSqr(),S=l.redSqr(),D=S.redSqr(),C=v.redAdd(v).redIAdd(v).redIAdd(s.redMul(c)),q=a.redMul(S),H=C.redSqr().redISub(q.redAdd(q)),Z=q.redISub(H),W=C.redMul(Z);W=W.redIAdd(W).redISub(D);var K=l.redMul(f);r+1<t&&(c=c.redMul(D)),a=H,f=K,l=W}return this.curve.jpoint(a,l.redMul(i),f)};Jt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Jt.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var f=s.redAdd(s).redIAdd(s),c=f.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),t=c,r=f.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),C=this.x.redAdd(S).redSqr().redISub(v).redISub(D);C=C.redIAdd(C);var q=v.redAdd(v).redIAdd(v),H=q.redSqr(),Z=D.redIAdd(D);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),t=H.redISub(C).redISub(C),r=q.redMul(C.redISub(t)).redISub(Z),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};Jt.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var f=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);t=c;var l=a.redIAdd(a);l=l.redIAdd(l),l=l.redIAdd(l),r=f.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),C=this.x.redSub(v).redMul(this.x.redAdd(v));C=C.redAdd(C).redIAdd(C);var q=D.redIAdd(D);q=q.redIAdd(q);var H=q.redAdd(q);t=C.redSqr().redISub(H),n=this.y.redAdd(this.z).redSqr().redISub(S).redISub(v);var Z=S.redSqr();Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),r=C.redMul(q.redISub(t)).redISub(Z)}return this.curve.jpoint(t,r,n)};Jt.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),f=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(i)),c=r.redAdd(r);c=c.redIAdd(c);var l=c.redMul(o),v=f.redSqr().redISub(l.redAdd(l)),S=l.redISub(v),D=o.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var C=f.redMul(S).redISub(D),q=n.redAdd(n).redMul(s);return this.curve.jpoint(v,C,q)};Jt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=t.redAdd(t).redIAdd(t),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var f=o.redSqr(),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(a).redISub(f).redISub(c),v=r.redMul(l);v=v.redIAdd(v),v=v.redIAdd(v);var S=this.x.redMul(f).redISub(v);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(f)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var C=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(S,D,C)};Jt.prototype.mul=function(t,r){return t=new Mt(t,r),this.curve._wnafMul(this,t)};Jt.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(s)).cmpn(0)===0};Jt.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=t.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Jt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Jt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Us=oi,$b=Sf,Af=xf,JE=Rr;function lo(e){Af.call(this,"mont",e),this.a=new Us(e.a,16).toRed(this.red),this.b=new Us(e.b,16).toRed(this.red),this.i4=new Us(4).toRed(this.red).redInvm(),this.two=new Us(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}$b(lo,Af);var XE=lo;lo.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function Ft(e,t,r){Af.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Us(t,16),this.z=new Us(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}$b(Ft,Af.BasePoint);lo.prototype.decodePoint=function(t,r){return this.point(JE.toArray(t,r),1)};lo.prototype.point=function(t,r){return new Ft(this,t,r)};lo.prototype.pointFromJSON=function(t){return Ft.fromJSON(this,t)};Ft.prototype.precompute=function(){};Ft.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ft.fromJSON=function(t,r){return new Ft(t,r[0],r[1]||t.one)};Ft.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ft.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ft.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),a=r.redMul(s),o=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,o)};Ft.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ft.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=t.x.redAdd(t.z),a=t.x.redSub(t.z),o=a.redMul(n),f=i.redMul(s),c=r.z.redMul(o.redAdd(f).redSqr()),l=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,l)};Ft.prototype.mul=function(t){for(var r=t.clone(),n=this,s=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};Ft.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ft.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ft.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Ft.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ft.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var ZE=Rr,Yn=oi,Ub=Sf,If=xf,QE=ZE.assert;function On(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,If.call(this,"edwards",e),this.a=new Yn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Yn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Yn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),QE(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}Ub(On,If);var ex=On;On.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};On.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};On.prototype.jpoint=function(t,r,n,s){return this.point(t,r,n,s)};On.prototype.pointFromX=function(t,r){t=new Yn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=s.redMul(i.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(t,o)};On.prototype.pointFromY=function(t,r){t=new Yn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=s.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};On.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function yt(e,t,r,n,s){If.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Yn(t,16),this.y=new Yn(r,16),this.z=n?new Yn(n,16):this.curve.one,this.t=s&&new Yn(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ub(yt,If.BasePoint);On.prototype.pointFromJSON=function(t){return yt.fromJSON(this,t)};On.prototype.point=function(t,r,n,s){return new yt(this,t,r,n,s)};yt.fromJSON=function(t,r){return new yt(t,r[0],r[1],r[2])};yt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};yt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};yt.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),a=s.redAdd(r),o=a.redSub(n),f=s.redSub(r),c=i.redMul(o),l=a.redMul(f),v=i.redMul(f),S=o.redMul(a);return this.curve.point(c,l,S,v)};yt.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,a,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var l=o.redAdd(n);this.zOne?(s=t.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),i=l.redMul(o.redSub(n)),a=l.redSqr().redSub(l).redSub(l)):(f=this.z.redSqr(),c=l.redSub(f).redISub(f),s=t.redSub(r).redISub(n).redMul(c),i=l.redMul(o.redSub(n)),a=l.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),s=this.curve._mulC(t.redISub(o)).redMul(c),i=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(c);return this.curve.point(s,i,a)};yt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};yt.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),s=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),a=n.redSub(r),o=i.redSub(s),f=i.redAdd(s),c=n.redAdd(r),l=a.redMul(o),v=f.redMul(c),S=a.redMul(c),D=o.redMul(f);return this.curve.point(l,v,D,S)};yt.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),s=this.x.redMul(t.x),i=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(i),o=n.redSub(a),f=n.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(i),l=r.redMul(o).redMul(c),v,S;return this.curve.twisted?(v=r.redMul(f).redMul(i.redSub(this.curve._mulA(s))),S=o.redMul(f)):(v=r.redMul(f).redMul(i.redSub(s)),S=this.curve._mulC(o).redMul(f)),this.curve.point(l,v,S)};yt.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};yt.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};yt.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};yt.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};yt.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};yt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};yt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};yt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};yt.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};yt.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};yt.prototype.toP=yt.prototype.normalize;yt.prototype.mixedAdd=yt.prototype.add;(function(e){var t=e;t.base=xf,t.short=YE,t.mont=XE,t.edwards=ex})(nd);var Tf={},Mf={},ot={},tx=bs,rx=Sf;ot.inherits=rx;function nx(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function ix(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var n=0,s=0;s<e.length;s++){var i=e.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):nx(e,s)?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<e.length;s++)r[s]=e[s]|0;return r}ot.toArray=ix;function sx(e){for(var t="",r=0;r<e.length;r++)t+=Fb(e[r].toString(16));return t}ot.toHex=sx;function Lb(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ot.htonl=Lb;function ox(e,t){for(var r="",n=0;n<e.length;n++){var s=e[n];t==="little"&&(s=Lb(s)),r+=kb(s.toString(16))}return r}ot.toHex32=ox;function Fb(e){return e.length===1?"0"+e:e}ot.zero2=Fb;function kb(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ot.zero8=kb;function ax(e,t,r,n){var s=r-t;tx(s%4===0);for(var i=new Array(s/4),a=0,o=t;a<i.length;a++,o+=4){var f;n==="big"?f=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:f=e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],i[a]=f>>>0}return i}ot.join32=ax;function cx(e,t){for(var r=new Array(e.length*4),n=0,s=0;n<e.length;n++,s+=4){var i=e[n];t==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}ot.split32=cx;function fx(e,t){return e>>>t|e<<32-t}ot.rotr32=fx;function ux(e,t){return e<<t|e>>>32-t}ot.rotl32=ux;function lx(e,t){return e+t>>>0}ot.sum32=lx;function dx(e,t,r){return e+t+r>>>0}ot.sum32_3=dx;function hx(e,t,r,n){return e+t+r+n>>>0}ot.sum32_4=hx;function px(e,t,r,n,s){return e+t+r+n+s>>>0}ot.sum32_5=px;function gx(e,t,r,n){var s=e[t],i=e[t+1],a=n+i>>>0,o=(a<n?1:0)+r+s;e[t]=o>>>0,e[t+1]=a}ot.sum64=gx;function mx(e,t,r,n){var s=t+n>>>0,i=(s<t?1:0)+e+r;return i>>>0}ot.sum64_hi=mx;function bx(e,t,r,n){var s=t+n;return s>>>0}ot.sum64_lo=bx;function yx(e,t,r,n,s,i,a,o){var f=0,c=t;c=c+n>>>0,f+=c<t?1:0,c=c+i>>>0,f+=c<i?1:0,c=c+o>>>0,f+=c<o?1:0;var l=e+r+s+a+f;return l>>>0}ot.sum64_4_hi=yx;function vx(e,t,r,n,s,i,a,o){var f=t+n+i+o;return f>>>0}ot.sum64_4_lo=vx;function wx(e,t,r,n,s,i,a,o,f,c){var l=0,v=t;v=v+n>>>0,l+=v<t?1:0,v=v+i>>>0,l+=v<i?1:0,v=v+o>>>0,l+=v<o?1:0,v=v+c>>>0,l+=v<c?1:0;var S=e+r+s+a+f+l;return S>>>0}ot.sum64_5_hi=wx;function _x(e,t,r,n,s,i,a,o,f,c){var l=t+n+i+o+c;return l>>>0}ot.sum64_5_lo=_x;function Ex(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}ot.rotr64_hi=Ex;function xx(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.rotr64_lo=xx;function Sx(e,t,r){return e>>>r}ot.shr64_hi=Sx;function Ax(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}ot.shr64_lo=Ax;var ho={},Ep=ot,Ix=bs;function Cf(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ho.BlockHash=Cf;Cf.prototype.update=function(t,r){if(t=Ep.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Ep.join32(t,0,t.length-n,this.endian);for(var s=0;s<t.length;s+=this._delta32)this._update(t,s,s+this._delta32)}return this};Cf.prototype.digest=function(t){return this.update(this._pad()),Ix(this.pending===null),this._digest(t)};Cf.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(t<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=t>>>24&255,s[i++]=t>>>16&255,s[i++]=t>>>8&255,s[i++]=t&255}else for(s[i++]=t&255,s[i++]=t>>>8&255,s[i++]=t>>>16&255,s[i++]=t>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,a=8;a<this.padLength;a++)s[i++]=0;return s};var po={},Pn={},Tx=ot,_n=Tx.rotr32;function Mx(e,t,r,n){if(e===0)return jb(t,r,n);if(e===1||e===3)return Hb(t,r,n);if(e===2)return qb(t,r,n)}Pn.ft_1=Mx;function jb(e,t,r){return e&t^~e&r}Pn.ch32=jb;function qb(e,t,r){return e&t^e&r^t&r}Pn.maj32=qb;function Hb(e,t,r){return e^t^r}Pn.p32=Hb;function Cx(e){return _n(e,2)^_n(e,13)^_n(e,22)}Pn.s0_256=Cx;function Ox(e){return _n(e,6)^_n(e,11)^_n(e,25)}Pn.s1_256=Ox;function Px(e){return _n(e,7)^_n(e,18)^e>>>3}Pn.g0_256=Px;function Dx(e){return _n(e,17)^_n(e,19)^e>>>10}Pn.g1_256=Dx;var Ys=ot,Nx=ho,Rx=Pn,Du=Ys.rotl32,Do=Ys.sum32,Bx=Ys.sum32_5,$x=Rx.ft_1,zb=Nx.BlockHash,Ux=[1518500249,1859775393,2400959708,3395469782];function In(){if(!(this instanceof In))return new In;zb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ys.inherits(In,zb);var Lx=In;In.blockSize=512;In.outSize=160;In.hmacStrength=80;In.padLength=64;In.prototype._update=function(t,r){for(var n=this.W,s=0;s<16;s++)n[s]=t[r+s];for(;s<n.length;s++)n[s]=Du(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(s=0;s<n.length;s++){var l=~~(s/20),v=Bx(Du(i,5),$x(l,a,o,f),c,n[s],Ux[l]);c=f,f=o,o=Du(a,30),a=i,i=v}this.h[0]=Do(this.h[0],i),this.h[1]=Do(this.h[1],a),this.h[2]=Do(this.h[2],o),this.h[3]=Do(this.h[3],f),this.h[4]=Do(this.h[4],c)};In.prototype._digest=function(t){return t==="hex"?Ys.toHex32(this.h,"big"):Ys.split32(this.h,"big")};var Js=ot,Fx=ho,go=Pn,kx=bs,Xr=Js.sum32,jx=Js.sum32_4,qx=Js.sum32_5,Hx=go.ch32,zx=go.maj32,Vx=go.s0_256,Kx=go.s1_256,Gx=go.g0_256,Wx=go.g1_256,Vb=Fx.BlockHash,Yx=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tn(){if(!(this instanceof Tn))return new Tn;Vb.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Yx,this.W=new Array(64)}Js.inherits(Tn,Vb);var Kb=Tn;Tn.blockSize=512;Tn.outSize=256;Tn.hmacStrength=192;Tn.padLength=64;Tn.prototype._update=function(t,r){for(var n=this.W,s=0;s<16;s++)n[s]=t[r+s];for(;s<n.length;s++)n[s]=jx(Wx(n[s-2]),n[s-7],Gx(n[s-15]),n[s-16]);var i=this.h[0],a=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],l=this.h[5],v=this.h[6],S=this.h[7];for(kx(this.k.length===n.length),s=0;s<n.length;s++){var D=qx(S,Kx(c),Hx(c,l,v),this.k[s],n[s]),C=Xr(Vx(i),zx(i,a,o));S=v,v=l,l=c,c=Xr(f,D),f=o,o=a,a=i,i=Xr(D,C)}this.h[0]=Xr(this.h[0],i),this.h[1]=Xr(this.h[1],a),this.h[2]=Xr(this.h[2],o),this.h[3]=Xr(this.h[3],f),this.h[4]=Xr(this.h[4],c),this.h[5]=Xr(this.h[5],l),this.h[6]=Xr(this.h[6],v),this.h[7]=Xr(this.h[7],S)};Tn.prototype._digest=function(t){return t==="hex"?Js.toHex32(this.h,"big"):Js.split32(this.h,"big")};var Bl=ot,Gb=Kb;function ri(){if(!(this instanceof ri))return new ri;Gb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Bl.inherits(ri,Gb);var Jx=ri;ri.blockSize=512;ri.outSize=224;ri.hmacStrength=192;ri.padLength=64;ri.prototype._digest=function(t){return t==="hex"?Bl.toHex32(this.h.slice(0,7),"big"):Bl.split32(this.h.slice(0,7),"big")};var xr=ot,Xx=ho,Zx=bs,En=xr.rotr64_hi,xn=xr.rotr64_lo,Wb=xr.shr64_hi,Yb=xr.shr64_lo,hi=xr.sum64,Nu=xr.sum64_hi,Ru=xr.sum64_lo,Qx=xr.sum64_4_hi,e7=xr.sum64_4_lo,t7=xr.sum64_5_hi,r7=xr.sum64_5_lo,Jb=Xx.BlockHash,n7=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fn(){if(!(this instanceof fn))return new fn;Jb.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=n7,this.W=new Array(160)}xr.inherits(fn,Jb);var Xb=fn;fn.blockSize=1024;fn.outSize=512;fn.hmacStrength=192;fn.padLength=128;fn.prototype._prepareBlock=function(t,r){for(var n=this.W,s=0;s<32;s++)n[s]=t[r+s];for(;s<n.length;s+=2){var i=p7(n[s-4],n[s-3]),a=g7(n[s-4],n[s-3]),o=n[s-14],f=n[s-13],c=d7(n[s-30],n[s-29]),l=h7(n[s-30],n[s-29]),v=n[s-32],S=n[s-31];n[s]=Qx(i,a,o,f,c,l,v,S),n[s+1]=e7(i,a,o,f,c,l,v,S)}};fn.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,s=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],l=this.h[6],v=this.h[7],S=this.h[8],D=this.h[9],C=this.h[10],q=this.h[11],H=this.h[12],Z=this.h[13],W=this.h[14],K=this.h[15];Zx(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var z=W,P=K,g=u7(S,D),$=l7(S,D),Y=i7(S,D,C,q,H),Q=s7(S,D,C,q,H,Z),G=this.k[B],h=this.k[B+1],m=n[B],u=n[B+1],p=t7(z,P,g,$,Y,Q,G,h,m,u),A=r7(z,P,g,$,Y,Q,G,h,m,u);z=c7(s,i),P=f7(s,i),g=o7(s,i,a,o,f),$=a7(s,i,a,o,f,c);var x=Nu(z,P,g,$),O=Ru(z,P,g,$);W=H,K=Z,H=C,Z=q,C=S,q=D,S=Nu(l,v,p,A),D=Ru(v,v,p,A),l=f,v=c,f=a,c=o,a=s,o=i,s=Nu(p,A,x,O),i=Ru(p,A,x,O)}hi(this.h,0,s,i),hi(this.h,2,a,o),hi(this.h,4,f,c),hi(this.h,6,l,v),hi(this.h,8,S,D),hi(this.h,10,C,q),hi(this.h,12,H,Z),hi(this.h,14,W,K)};fn.prototype._digest=function(t){return t==="hex"?xr.toHex32(this.h,"big"):xr.split32(this.h,"big")};function i7(e,t,r,n,s){var i=e&r^~e&s;return i<0&&(i+=4294967296),i}function s7(e,t,r,n,s,i){var a=t&n^~t&i;return a<0&&(a+=4294967296),a}function o7(e,t,r,n,s){var i=e&r^e&s^r&s;return i<0&&(i+=4294967296),i}function a7(e,t,r,n,s,i){var a=t&n^t&i^n&i;return a<0&&(a+=4294967296),a}function c7(e,t){var r=En(e,t,28),n=En(t,e,2),s=En(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function f7(e,t){var r=xn(e,t,28),n=xn(t,e,2),s=xn(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function u7(e,t){var r=En(e,t,14),n=En(e,t,18),s=En(t,e,9),i=r^n^s;return i<0&&(i+=4294967296),i}function l7(e,t){var r=xn(e,t,14),n=xn(e,t,18),s=xn(t,e,9),i=r^n^s;return i<0&&(i+=4294967296),i}function d7(e,t){var r=En(e,t,1),n=En(e,t,8),s=Wb(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function h7(e,t){var r=xn(e,t,1),n=xn(e,t,8),s=Yb(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function p7(e,t){var r=En(e,t,19),n=En(t,e,29),s=Wb(e,t,6),i=r^n^s;return i<0&&(i+=4294967296),i}function g7(e,t){var r=xn(e,t,19),n=xn(t,e,29),s=Yb(e,t,6),i=r^n^s;return i<0&&(i+=4294967296),i}var $l=ot,Zb=Xb;function ni(){if(!(this instanceof ni))return new ni;Zb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}$l.inherits(ni,Zb);var m7=ni;ni.blockSize=1024;ni.outSize=384;ni.hmacStrength=192;ni.padLength=128;ni.prototype._digest=function(t){return t==="hex"?$l.toHex32(this.h.slice(0,12),"big"):$l.split32(this.h.slice(0,12),"big")};po.sha1=Lx;po.sha224=Jx;po.sha256=Kb;po.sha384=m7;po.sha512=Xb;var Qb={},ps=ot,b7=ho,nc=ps.rotl32,xp=ps.sum32,No=ps.sum32_3,Sp=ps.sum32_4,ey=b7.BlockHash;function Mn(){if(!(this instanceof Mn))return new Mn;ey.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ps.inherits(Mn,ey);Qb.ripemd160=Mn;Mn.blockSize=512;Mn.outSize=160;Mn.hmacStrength=192;Mn.padLength=64;Mn.prototype._update=function(t,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],f=n,c=s,l=i,v=a,S=o,D=0;D<80;D++){var C=xp(nc(Sp(n,Ap(D,s,i,a),t[w7[D]+r],y7(D)),E7[D]),o);n=o,o=a,a=nc(i,10),i=s,s=C,C=xp(nc(Sp(f,Ap(79-D,c,l,v),t[_7[D]+r],v7(D)),x7[D]),S),f=S,S=v,v=nc(l,10),l=c,c=C}C=No(this.h[1],i,v),this.h[1]=No(this.h[2],a,S),this.h[2]=No(this.h[3],o,f),this.h[3]=No(this.h[4],n,c),this.h[4]=No(this.h[0],s,l),this.h[0]=C};Mn.prototype._digest=function(t){return t==="hex"?ps.toHex32(this.h,"little"):ps.split32(this.h,"little")};function Ap(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function y7(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function v7(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var w7=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_7=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E7=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x7=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],S7=ot,A7=bs;function Xs(e,t,r){if(!(this instanceof Xs))return new Xs(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(S7.toArray(t,r))}var I7=Xs;Xs.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),A7(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};Xs.prototype.update=function(t,r){return this.inner.update(t,r),this};Xs.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=ot,t.common=ho,t.sha=po,t.ripemd=Qb,t.hmac=I7,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Mf);var Bu,Ip;function T7(){return Ip||(Ip=1,Bu={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Bu}(function(e){var t=e,r=Mf,n=nd,s=Rr,i=s.assert;function a(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=a;function o(c,l){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var v=new a(l);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:v}),v}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=T7()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(Tf);var M7=Mf,fs=td,ty=bs;function Pi(e){if(!(this instanceof Pi))return new Pi(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fs.toArray(e.entropy,e.entropyEnc||"hex"),r=fs.toArray(e.nonce,e.nonceEnc||"hex"),n=fs.toArray(e.pers,e.persEnc||"hex");ty(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var C7=Pi;Pi.prototype._init=function(t,r,n){var s=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Pi.prototype._hmac=function(){return new M7.hmac(this.hash,this.K)};Pi.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Pi.prototype.reseed=function(t,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),t=fs.toArray(t,r),n=fs.toArray(n,s),ty(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Pi.prototype.generate=function(t,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=fs.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,t);return this._update(n),this._reseed++,fs.encode(a,r)};var O7=oi,P7=Rr,Ul=P7.assert;function or(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var D7=or;or.fromPublic=function(t,r,n){return r instanceof or?r:new or(t,{pub:r,pubEnc:n})};or.fromPrivate=function(t,r,n){return r instanceof or?r:new or(t,{priv:r,privEnc:n})};or.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};or.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};or.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};or.prototype._importPrivate=function(t,r){this.priv=new O7(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};or.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?Ul(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ul(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};or.prototype.derive=function(t){return t.validate()||Ul(t.validate(),"public point not validated"),t.mul(this.priv).getX()};or.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};or.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};or.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Uc=oi,sd=Rr,N7=sd.assert;function Of(e,t){if(e instanceof Of)return e;this._importDER(e,t)||(N7(e.r&&e.s,"Signature without r or s"),this.r=new Uc(e.r,16),this.s=new Uc(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var R7=Of;function B7(){this.place=0}function $u(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var s=0,i=0,a=t.place;i<n;i++,a++)s<<=8,s|=e[a],s>>>=0;return s<=127?!1:(t.place=a,s)}function Tp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Of.prototype._importDER=function(t,r){t=sd.toArray(t,r);var n=new B7;if(t[n.place++]!==48)return!1;var s=$u(t,n);if(s===!1||s+n.place!==t.length||t[n.place++]!==2)return!1;var i=$u(t,n);if(i===!1)return!1;var a=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var o=$u(t,n);if(o===!1||t.length!==o+n.place)return!1;var f=t.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Uc(a),this.s=new Uc(f),this.recoveryParam=null,!0};function Uu(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Of.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Tp(r),n=Tp(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];Uu(s,r.length),s=s.concat(r),s.push(2),Uu(s,n.length);var i=s.concat(n),a=[48];return Uu(a,i.length),a=a.concat(i),sd.encode(a,t)};var us=oi,ry=C7,$7=Rr,Lu=Tf,U7=Bb,ny=$7.assert,od=D7,Pf=R7;function Gr(e){if(!(this instanceof Gr))return new Gr(e);typeof e=="string"&&(ny(Object.prototype.hasOwnProperty.call(Lu,e),"Unknown curve "+e),e=Lu[e]),e instanceof Lu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var L7=Gr;Gr.prototype.keyPair=function(t){return new od(this,t)};Gr.prototype.keyFromPrivate=function(t,r){return od.fromPrivate(this,t,r)};Gr.prototype.keyFromPublic=function(t,r){return od.fromPublic(this,t,r)};Gr.prototype.genKeyPair=function(t){t||(t={});for(var r=new ry({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||U7(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new us(2));;){var i=new us(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Gr.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Gr.prototype.sign=function(t,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new us(t,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=t.toArray("be",i),f=new ry({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),c=this.n.sub(new us(1)),l=0;;l++){var v=s.k?s.k(l):new us(f.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(c)>=0)){var S=this.g.mul(v);if(!S.isInfinity()){var D=S.getX(),C=D.umod(this.n);if(C.cmpn(0)!==0){var q=v.invm(this.n).mul(C.mul(r.getPrivate()).iadd(t));if(q=q.umod(this.n),q.cmpn(0)!==0){var H=(S.getY().isOdd()?1:0)|(D.cmp(C)!==0?2:0);return s.canonical&&q.cmp(this.nh)>0&&(q=this.n.sub(q),H^=1),new Pf({r:C,s:q,recoveryParam:H})}}}}}};Gr.prototype.verify=function(t,r,n,s){t=this._truncateToN(new us(t,16)),n=this.keyFromPublic(n,s),r=new Pf(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),f=o.mul(t).umod(this.n),c=o.mul(i).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,n.getPublic(),c),l.isInfinity()?!1:l.eqXToP(i)):(l=this.g.mulAdd(f,n.getPublic(),c),l.isInfinity()?!1:l.getX().umod(this.n).cmp(i)===0)};Gr.prototype.recoverPubKey=function(e,t,r,n){ny((3&r)===r,"The recovery param is more than two bits"),t=new Pf(t,n);var s=this.n,i=new us(e),a=t.r,o=t.s,f=r&1,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),f):a=this.curve.pointFromX(a,f);var l=t.r.invm(s),v=s.sub(i).mul(l).umod(s),S=o.mul(l).umod(s);return this.g.mulAdd(v,a,S)};Gr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Pf(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(e,t,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var Ba=Rr,iy=Ba.assert,Mp=Ba.parseBytes,mo=Ba.cachedProperty;function Lt(e,t){this.eddsa=e,this._secret=Mp(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Mp(t.pub)}Lt.fromPublic=function(t,r){return r instanceof Lt?r:new Lt(t,{pub:r})};Lt.fromSecret=function(t,r){return r instanceof Lt?r:new Lt(t,{secret:r})};Lt.prototype.secret=function(){return this._secret};mo(Lt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});mo(Lt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});mo(Lt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,s=r.slice(0,t.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});mo(Lt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});mo(Lt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});mo(Lt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Lt.prototype.sign=function(t){return iy(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Lt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Lt.prototype.getSecret=function(t){return iy(this._secret,"KeyPair is public only"),Ba.encode(this.secret(),t)};Lt.prototype.getPublic=function(t){return Ba.encode(this.pubBytes(),t)};var F7=Lt,k7=oi,Df=Rr,j7=Df.assert,Nf=Df.cachedProperty,q7=Df.parseBytes;function ys(e,t){this.eddsa=e,typeof t!="object"&&(t=q7(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),j7(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof k7&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Nf(ys,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Nf(ys,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Nf(ys,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Nf(ys,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ys.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ys.prototype.toHex=function(){return Df.encode(this.toBytes(),"hex").toUpperCase()};var H7=ys,z7=Mf,V7=Tf,Zs=Rr,K7=Zs.assert,sy=Zs.parseBytes,oy=F7,Cp=H7;function Sr(e){if(K7(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Sr))return new Sr(e);e=V7[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=z7.sha512}var G7=Sr;Sr.prototype.sign=function(t,r){t=sy(t);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),t),i=this.g.mul(s),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),t).mul(n.priv()),f=s.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:a})};Sr.prototype.verify=function(t,r,n){t=sy(t),r=this.makeSignature(r);var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),t),a=this.g.mul(r.S()),o=r.R().add(s.pub().mul(i));return o.eq(a)};Sr.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Zs.intFromLE(t.digest()).umod(this.curve.n)};Sr.prototype.keyFromPublic=function(t){return oy.fromPublic(this,t)};Sr.prototype.keyFromSecret=function(t){return oy.fromSecret(this,t)};Sr.prototype.makeSignature=function(t){return t instanceof Cp?t:new Cp(this,t)};Sr.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Sr.prototype.decodePoint=function(t){t=Zs.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),s=(t[r]&128)!==0,i=Zs.intFromLE(n);return this.curve.pointFromY(i,s)};Sr.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Sr.prototype.decodeInt=function(t){return Zs.intFromLE(t)};Sr.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=VE.version,t.utils=Rr,t.rand=Bb,t.curve=nd,t.curves=Tf,t.ec=L7,t.eddsa=G7})(Q0);var ad={exports:{}};ad.exports;(function(e){(function(t,r){function n(m,u){if(!m)throw new Error(u||"Assertion failed")}function s(m,u){m.super_=u;var p=function(){};p.prototype=u.prototype,m.prototype=new p,m.prototype.constructor=m}function i(m,u,p){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(m||0,u||10,p||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=an.Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,p){return u.cmp(p)>0?u:p},i.min=function(u,p){return u.cmp(p)<0?u:p},i.prototype._init=function(u,p,A){if(typeof u=="number")return this._initNumber(u,p,A);if(typeof u=="object")return this._initArray(u,p,A);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(p===16?this._parseHex(u,x,A):(this._parseBase(u,p,x),A==="le"&&this._initArray(this.toArray(),p,A)))},i.prototype._initNumber=function(u,p,A){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),p,A)},i.prototype._initArray=function(u,p,A){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var O,N,w=0;if(A==="be")for(x=u.length-1,O=0;x>=0;x-=3)N=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[O]|=N<<w&67108863,this.words[O+1]=N>>>26-w&67108863,w+=24,w>=26&&(w-=26,O++);else if(A==="le")for(x=0,O=0;x<u.length;x+=3)N=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[O]|=N<<w&67108863,this.words[O+1]=N>>>26-w&67108863,w+=24,w>=26&&(w-=26,O++);return this._strip()};function o(m,u){var p=m.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+m)}function f(m,u,p){var A=o(m,p);return p-1>=u&&(A|=o(m,p-1)<<4),A}i.prototype._parseHex=function(u,p,A){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var O=0,N=0,w;if(A==="be")for(x=u.length-1;x>=p;x-=2)w=f(u,p,x)<<O,this.words[N]|=w&67108863,O>=18?(O-=18,N+=1,this.words[N]|=w>>>26):O+=8;else{var I=u.length-p;for(x=I%2===0?p+1:p;x<u.length;x+=2)w=f(u,p,x)<<O,this.words[N]|=w&67108863,O>=18?(O-=18,N+=1,this.words[N]|=w>>>26):O+=8}this._strip()};function c(m,u,p,A){for(var x=0,O=0,N=Math.min(m.length,p),w=u;w<N;w++){var I=m.charCodeAt(w)-48;x*=A,I>=49?O=I-49+10:I>=17?O=I-17+10:O=I,n(I>=0&&O<A,"Invalid character"),x+=O}return x}i.prototype._parseBase=function(u,p,A){this.words=[0],this.length=1;for(var x=0,O=1;O<=67108863;O*=p)x++;x--,O=O/p|0;for(var N=u.length-A,w=N%x,I=Math.min(N,N-w)+A,T=0,k=A;k<I;k+=x)T=c(u,k,k+x,p),this.imuln(O),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(w!==0){var ce=1;for(T=c(u,k,u.length,p),k=0;k<w;k++)ce*=p;this.imuln(ce),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},i.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function l(m,u){m.words=u.words,m.length=u.length,m.negative=u.negative,m.red=u.red}if(i.prototype._move=function(u){l(u,this)},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{i.prototype.inspect=v}else i.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,p){u=u||10,p=p|0||1;var A;if(u===16||u==="hex"){A="";for(var x=0,O=0,N=0;N<this.length;N++){var w=this.words[N],I=((w<<x|O)&16777215).toString(16);O=w>>>24-x&16777215,x+=2,x>=26&&(x-=26,N--),O!==0||N!==this.length-1?A=S[6-I.length]+I+A:A=I+A}for(O!==0&&(A=O.toString(16)+A);A.length%p!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(u===(u|0)&&u>=2&&u<=36){var T=D[u],k=C[u];A="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var fe=ce.modrn(k).toString(u);ce=ce.idivn(k),ce.isZero()?A=fe+A:A=S[T-fe.length]+fe+A}for(this.isZero()&&(A="0"+A);A.length%p!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(u,p){return this.toArrayLike(a,u,p)}),i.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var q=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};i.prototype.toArrayLike=function(u,p,A){this._strip();var x=this.byteLength(),O=A||Math.max(1,x);n(x<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var N=q(u,O),w=p==="le"?"LE":"BE";return this["_toArrayLike"+w](N,x),N},i.prototype._toArrayLikeLE=function(u,p){for(var A=0,x=0,O=0,N=0;O<this.length;O++){var w=this.words[O]<<N|x;u[A++]=w&255,A<u.length&&(u[A++]=w>>8&255),A<u.length&&(u[A++]=w>>16&255),N===6?(A<u.length&&(u[A++]=w>>24&255),x=0,N=0):(x=w>>>24,N+=2)}if(A<u.length)for(u[A++]=x;A<u.length;)u[A++]=0},i.prototype._toArrayLikeBE=function(u,p){for(var A=u.length-1,x=0,O=0,N=0;O<this.length;O++){var w=this.words[O]<<N|x;u[A--]=w&255,A>=0&&(u[A--]=w>>8&255),A>=0&&(u[A--]=w>>16&255),N===6?(A>=0&&(u[A--]=w>>24&255),x=0,N=0):(x=w>>>24,N+=2)}if(A>=0)for(u[A--]=x;A>=0;)u[A--]=0},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var p=u,A=0;return p>=4096&&(A+=13,p>>>=13),p>=64&&(A+=7,p>>>=7),p>=8&&(A+=4,p>>>=4),p>=2&&(A+=2,p>>>=2),A+p},i.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,A=0;return p&8191||(A+=13,p>>>=13),p&127||(A+=7,p>>>=7),p&15||(A+=4,p>>>=4),p&3||(A+=2,p>>>=2),p&1||A++,A},i.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function H(m){for(var u=new Array(m.bitLength()),p=0;p<u.length;p++){var A=p/26|0,x=p%26;u[p]=m.words[A]>>>x&1}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var A=this._zeroBits(this.words[p]);if(u+=A,A!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},i.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var A=0;A<p.length;A++)this.words[A]=this.words[A]&u.words[A];return this.length=p.length,this._strip()},i.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var p,A;this.length>u.length?(p=this,A=u):(p=u,A=this);for(var x=0;x<A.length;x++)this.words[x]=p.words[x]^A.words[x];if(this!==p)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=p.length,this._strip()},i.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,A=u%26;this._expand(p),A>0&&p--;for(var x=0;x<p;x++)this.words[x]=~this.words[x]&67108863;return A>0&&(this.words[x]=~this.words[x]&67108863>>26-A),this._strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var A=u/26|0,x=u%26;return this._expand(A+1),p?this.words[A]=this.words[A]|1<<x:this.words[A]=this.words[A]&~(1<<x),this._strip()},i.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var A,x;this.length>u.length?(A=this,x=u):(A=u,x=this);for(var O=0,N=0;N<x.length;N++)p=(A.words[N]|0)+(x.words[N]|0)+O,this.words[N]=p&67108863,O=p>>>26;for(;O!==0&&N<A.length;N++)p=(A.words[N]|0)+O,this.words[N]=p&67108863,O=p>>>26;if(this.length=A.length,O!==0)this.words[this.length]=O,this.length++;else if(A!==this)for(;N<A.length;N++)this.words[N]=A.words[N];return this},i.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var A=this.cmp(u);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,O;A>0?(x=this,O=u):(x=u,O=this);for(var N=0,w=0;w<O.length;w++)p=(x.words[w]|0)-(O.words[w]|0)+N,N=p>>26,this.words[w]=p&67108863;for(;N!==0&&w<x.length;w++)p=(x.words[w]|0)+N,N=p>>26,this.words[w]=p&67108863;if(N===0&&w<x.length&&x!==this)for(;w<x.length;w++)this.words[w]=x.words[w];return this.length=Math.max(this.length,w),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function Z(m,u,p){p.negative=u.negative^m.negative;var A=m.length+u.length|0;p.length=A,A=A-1|0;var x=m.words[0]|0,O=u.words[0]|0,N=x*O,w=N&67108863,I=N/67108864|0;p.words[0]=w;for(var T=1;T<A;T++){for(var k=I>>>26,ce=I&67108863,fe=Math.min(T,u.length-1),be=Math.max(0,T-m.length+1);be<=fe;be++){var he=T-be|0;x=m.words[he]|0,O=u.words[be]|0,N=x*O+ce,k+=N/67108864|0,ce=N&67108863}p.words[T]=ce|0,I=k|0}return I!==0?p.words[T]=I|0:p.length--,p._strip()}var W=function(u,p,A){var x=u.words,O=p.words,N=A.words,w=0,I,T,k,ce=x[0]|0,fe=ce&8191,be=ce>>>13,he=x[1]|0,pe=he&8191,le=he>>>13,y=x[2]|0,F=y&8191,re=y>>>13,j=x[3]|0,J=j&8191,te=j>>>13,R=x[4]|0,_=R&8191,E=R>>>13,L=x[5]|0,V=L&8191,ee=L>>>13,ie=x[6]|0,me=ie&8191,ye=ie>>>13,ve=x[7]|0,Se=ve&8191,M=ve>>>13,d=x[8]|0,b=d&8191,U=d>>>13,X=x[9]|0,se=X&8191,oe=X>>>13,_e=O[0]|0,xe=_e&8191,Ae=_e>>>13,Me=O[1]|0,De=Me&8191,Le=Me>>>13,Ze=O[2]|0,it=Ze&8191,je=Ze>>>13,qe=O[3]|0,Ge=qe&8191,ae=qe>>>13,ne=O[4]|0,ue=ne&8191,ge=ne>>>13,Ee=O[5]|0,Ie=Ee&8191,Te=Ee>>>13,Ce=O[6]|0,Re=Ce&8191,Oe=Ce>>>13,$e=O[7]|0,Ue=$e&8191,Ne=$e>>>13,Ke=O[8]|0,Xe=Ke&8191,We=Ke>>>13,dt=O[9]|0,rt=dt&8191,ft=dt>>>13;A.negative=u.negative^p.negative,A.length=19,I=Math.imul(fe,xe),T=Math.imul(fe,Ae),T=T+Math.imul(be,xe)|0,k=Math.imul(be,Ae);var mr=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(mr>>>26)|0,mr&=67108863,I=Math.imul(pe,xe),T=Math.imul(pe,Ae),T=T+Math.imul(le,xe)|0,k=Math.imul(le,Ae),I=I+Math.imul(fe,De)|0,T=T+Math.imul(fe,Le)|0,T=T+Math.imul(be,De)|0,k=k+Math.imul(be,Le)|0;var Ir=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,I=Math.imul(F,xe),T=Math.imul(F,Ae),T=T+Math.imul(re,xe)|0,k=Math.imul(re,Ae),I=I+Math.imul(pe,De)|0,T=T+Math.imul(pe,Le)|0,T=T+Math.imul(le,De)|0,k=k+Math.imul(le,Le)|0,I=I+Math.imul(fe,it)|0,T=T+Math.imul(fe,je)|0,T=T+Math.imul(be,it)|0,k=k+Math.imul(be,je)|0;var cr=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(cr>>>26)|0,cr&=67108863,I=Math.imul(J,xe),T=Math.imul(J,Ae),T=T+Math.imul(te,xe)|0,k=Math.imul(te,Ae),I=I+Math.imul(F,De)|0,T=T+Math.imul(F,Le)|0,T=T+Math.imul(re,De)|0,k=k+Math.imul(re,Le)|0,I=I+Math.imul(pe,it)|0,T=T+Math.imul(pe,je)|0,T=T+Math.imul(le,it)|0,k=k+Math.imul(le,je)|0,I=I+Math.imul(fe,Ge)|0,T=T+Math.imul(fe,ae)|0,T=T+Math.imul(be,Ge)|0,k=k+Math.imul(be,ae)|0;var ln=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(ln>>>26)|0,ln&=67108863,I=Math.imul(_,xe),T=Math.imul(_,Ae),T=T+Math.imul(E,xe)|0,k=Math.imul(E,Ae),I=I+Math.imul(J,De)|0,T=T+Math.imul(J,Le)|0,T=T+Math.imul(te,De)|0,k=k+Math.imul(te,Le)|0,I=I+Math.imul(F,it)|0,T=T+Math.imul(F,je)|0,T=T+Math.imul(re,it)|0,k=k+Math.imul(re,je)|0,I=I+Math.imul(pe,Ge)|0,T=T+Math.imul(pe,ae)|0,T=T+Math.imul(le,Ge)|0,k=k+Math.imul(le,ae)|0,I=I+Math.imul(fe,ue)|0,T=T+Math.imul(fe,ge)|0,T=T+Math.imul(be,ue)|0,k=k+Math.imul(be,ge)|0;var fr=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(fr>>>26)|0,fr&=67108863,I=Math.imul(V,xe),T=Math.imul(V,Ae),T=T+Math.imul(ee,xe)|0,k=Math.imul(ee,Ae),I=I+Math.imul(_,De)|0,T=T+Math.imul(_,Le)|0,T=T+Math.imul(E,De)|0,k=k+Math.imul(E,Le)|0,I=I+Math.imul(J,it)|0,T=T+Math.imul(J,je)|0,T=T+Math.imul(te,it)|0,k=k+Math.imul(te,je)|0,I=I+Math.imul(F,Ge)|0,T=T+Math.imul(F,ae)|0,T=T+Math.imul(re,Ge)|0,k=k+Math.imul(re,ae)|0,I=I+Math.imul(pe,ue)|0,T=T+Math.imul(pe,ge)|0,T=T+Math.imul(le,ue)|0,k=k+Math.imul(le,ge)|0,I=I+Math.imul(fe,Ie)|0,T=T+Math.imul(fe,Te)|0,T=T+Math.imul(be,Ie)|0,k=k+Math.imul(be,Te)|0;var Nn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,I=Math.imul(me,xe),T=Math.imul(me,Ae),T=T+Math.imul(ye,xe)|0,k=Math.imul(ye,Ae),I=I+Math.imul(V,De)|0,T=T+Math.imul(V,Le)|0,T=T+Math.imul(ee,De)|0,k=k+Math.imul(ee,Le)|0,I=I+Math.imul(_,it)|0,T=T+Math.imul(_,je)|0,T=T+Math.imul(E,it)|0,k=k+Math.imul(E,je)|0,I=I+Math.imul(J,Ge)|0,T=T+Math.imul(J,ae)|0,T=T+Math.imul(te,Ge)|0,k=k+Math.imul(te,ae)|0,I=I+Math.imul(F,ue)|0,T=T+Math.imul(F,ge)|0,T=T+Math.imul(re,ue)|0,k=k+Math.imul(re,ge)|0,I=I+Math.imul(pe,Ie)|0,T=T+Math.imul(pe,Te)|0,T=T+Math.imul(le,Ie)|0,k=k+Math.imul(le,Te)|0,I=I+Math.imul(fe,Re)|0,T=T+Math.imul(fe,Oe)|0,T=T+Math.imul(be,Re)|0,k=k+Math.imul(be,Oe)|0;var Rn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,I=Math.imul(Se,xe),T=Math.imul(Se,Ae),T=T+Math.imul(M,xe)|0,k=Math.imul(M,Ae),I=I+Math.imul(me,De)|0,T=T+Math.imul(me,Le)|0,T=T+Math.imul(ye,De)|0,k=k+Math.imul(ye,Le)|0,I=I+Math.imul(V,it)|0,T=T+Math.imul(V,je)|0,T=T+Math.imul(ee,it)|0,k=k+Math.imul(ee,je)|0,I=I+Math.imul(_,Ge)|0,T=T+Math.imul(_,ae)|0,T=T+Math.imul(E,Ge)|0,k=k+Math.imul(E,ae)|0,I=I+Math.imul(J,ue)|0,T=T+Math.imul(J,ge)|0,T=T+Math.imul(te,ue)|0,k=k+Math.imul(te,ge)|0,I=I+Math.imul(F,Ie)|0,T=T+Math.imul(F,Te)|0,T=T+Math.imul(re,Ie)|0,k=k+Math.imul(re,Te)|0,I=I+Math.imul(pe,Re)|0,T=T+Math.imul(pe,Oe)|0,T=T+Math.imul(le,Re)|0,k=k+Math.imul(le,Oe)|0,I=I+Math.imul(fe,Ue)|0,T=T+Math.imul(fe,Ne)|0,T=T+Math.imul(be,Ue)|0,k=k+Math.imul(be,Ne)|0;var Bn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,I=Math.imul(b,xe),T=Math.imul(b,Ae),T=T+Math.imul(U,xe)|0,k=Math.imul(U,Ae),I=I+Math.imul(Se,De)|0,T=T+Math.imul(Se,Le)|0,T=T+Math.imul(M,De)|0,k=k+Math.imul(M,Le)|0,I=I+Math.imul(me,it)|0,T=T+Math.imul(me,je)|0,T=T+Math.imul(ye,it)|0,k=k+Math.imul(ye,je)|0,I=I+Math.imul(V,Ge)|0,T=T+Math.imul(V,ae)|0,T=T+Math.imul(ee,Ge)|0,k=k+Math.imul(ee,ae)|0,I=I+Math.imul(_,ue)|0,T=T+Math.imul(_,ge)|0,T=T+Math.imul(E,ue)|0,k=k+Math.imul(E,ge)|0,I=I+Math.imul(J,Ie)|0,T=T+Math.imul(J,Te)|0,T=T+Math.imul(te,Ie)|0,k=k+Math.imul(te,Te)|0,I=I+Math.imul(F,Re)|0,T=T+Math.imul(F,Oe)|0,T=T+Math.imul(re,Re)|0,k=k+Math.imul(re,Oe)|0,I=I+Math.imul(pe,Ue)|0,T=T+Math.imul(pe,Ne)|0,T=T+Math.imul(le,Ue)|0,k=k+Math.imul(le,Ne)|0,I=I+Math.imul(fe,Xe)|0,T=T+Math.imul(fe,We)|0,T=T+Math.imul(be,Xe)|0,k=k+Math.imul(be,We)|0;var $n=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+($n>>>26)|0,$n&=67108863,I=Math.imul(se,xe),T=Math.imul(se,Ae),T=T+Math.imul(oe,xe)|0,k=Math.imul(oe,Ae),I=I+Math.imul(b,De)|0,T=T+Math.imul(b,Le)|0,T=T+Math.imul(U,De)|0,k=k+Math.imul(U,Le)|0,I=I+Math.imul(Se,it)|0,T=T+Math.imul(Se,je)|0,T=T+Math.imul(M,it)|0,k=k+Math.imul(M,je)|0,I=I+Math.imul(me,Ge)|0,T=T+Math.imul(me,ae)|0,T=T+Math.imul(ye,Ge)|0,k=k+Math.imul(ye,ae)|0,I=I+Math.imul(V,ue)|0,T=T+Math.imul(V,ge)|0,T=T+Math.imul(ee,ue)|0,k=k+Math.imul(ee,ge)|0,I=I+Math.imul(_,Ie)|0,T=T+Math.imul(_,Te)|0,T=T+Math.imul(E,Ie)|0,k=k+Math.imul(E,Te)|0,I=I+Math.imul(J,Re)|0,T=T+Math.imul(J,Oe)|0,T=T+Math.imul(te,Re)|0,k=k+Math.imul(te,Oe)|0,I=I+Math.imul(F,Ue)|0,T=T+Math.imul(F,Ne)|0,T=T+Math.imul(re,Ue)|0,k=k+Math.imul(re,Ne)|0,I=I+Math.imul(pe,Xe)|0,T=T+Math.imul(pe,We)|0,T=T+Math.imul(le,Xe)|0,k=k+Math.imul(le,We)|0,I=I+Math.imul(fe,rt)|0,T=T+Math.imul(fe,ft)|0,T=T+Math.imul(be,rt)|0,k=k+Math.imul(be,ft)|0;var Un=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Un>>>26)|0,Un&=67108863,I=Math.imul(se,De),T=Math.imul(se,Le),T=T+Math.imul(oe,De)|0,k=Math.imul(oe,Le),I=I+Math.imul(b,it)|0,T=T+Math.imul(b,je)|0,T=T+Math.imul(U,it)|0,k=k+Math.imul(U,je)|0,I=I+Math.imul(Se,Ge)|0,T=T+Math.imul(Se,ae)|0,T=T+Math.imul(M,Ge)|0,k=k+Math.imul(M,ae)|0,I=I+Math.imul(me,ue)|0,T=T+Math.imul(me,ge)|0,T=T+Math.imul(ye,ue)|0,k=k+Math.imul(ye,ge)|0,I=I+Math.imul(V,Ie)|0,T=T+Math.imul(V,Te)|0,T=T+Math.imul(ee,Ie)|0,k=k+Math.imul(ee,Te)|0,I=I+Math.imul(_,Re)|0,T=T+Math.imul(_,Oe)|0,T=T+Math.imul(E,Re)|0,k=k+Math.imul(E,Oe)|0,I=I+Math.imul(J,Ue)|0,T=T+Math.imul(J,Ne)|0,T=T+Math.imul(te,Ue)|0,k=k+Math.imul(te,Ne)|0,I=I+Math.imul(F,Xe)|0,T=T+Math.imul(F,We)|0,T=T+Math.imul(re,Xe)|0,k=k+Math.imul(re,We)|0,I=I+Math.imul(pe,rt)|0,T=T+Math.imul(pe,ft)|0,T=T+Math.imul(le,rt)|0,k=k+Math.imul(le,ft)|0;var Ur=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,I=Math.imul(se,it),T=Math.imul(se,je),T=T+Math.imul(oe,it)|0,k=Math.imul(oe,je),I=I+Math.imul(b,Ge)|0,T=T+Math.imul(b,ae)|0,T=T+Math.imul(U,Ge)|0,k=k+Math.imul(U,ae)|0,I=I+Math.imul(Se,ue)|0,T=T+Math.imul(Se,ge)|0,T=T+Math.imul(M,ue)|0,k=k+Math.imul(M,ge)|0,I=I+Math.imul(me,Ie)|0,T=T+Math.imul(me,Te)|0,T=T+Math.imul(ye,Ie)|0,k=k+Math.imul(ye,Te)|0,I=I+Math.imul(V,Re)|0,T=T+Math.imul(V,Oe)|0,T=T+Math.imul(ee,Re)|0,k=k+Math.imul(ee,Oe)|0,I=I+Math.imul(_,Ue)|0,T=T+Math.imul(_,Ne)|0,T=T+Math.imul(E,Ue)|0,k=k+Math.imul(E,Ne)|0,I=I+Math.imul(J,Xe)|0,T=T+Math.imul(J,We)|0,T=T+Math.imul(te,Xe)|0,k=k+Math.imul(te,We)|0,I=I+Math.imul(F,rt)|0,T=T+Math.imul(F,ft)|0,T=T+Math.imul(re,rt)|0,k=k+Math.imul(re,ft)|0;var Ln=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,I=Math.imul(se,Ge),T=Math.imul(se,ae),T=T+Math.imul(oe,Ge)|0,k=Math.imul(oe,ae),I=I+Math.imul(b,ue)|0,T=T+Math.imul(b,ge)|0,T=T+Math.imul(U,ue)|0,k=k+Math.imul(U,ge)|0,I=I+Math.imul(Se,Ie)|0,T=T+Math.imul(Se,Te)|0,T=T+Math.imul(M,Ie)|0,k=k+Math.imul(M,Te)|0,I=I+Math.imul(me,Re)|0,T=T+Math.imul(me,Oe)|0,T=T+Math.imul(ye,Re)|0,k=k+Math.imul(ye,Oe)|0,I=I+Math.imul(V,Ue)|0,T=T+Math.imul(V,Ne)|0,T=T+Math.imul(ee,Ue)|0,k=k+Math.imul(ee,Ne)|0,I=I+Math.imul(_,Xe)|0,T=T+Math.imul(_,We)|0,T=T+Math.imul(E,Xe)|0,k=k+Math.imul(E,We)|0,I=I+Math.imul(J,rt)|0,T=T+Math.imul(J,ft)|0,T=T+Math.imul(te,rt)|0,k=k+Math.imul(te,ft)|0;var Fn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,I=Math.imul(se,ue),T=Math.imul(se,ge),T=T+Math.imul(oe,ue)|0,k=Math.imul(oe,ge),I=I+Math.imul(b,Ie)|0,T=T+Math.imul(b,Te)|0,T=T+Math.imul(U,Ie)|0,k=k+Math.imul(U,Te)|0,I=I+Math.imul(Se,Re)|0,T=T+Math.imul(Se,Oe)|0,T=T+Math.imul(M,Re)|0,k=k+Math.imul(M,Oe)|0,I=I+Math.imul(me,Ue)|0,T=T+Math.imul(me,Ne)|0,T=T+Math.imul(ye,Ue)|0,k=k+Math.imul(ye,Ne)|0,I=I+Math.imul(V,Xe)|0,T=T+Math.imul(V,We)|0,T=T+Math.imul(ee,Xe)|0,k=k+Math.imul(ee,We)|0,I=I+Math.imul(_,rt)|0,T=T+Math.imul(_,ft)|0,T=T+Math.imul(E,rt)|0,k=k+Math.imul(E,ft)|0;var Qt=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,I=Math.imul(se,Ie),T=Math.imul(se,Te),T=T+Math.imul(oe,Ie)|0,k=Math.imul(oe,Te),I=I+Math.imul(b,Re)|0,T=T+Math.imul(b,Oe)|0,T=T+Math.imul(U,Re)|0,k=k+Math.imul(U,Oe)|0,I=I+Math.imul(Se,Ue)|0,T=T+Math.imul(Se,Ne)|0,T=T+Math.imul(M,Ue)|0,k=k+Math.imul(M,Ne)|0,I=I+Math.imul(me,Xe)|0,T=T+Math.imul(me,We)|0,T=T+Math.imul(ye,Xe)|0,k=k+Math.imul(ye,We)|0,I=I+Math.imul(V,rt)|0,T=T+Math.imul(V,ft)|0,T=T+Math.imul(ee,rt)|0,k=k+Math.imul(ee,ft)|0;var kn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(kn>>>26)|0,kn&=67108863,I=Math.imul(se,Re),T=Math.imul(se,Oe),T=T+Math.imul(oe,Re)|0,k=Math.imul(oe,Oe),I=I+Math.imul(b,Ue)|0,T=T+Math.imul(b,Ne)|0,T=T+Math.imul(U,Ue)|0,k=k+Math.imul(U,Ne)|0,I=I+Math.imul(Se,Xe)|0,T=T+Math.imul(Se,We)|0,T=T+Math.imul(M,Xe)|0,k=k+Math.imul(M,We)|0,I=I+Math.imul(me,rt)|0,T=T+Math.imul(me,ft)|0,T=T+Math.imul(ye,rt)|0,k=k+Math.imul(ye,ft)|0;var jn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(jn>>>26)|0,jn&=67108863,I=Math.imul(se,Ue),T=Math.imul(se,Ne),T=T+Math.imul(oe,Ue)|0,k=Math.imul(oe,Ne),I=I+Math.imul(b,Xe)|0,T=T+Math.imul(b,We)|0,T=T+Math.imul(U,Xe)|0,k=k+Math.imul(U,We)|0,I=I+Math.imul(Se,rt)|0,T=T+Math.imul(Se,ft)|0,T=T+Math.imul(M,rt)|0,k=k+Math.imul(M,ft)|0;var qn=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(qn>>>26)|0,qn&=67108863,I=Math.imul(se,Xe),T=Math.imul(se,We),T=T+Math.imul(oe,Xe)|0,k=Math.imul(oe,We),I=I+Math.imul(b,rt)|0,T=T+Math.imul(b,ft)|0,T=T+Math.imul(U,rt)|0,k=k+Math.imul(U,ft)|0;var Io=(w+I|0)+((T&8191)<<13)|0;w=(k+(T>>>13)|0)+(Io>>>26)|0,Io&=67108863,I=Math.imul(se,rt),T=Math.imul(se,ft),T=T+Math.imul(oe,rt)|0,k=Math.imul(oe,ft);var To=(w+I|0)+((T&8191)<<13)|0;return w=(k+(T>>>13)|0)+(To>>>26)|0,To&=67108863,N[0]=mr,N[1]=Ir,N[2]=cr,N[3]=ln,N[4]=fr,N[5]=Nn,N[6]=Rn,N[7]=Bn,N[8]=$n,N[9]=Un,N[10]=Ur,N[11]=Ln,N[12]=Fn,N[13]=Qt,N[14]=kn,N[15]=jn,N[16]=qn,N[17]=Io,N[18]=To,w!==0&&(N[19]=w,A.length++),A};Math.imul||(W=Z);function K(m,u,p){p.negative=u.negative^m.negative,p.length=m.length+u.length;for(var A=0,x=0,O=0;O<p.length-1;O++){var N=x;x=0;for(var w=A&67108863,I=Math.min(O,u.length-1),T=Math.max(0,O-m.length+1);T<=I;T++){var k=O-T,ce=m.words[k]|0,fe=u.words[T]|0,be=ce*fe,he=be&67108863;N=N+(be/67108864|0)|0,he=he+w|0,w=he&67108863,N=N+(he>>>26)|0,x+=N>>>26,N&=67108863}p.words[O]=w,A=N,N=x}return A!==0?p.words[O]=A:p.length--,p._strip()}function B(m,u,p){return K(m,u,p)}i.prototype.mulTo=function(u,p){var A,x=this.length+u.length;return this.length===10&&u.length===10?A=W(this,u,p):x<63?A=Z(this,u,p):x<1024?A=K(this,u,p):A=B(this,u,p),A},i.prototype.mul=function(u){var p=new i(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},i.prototype.mulf=function(u){var p=new i(null);return p.words=new Array(this.length+u.length),B(this,u,p)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var A=0,x=0;x<this.length;x++){var O=(this.words[x]|0)*u,N=(O&67108863)+(A&67108863);A>>=26,A+=O/67108864|0,A+=N>>>26,this.words[x]=N&67108863}return A!==0&&(this.words[x]=A,this.length++),p?this.ineg():this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var p=H(u);if(p.length===0)return new i(1);for(var A=this,x=0;x<p.length&&p[x]===0;x++,A=A.sqr());if(++x<p.length)for(var O=A.sqr();x<p.length;x++,O=O.sqr())p[x]!==0&&(A=A.mul(O));return A},i.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,A=(u-p)/26,x=67108863>>>26-p<<26-p,O;if(p!==0){var N=0;for(O=0;O<this.length;O++){var w=this.words[O]&x,I=(this.words[O]|0)-w<<p;this.words[O]=I|N,N=w>>>26-p}N&&(this.words[O]=N,this.length++)}if(A!==0){for(O=this.length-1;O>=0;O--)this.words[O+A]=this.words[O];for(O=0;O<A;O++)this.words[O]=0;this.length+=A}return this._strip()},i.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,p,A){n(typeof u=="number"&&u>=0);var x;p?x=(p-p%26)/26:x=0;var O=u%26,N=Math.min((u-O)/26,this.length),w=67108863^67108863>>>O<<O,I=A;if(x-=N,x=Math.max(0,x),I){for(var T=0;T<N;T++)I.words[T]=this.words[T];I.length=N}if(N!==0)if(this.length>N)for(this.length-=N,T=0;T<this.length;T++)this.words[T]=this.words[T+N];else this.words[0]=0,this.length=1;var k=0;for(T=this.length-1;T>=0&&(k!==0||T>=x);T--){var ce=this.words[T]|0;this.words[T]=k<<26-O|ce>>>O,k=ce&w}return I&&k!==0&&(I.words[I.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(u,p,A){return n(this.negative===0),this.iushrn(u,p,A)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,A=(u-p)/26,x=1<<p;if(this.length<=A)return!1;var O=this.words[A];return!!(O&x)},i.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,A=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(p!==0&&A++,this.length=Math.min(A,this.length),p!==0){var x=67108863^67108863>>>p<<p;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,p,A){var x=u.length+A,O;this._expand(x);var N,w=0;for(O=0;O<u.length;O++){N=(this.words[O+A]|0)+w;var I=(u.words[O]|0)*p;N-=I&67108863,w=(N>>26)-(I/67108864|0),this.words[O+A]=N&67108863}for(;O<this.length-A;O++)N=(this.words[O+A]|0)+w,w=N>>26,this.words[O+A]=N&67108863;if(w===0)return this._strip();for(n(w===-1),w=0,O=0;O<this.length;O++)N=-(this.words[O]|0)+w,w=N>>26,this.words[O]=N&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(u,p){var A=this.length-u.length,x=this.clone(),O=u,N=O.words[O.length-1]|0,w=this._countBits(N);A=26-w,A!==0&&(O=O.ushln(A),x.iushln(A),N=O.words[O.length-1]|0);var I=x.length-O.length,T;if(p!=="mod"){T=new i(null),T.length=I+1,T.words=new Array(T.length);for(var k=0;k<T.length;k++)T.words[k]=0}var ce=x.clone()._ishlnsubmul(O,1,I);ce.negative===0&&(x=ce,T&&(T.words[I]=1));for(var fe=I-1;fe>=0;fe--){var be=(x.words[O.length+fe]|0)*67108864+(x.words[O.length+fe-1]|0);for(be=Math.min(be/N|0,67108863),x._ishlnsubmul(O,be,fe);x.negative!==0;)be--,x.negative=0,x._ishlnsubmul(O,1,fe),x.isZero()||(x.negative^=1);T&&(T.words[fe]=be)}return T&&T._strip(),x._strip(),p!=="div"&&A!==0&&x.iushrn(A),{div:T||null,mod:x}},i.prototype.divmod=function(u,p,A){if(n(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,O,N;return this.negative!==0&&u.negative===0?(N=this.neg().divmod(u,p),p!=="mod"&&(x=N.div.neg()),p!=="div"&&(O=N.mod.neg(),A&&O.negative!==0&&O.iadd(u)),{div:x,mod:O}):this.negative===0&&u.negative!==0?(N=this.divmod(u.neg(),p),p!=="mod"&&(x=N.div.neg()),{div:x,mod:N.mod}):this.negative&u.negative?(N=this.neg().divmod(u.neg(),p),p!=="div"&&(O=N.mod.neg(),A&&O.negative!==0&&O.isub(u)),{div:N.div,mod:O}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modrn(u.words[0]))}:this._wordDiv(u,p)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var A=p.div.negative!==0?p.mod.isub(u):p.mod,x=u.ushrn(1),O=u.andln(1),N=A.cmp(x);return N<0||O===1&&N===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var A=(1<<26)%u,x=0,O=this.length-1;O>=0;O--)x=(A*x+(this.words[O]|0))%u;return p?-x:x},i.prototype.modn=function(u){return this.modrn(u)},i.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var A=0,x=this.length-1;x>=0;x--){var O=(this.words[x]|0)+A*67108864;this.words[x]=O/u|0,A=O%u}return this._strip(),p?this.ineg():this},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,A=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var x=new i(1),O=new i(0),N=new i(0),w=new i(1),I=0;p.isEven()&&A.isEven();)p.iushrn(1),A.iushrn(1),++I;for(var T=A.clone(),k=p.clone();!p.isZero();){for(var ce=0,fe=1;!(p.words[0]&fe)&&ce<26;++ce,fe<<=1);if(ce>0)for(p.iushrn(ce);ce-- >0;)(x.isOdd()||O.isOdd())&&(x.iadd(T),O.isub(k)),x.iushrn(1),O.iushrn(1);for(var be=0,he=1;!(A.words[0]&he)&&be<26;++be,he<<=1);if(be>0)for(A.iushrn(be);be-- >0;)(N.isOdd()||w.isOdd())&&(N.iadd(T),w.isub(k)),N.iushrn(1),w.iushrn(1);p.cmp(A)>=0?(p.isub(A),x.isub(N),O.isub(w)):(A.isub(p),N.isub(x),w.isub(O))}return{a:N,b:w,gcd:A.iushln(I)}},i.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,A=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var x=new i(1),O=new i(0),N=A.clone();p.cmpn(1)>0&&A.cmpn(1)>0;){for(var w=0,I=1;!(p.words[0]&I)&&w<26;++w,I<<=1);if(w>0)for(p.iushrn(w);w-- >0;)x.isOdd()&&x.iadd(N),x.iushrn(1);for(var T=0,k=1;!(A.words[0]&k)&&T<26;++T,k<<=1);if(T>0)for(A.iushrn(T);T-- >0;)O.isOdd()&&O.iadd(N),O.iushrn(1);p.cmp(A)>=0?(p.isub(A),x.isub(O)):(A.isub(p),O.isub(x))}var ce;return p.cmpn(1)===0?ce=x:ce=O,ce.cmpn(0)<0&&ce.iadd(u),ce},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),A=u.clone();p.negative=0,A.negative=0;for(var x=0;p.isEven()&&A.isEven();x++)p.iushrn(1),A.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;A.isEven();)A.iushrn(1);var O=p.cmp(A);if(O<0){var N=p;p=A,A=N}else if(O===0||A.cmpn(1)===0)break;p.isub(A)}while(!0);return A.iushln(x)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,A=(u-p)/26,x=1<<p;if(this.length<=A)return this._expand(A+1),this.words[A]|=x,this;for(var O=x,N=A;O!==0&&N<this.length;N++){var w=this.words[N]|0;w+=O,O=w>>>26,w&=67108863,this.words[N]=w}return O!==0&&(this.words[N]=O,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var A;if(this.length>1)A=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var x=this.words[0]|0;A=x===u?0:x<u?-1:1}return this.negative!==0?-A|0:A},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,A=this.length-1;A>=0;A--){var x=this.words[A]|0,O=u.words[A]|0;if(x!==O){x<O?p=-1:x>O&&(p=1);break}}return p},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new G(u)},i.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var z={k256:null,p224:null,p192:null,p25519:null};function P(m,u){this.name=m,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},P.prototype.ireduce=function(u){var p=u,A;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),A=p.bitLength();while(A>this.n);var x=A<this.n?-1:p.ucmp(this.p);return x===0?(p.words[0]=0,p.length=1):x>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},P.prototype.split=function(u,p){u.iushrn(this.n,0,p)},P.prototype.imulK=function(u){return u.imul(this.k)};function g(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(g,P),g.prototype.split=function(u,p){for(var A=4194303,x=Math.min(u.length,9),O=0;O<x;O++)p.words[O]=u.words[O];if(p.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var N=u.words[9];for(p.words[p.length++]=N&A,O=10;O<u.length;O++){var w=u.words[O]|0;u.words[O-10]=(w&A)<<4|N>>>22,N=w}N>>>=22,u.words[O-10]=N,N===0&&u.length>10?u.length-=10:u.length-=9},g.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,A=0;A<u.length;A++){var x=u.words[A]|0;p+=x*977,u.words[A]=p&67108863,p=x*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function $(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s($,P);function Y(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Y,P);function Q(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Q,P),Q.prototype.imulK=function(u){for(var p=0,A=0;A<u.length;A++){var x=(u.words[A]|0)*19+p,O=x&67108863;x>>>=26,u.words[A]=O,p=x}return p!==0&&(u.words[u.length++]=p),u},i._prime=function(u){if(z[u])return z[u];var p;if(u==="k256")p=new g;else if(u==="p224")p=new $;else if(u==="p192")p=new Y;else if(u==="p25519")p=new Q;else throw new Error("Unknown prime "+u);return z[u]=p,p};function G(m){if(typeof m=="string"){var u=i._prime(m);this.m=u.p,this.prime=u}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}G.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},G.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},G.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(l(u,u.umod(this.m)._forceRed(this)),u)},G.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},G.prototype.add=function(u,p){this._verify2(u,p);var A=u.add(p);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},G.prototype.iadd=function(u,p){this._verify2(u,p);var A=u.iadd(p);return A.cmp(this.m)>=0&&A.isub(this.m),A},G.prototype.sub=function(u,p){this._verify2(u,p);var A=u.sub(p);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},G.prototype.isub=function(u,p){this._verify2(u,p);var A=u.isub(p);return A.cmpn(0)<0&&A.iadd(this.m),A},G.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},G.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},G.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},G.prototype.isqr=function(u){return this.imul(u,u.clone())},G.prototype.sqr=function(u){return this.mul(u,u)},G.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var A=this.m.add(new i(1)).iushrn(2);return this.pow(u,A)}for(var x=this.m.subn(1),O=0;!x.isZero()&&x.andln(1)===0;)O++,x.iushrn(1);n(!x.isZero());var N=new i(1).toRed(this),w=N.redNeg(),I=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,I).cmp(w)!==0;)T.redIAdd(w);for(var k=this.pow(T,x),ce=this.pow(u,x.addn(1).iushrn(1)),fe=this.pow(u,x),be=O;fe.cmp(N)!==0;){for(var he=fe,pe=0;he.cmp(N)!==0;pe++)he=he.redSqr();n(pe<be);var le=this.pow(k,new i(1).iushln(be-pe-1));ce=ce.redMul(le),k=le.redSqr(),fe=fe.redMul(k),be=pe}return ce},G.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},G.prototype.pow=function(u,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var A=4,x=new Array(1<<A);x[0]=new i(1).toRed(this),x[1]=u;for(var O=2;O<x.length;O++)x[O]=this.mul(x[O-1],u);var N=x[0],w=0,I=0,T=p.bitLength()%26;for(T===0&&(T=26),O=p.length-1;O>=0;O--){for(var k=p.words[O],ce=T-1;ce>=0;ce--){var fe=k>>ce&1;if(N!==x[0]&&(N=this.sqr(N)),fe===0&&w===0){I=0;continue}w<<=1,w|=fe,I++,!(I!==A&&(O!==0||ce!==0))&&(N=this.mul(N,x[w]),I=0,w=0)}T=26}return N},G.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},G.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},i.mont=function(u){return new h(u)};function h(m){G.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(h,G),h.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},h.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},h.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var A=u.imul(p),x=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(x).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},h.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new i(0)._forceRed(this);var A=u.mul(p),x=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(x).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},h.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,Be)})(ad);var W7=ad.exports;const Y7="Input must be an string, Buffer or Uint8Array";function J7(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(Y7);return t}function X7(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function ic(e){return(4294967296+e).toString(16).substring(1)}function Z7(e,t,r){let n=`
`+e+" = ";for(let s=0;s<t.length;s+=2){if(r===32)n+=ic(t[s]).toUpperCase(),n+=" ",n+=ic(t[s+1]).toUpperCase();else if(r===64)n+=ic(t[s+1]).toUpperCase(),n+=ic(t[s]).toUpperCase();else throw new Error("Invalid size "+r);s%6===4?n+=`
`+new Array(e.length+4).join(" "):s<t.length-2&&(n+=" ")}console.log(n)}function Q7(e,t,r){let n=new Date().getTime();const s=new Uint8Array(t);for(let a=0;a<t;a++)s[a]=a%256;const i=new Date().getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let a=0;a<r;a++){const o=e(s),f=new Date().getTime(),c=f-n;n=f,console.log("Hashed in "+c+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var ay={normalizeInput:J7,toHex:X7,debugPrint:Z7,testSpeed:Q7};const bc=ay;function sc(e,t,r){const n=e[t]+e[r];let s=e[t+1]+e[r+1];n>=4294967296&&s++,e[t]=n,e[t+1]=s}function Op(e,t,r,n){let s=e[t]+r;r<0&&(s+=4294967296);let i=e[t+1]+n;s>=4294967296&&i++,e[t]=s,e[t+1]=i}function cy(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function pi(e,t,r,n,s,i){const a=Go[s],o=Go[s+1],f=Go[i],c=Go[i+1];sc(Qe,e,t),Op(Qe,e,a,o);let l=Qe[n]^Qe[e],v=Qe[n+1]^Qe[e+1];Qe[n]=v,Qe[n+1]=l,sc(Qe,r,n),l=Qe[t]^Qe[r],v=Qe[t+1]^Qe[r+1],Qe[t]=l>>>24^v<<8,Qe[t+1]=v>>>24^l<<8,sc(Qe,e,t),Op(Qe,e,f,c),l=Qe[n]^Qe[e],v=Qe[n+1]^Qe[e+1],Qe[n]=l>>>16^v<<16,Qe[n+1]=v>>>16^l<<16,sc(Qe,r,n),l=Qe[t]^Qe[r],v=Qe[t+1]^Qe[r+1],Qe[t]=v>>>31^l<<1,Qe[t+1]=l>>>31^v<<1}const fy=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],tr=new Uint8Array(eS.map(function(e){return e*2})),Qe=new Uint32Array(32),Go=new Uint32Array(32);function uy(e,t){let r=0;for(r=0;r<16;r++)Qe[r]=e.h[r],Qe[r+16]=fy[r];for(Qe[24]=Qe[24]^e.t,Qe[25]=Qe[25]^e.t/4294967296,t&&(Qe[28]=~Qe[28],Qe[29]=~Qe[29]),r=0;r<32;r++)Go[r]=cy(e.b,4*r);for(r=0;r<12;r++)pi(0,8,16,24,tr[r*16+0],tr[r*16+1]),pi(2,10,18,26,tr[r*16+2],tr[r*16+3]),pi(4,12,20,28,tr[r*16+4],tr[r*16+5]),pi(6,14,22,30,tr[r*16+6],tr[r*16+7]),pi(0,10,20,30,tr[r*16+8],tr[r*16+9]),pi(2,12,22,24,tr[r*16+10],tr[r*16+11]),pi(4,14,16,26,tr[r*16+12],tr[r*16+13]),pi(6,8,18,28,tr[r*16+14],tr[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^Qe[r]^Qe[r+16]}const gi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function ly(e,t,r,n){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};gi.fill(0),gi[0]=e,t&&(gi[1]=t.length),gi[2]=1,gi[3]=1,r&&gi.set(r,32),n&&gi.set(n,48);for(let i=0;i<16;i++)s.h[i]=fy[i]^cy(gi,i*4);return t&&(cd(s,t),s.c=128),s}function cd(e,t){for(let r=0;r<t.length;r++)e.c===128&&(e.t+=e.c,uy(e,!1),e.c=0),e.b[e.c++]=t[r]}function dy(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;uy(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3);return t}function hy(e,t,r,n,s){r=r||64,e=bc.normalizeInput(e),n&&(n=bc.normalizeInput(n)),s&&(s=bc.normalizeInput(s));const i=ly(r,t,n,s);return cd(i,e),dy(i)}function tS(e,t,r,n,s){const i=hy(e,t,r,n,s);return bc.toHex(i)}var rS={blake2b:hy,blake2bHex:tS,blake2bInit:ly,blake2bUpdate:cd,blake2bFinal:dy};const py=ay;function nS(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function mi(e,t,r,n,s,i){ht[e]=ht[e]+ht[t]+s,ht[n]=oc(ht[n]^ht[e],16),ht[r]=ht[r]+ht[n],ht[t]=oc(ht[t]^ht[r],12),ht[e]=ht[e]+ht[t]+i,ht[n]=oc(ht[n]^ht[e],8),ht[r]=ht[r]+ht[n],ht[t]=oc(ht[t]^ht[r],7)}function oc(e,t){return e>>>t^e<<32-t}const gy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ht=new Uint32Array(16),qt=new Uint32Array(16);function my(e,t){let r=0;for(r=0;r<8;r++)ht[r]=e.h[r],ht[r+8]=gy[r];for(ht[12]^=e.t,ht[13]^=e.t/4294967296,t&&(ht[14]=~ht[14]),r=0;r<16;r++)qt[r]=nS(e.b,4*r);for(r=0;r<10;r++)mi(0,4,8,12,qt[rr[r*16+0]],qt[rr[r*16+1]]),mi(1,5,9,13,qt[rr[r*16+2]],qt[rr[r*16+3]]),mi(2,6,10,14,qt[rr[r*16+4]],qt[rr[r*16+5]]),mi(3,7,11,15,qt[rr[r*16+6]],qt[rr[r*16+7]]),mi(0,5,10,15,qt[rr[r*16+8]],qt[rr[r*16+9]]),mi(1,6,11,12,qt[rr[r*16+10]],qt[rr[r*16+11]]),mi(2,7,8,13,qt[rr[r*16+12]],qt[rr[r*16+13]]),mi(3,4,9,14,qt[rr[r*16+14]],qt[rr[r*16+15]]);for(r=0;r<8;r++)e.h[r]^=ht[r]^ht[r+8]}function by(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(gy),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(fd(n,t),n.c=64),n}function fd(e,t){for(let r=0;r<t.length;r++)e.c===64&&(e.t+=e.c,my(e,!1),e.c=0),e.b[e.c++]=t[r]}function yy(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;my(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3)&255;return t}function vy(e,t,r){r=r||32,e=py.normalizeInput(e);const n=by(r,t);return fd(n,e),yy(n)}function iS(e,t,r){const n=vy(e,t,r);return py.toHex(n)}var sS={blake2s:vy,blake2sHex:iS,blake2sInit:by,blake2sUpdate:fd,blake2sFinal:yy};const Ro=rS,Bo=sS;var ud={blake2b:Ro.blake2b,blake2bHex:Ro.blake2bHex,blake2bInit:Ro.blake2bInit,blake2bUpdate:Ro.blake2bUpdate,blake2bFinal:Ro.blake2bFinal,blake2s:Bo.blake2s,blake2sHex:Bo.blake2sHex,blake2sInit:Bo.blake2sInit,blake2sUpdate:Bo.blake2sUpdate,blake2sFinal:Bo.blake2sFinal};(function(e){var t=Be&&Be.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(e,"__esModule",{value:!0}),e.assertType=e.isDevnet=e.sleep=e.hexToString=e.stringToHex=e.blockChainIndex=e.subContractId=e.contractIdFromTx=e.addressFromTokenId=e.addressFromContractId=e.addressFromScript=e.addressFromPublicKey=e.publicKeyFromPrivateKey=e.groupOfPrivateKey=e.binToHex=e.hexToBinUnsafe=e.tokenIdFromAddress=e.contractIdFromAddress=e.groupOfAddress=e.AddressType=e.toNonNegativeBigInt=e.isHexString=e.xorByte=e.signatureDecode=e.encodeHexSignature=e.encodeSignature=e.networkIds=void 0;const r=Q0,n=t(W7),s=t(ud),i=t(Ef),a=fo,o=Pa,f=t(Na);e.networkIds=["mainnet","testnet","devnet"];const c=new r.ec("secp256k1");function l(fe){let be=fe.s;c.n&&fe.s.cmp(c.nh)===1&&(be=c.n.sub(fe.s));const he=fe.r.toString("hex",66).slice(2),pe=be.toString("hex",66).slice(2);return he+pe}e.encodeSignature=l;function v(fe,be){return l({r:new n.default(fe,"hex"),s:new n.default(be,"hex")})}e.encodeHexSignature=v;function S(fe,be){if(be.length!==128)throw new Error("Invalid signature length");const he=be.slice(64,128),pe=new n.default(he,"hex");if(fe.n&&pe.cmp(fe.nh)<1)return{r:be.slice(0,64),s:he};throw new Error("The signature is not normalized")}e.signatureDecode=S;function D(fe){const be=fe>>24&255,he=fe>>16&255,pe=fe>>8&255,le=fe&255;return(be^he^pe^le)&255}e.xorByte=D;function C(fe){return fe.length%2===0&&/^[0-9a-fA-F]*$/.test(fe)}e.isHexString=C;function q(fe){try{const be=BigInt(fe);return be<0n?void 0:be}catch{return}}e.toNonNegativeBigInt=q;var H;(function(fe){fe[fe.P2PKH=0]="P2PKH",fe[fe.P2MPKH=1]="P2MPKH",fe[fe.P2SH=2]="P2SH",fe[fe.P2C=3]="P2C"})(H=e.AddressType||(e.AddressType={}));function Z(fe){const be=i.default.decode(fe);if(be.length==0)throw new Error("Address string is empty");const he=be[0],pe=be.slice(1);if(he==H.P2PKH)return K(pe);if(he==H.P2MPKH)return B(pe);if(he==H.P2SH)return z(pe);{const le=P(fe);return le[`${le.length-1}`]}}e.groupOfAddress=Z;function W(fe){const be=(0,f.default)(fe)|1;return D(be)%o.TOTAL_NUMBER_OF_GROUPS}function K(fe){if(fe.length!=32)throw new Error(`Invalid p2pkh address length: ${fe.length}`);return W(fe)}function B(fe){if((fe.length-2)%32!=0)throw new Error(`Invalid p2mpkh address length: ${fe.length}`);return W(fe.slice(1,33))}function z(fe){return W(fe)}function P(fe){return $(fe)}e.contractIdFromAddress=P;function g(fe){return $(fe)}e.tokenIdFromAddress=g;function $(fe){const be=i.default.decode(fe);if(be.length==0)throw new Error("Address string is empty");const he=be[0],pe=be.slice(1);if(he==H.P2C)return pe;throw new Error(`Invalid contract address type: ${he}`)}function Y(fe){return a.Buffer.from(fe,"hex")}e.hexToBinUnsafe=Y;function Q(fe){return a.Buffer.from(fe).toString("hex")}e.binToHex=Q;function G(fe,be){return Z(m(h(fe,be),be))}e.groupOfPrivateKey=G;function h(fe,be){return(be??"default")==="default"?c.keyFromPrivate(fe).getPublic(!0,"hex"):c.g.mul(new n.default(fe,16)).encode("hex",!0).slice(2)}e.publicKeyFromPrivateKey=h;function m(fe,be){if((be??"default")==="default"){const pe=a.Buffer.from([H.P2PKH]),le=a.Buffer.from(s.default.blake2b(a.Buffer.from(fe,"hex"),void 0,32)),y=a.Buffer.concat([pe,le]);return i.default.encode(y)}else{const pe=a.Buffer.from(`0101000000000458144020${fe}8685`,"hex");return u(pe)}}e.addressFromPublicKey=m;function u(fe){const be=s.default.blake2b(fe,void 0,32),he=a.Buffer.from([H.P2SH]);return i.default.encode(a.Buffer.concat([he,be]))}e.addressFromScript=u;function p(fe){const be=a.Buffer.from([H.P2C]),he=a.Buffer.from(Y(fe)),pe=a.Buffer.concat([be,he]);return i.default.encode(pe)}e.addressFromContractId=p;function A(fe){return p(fe)}e.addressFromTokenId=A;function x(fe,be){const he=Y(fe),pe=a.Buffer.concat([he,a.Buffer.from([be])]),le=s.default.blake2b(pe,void 0,32);return Q(le)}e.contractIdFromTx=x;function O(fe,be,he){if(he<0||he>=o.TOTAL_NUMBER_OF_GROUPS)throw new Error(`Invalid group ${he}`);const pe=a.Buffer.concat([Y(fe),Y(be)]),le=a.Buffer.concat([s.default.blake2b(s.default.blake2b(pe,void 0,32),void 0,32).slice(0,-1),a.Buffer.from([he])]);return Q(le)}e.subContractId=O;function N(fe){if(fe.length!=64)throw Error(`Invalid block hash: ${fe}`);const be=+("0x"+fe.slice(-4))%o.TOTAL_NUMBER_OF_CHAINS;return{fromGroup:Math.floor(be/o.TOTAL_NUMBER_OF_GROUPS),toGroup:be%o.TOTAL_NUMBER_OF_GROUPS}}e.blockChainIndex=N;function w(fe){let be="";for(let he=0;he<fe.length;he++)be+=""+fe.charCodeAt(he).toString(16);return be}e.stringToHex=w;function I(fe){if(!C(fe))throw new Error(`Invalid hex string: ${fe}`);return a.Buffer.from(fe,"hex").toString()}e.hexToString=I;function T(fe){return new Promise(be=>setTimeout(be,fe))}e.sleep=T;function k(fe){return fe!==0&&fe!==1}e.isDevnet=k;function ce(){}e.assertType=ce})(Nb);var Rf={},wy={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(f,c,l){this.fn=f,this.context=c,this.once=l||!1}function i(f,c,l,v,S){if(typeof l!="function")throw new TypeError("The listener must be a function");var D=new s(l,v||f,S),C=r?r+c:c;return f._events[C]?f._events[C].fn?f._events[C]=[f._events[C],D]:f._events[C].push(D):(f._events[C]=D,f._eventsCount++),f}function a(f,c){--f._eventsCount===0?f._events=new n:delete f._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],l,v;if(this._eventsCount===0)return c;for(v in l=this._events)t.call(l,v)&&c.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},o.prototype.listeners=function(c){var l=r?r+c:c,v=this._events[l];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,D=v.length,C=new Array(D);S<D;S++)C[S]=v[S].fn;return C},o.prototype.listenerCount=function(c){var l=r?r+c:c,v=this._events[l];return v?v.fn?1:v.length:0},o.prototype.emit=function(c,l,v,S,D,C){var q=r?r+c:c;if(!this._events[q])return!1;var H=this._events[q],Z=arguments.length,W,K;if(H.fn){switch(H.once&&this.removeListener(c,H.fn,void 0,!0),Z){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,l),!0;case 3:return H.fn.call(H.context,l,v),!0;case 4:return H.fn.call(H.context,l,v,S),!0;case 5:return H.fn.call(H.context,l,v,S,D),!0;case 6:return H.fn.call(H.context,l,v,S,D,C),!0}for(K=1,W=new Array(Z-1);K<Z;K++)W[K-1]=arguments[K];H.fn.apply(H.context,W)}else{var B=H.length,z;for(K=0;K<B;K++)switch(H[K].once&&this.removeListener(c,H[K].fn,void 0,!0),Z){case 1:H[K].fn.call(H[K].context);break;case 2:H[K].fn.call(H[K].context,l);break;case 3:H[K].fn.call(H[K].context,l,v);break;case 4:H[K].fn.call(H[K].context,l,v,S);break;default:if(!W)for(z=1,W=new Array(Z-1);z<Z;z++)W[z-1]=arguments[z];H[K].fn.apply(H[K].context,W)}}return!0},o.prototype.on=function(c,l,v){return i(this,c,l,v,!1)},o.prototype.once=function(c,l,v){return i(this,c,l,v,!0)},o.prototype.removeListener=function(c,l,v,S){var D=r?r+c:c;if(!this._events[D])return this;if(!l)return a(this,D),this;var C=this._events[D];if(C.fn)C.fn===l&&(!S||C.once)&&(!v||C.context===v)&&a(this,D);else{for(var q=0,H=[],Z=C.length;q<Z;q++)(C[q].fn!==l||S&&!C[q].once||v&&C[q].context!==v)&&H.push(C[q]);H.length?this._events[D]=H.length===1?H[0]:H:a(this,D)}return this},o.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&a(this,l)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(wy);var _y=wy.exports,oS=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Subscription=void 0;const aS=oS(_y);class cS{constructor(t){this.pollingInterval=t.pollingInterval,this.messageCallback=t.messageCallback,this.errorCallback=t.errorCallback,this.task=void 0,this.cancelled=!1,this.eventEmitter=new aS.default}startPolling(){this.eventEmitter.on("tick",async()=>{await this.polling(),this.cancelled||(this.task=setTimeout(()=>this.eventEmitter.emit("tick"),this.pollingInterval))}),this.eventEmitter.emit("tick")}unsubscribe(){this.eventEmitter.removeAllListeners(),this.cancelled=!0,typeof this.task<"u"&&clearTimeout(this.task)}isCancelled(){return this.cancelled}}Rf.Subscription=cS;var Ki={},Ey={};(function(e){/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const t=an,r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(3),a=BigInt(8),o=Object.freeze({a:r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=o;const f=(ae,ne)=>(ae+ne/s)/ne,c={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(ae){const{n:ne}=o,ue=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ge=-n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Ee=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Ie=ue,Te=BigInt("0x100000000000000000000000000000000"),Ce=f(Ie*ae,ne),Re=f(-ge*ae,ne);let Oe=k(ae-Ce*ue-Re*Ee,ne),$e=k(-Ce*ge-Re*Ie,ne);const Ue=Oe>Te,Ne=$e>Te;if(Ue&&(Oe=ne-Oe),Ne&&($e=ne-$e),Oe>Te||$e>Te)throw new Error("splitScalarEndo: Endomorphism failed, k="+ae);return{k1neg:Ue,k1:Oe,k2neg:Ne,k2:$e}}},l=32,v=32,S=32,D=l+1,C=2*l+1;function q(ae){const{a:ne,b:ue}=o,ge=k(ae*ae),Ee=k(ge*ae);return k(Ee+ne*ae+ue)}const H=o.a===r;class Z extends Error{constructor(ne){super(ne)}}function W(ae){if(!(ae instanceof K))throw new TypeError("JacobianPoint expected")}class K{constructor(ne,ue,ge){this.x=ne,this.y=ue,this.z=ge}static fromAffine(ne){if(!(ne instanceof P))throw new TypeError("JacobianPoint#fromAffine: expected Point");return ne.equals(P.ZERO)?K.ZERO:new K(ne.x,ne.y,n)}static toAffineBatch(ne){const ue=he(ne.map(ge=>ge.z));return ne.map((ge,Ee)=>ge.toAffine(ue[Ee]))}static normalizeZ(ne){return K.toAffineBatch(ne).map(K.fromAffine)}equals(ne){W(ne);const{x:ue,y:ge,z:Ee}=this,{x:Ie,y:Te,z:Ce}=ne,Re=k(Ee*Ee),Oe=k(Ce*Ce),$e=k(ue*Oe),Ue=k(Ie*Re),Ne=k(k(ge*Ce)*Oe),Ke=k(k(Te*Ee)*Re);return $e===Ue&&Ne===Ke}negate(){return new K(this.x,k(-this.y),this.z)}double(){const{x:ne,y:ue,z:ge}=this,Ee=k(ne*ne),Ie=k(ue*ue),Te=k(Ie*Ie),Ce=ne+Ie,Re=k(s*(k(Ce*Ce)-Ee-Te)),Oe=k(i*Ee),$e=k(Oe*Oe),Ue=k($e-s*Re),Ne=k(Oe*(Re-Ue)-a*Te),Ke=k(s*ue*ge);return new K(Ue,Ne,Ke)}add(ne){W(ne);const{x:ue,y:ge,z:Ee}=this,{x:Ie,y:Te,z:Ce}=ne;if(Ie===r||Te===r)return this;if(ue===r||ge===r)return ne;const Re=k(Ee*Ee),Oe=k(Ce*Ce),$e=k(ue*Oe),Ue=k(Ie*Re),Ne=k(k(ge*Ce)*Oe),Ke=k(k(Te*Ee)*Re),Xe=k(Ue-$e),We=k(Ke-Ne);if(Xe===r)return We===r?this.double():K.ZERO;const dt=k(Xe*Xe),rt=k(Xe*dt),ft=k($e*dt),mr=k(We*We-rt-s*ft),Ir=k(We*(ft-mr)-Ne*rt),cr=k(Ee*Ce*Xe);return new K(mr,Ir,cr)}subtract(ne){return this.add(ne.negate())}multiplyUnsafe(ne){const ue=K.ZERO;if(typeof ne=="bigint"&&ne===r)return ue;let ge=T(ne);if(ge===n)return this;if(!H){let Ue=ue,Ne=this;for(;ge>r;)ge&n&&(Ue=Ue.add(Ne)),Ne=Ne.double(),ge>>=n;return Ue}let{k1neg:Ee,k1:Ie,k2neg:Te,k2:Ce}=c.splitScalar(ge),Re=ue,Oe=ue,$e=this;for(;Ie>r||Ce>r;)Ie&n&&(Re=Re.add($e)),Ce&n&&(Oe=Oe.add($e)),$e=$e.double(),Ie>>=n,Ce>>=n;return Ee&&(Re=Re.negate()),Te&&(Oe=Oe.negate()),Oe=new K(k(Oe.x*c.beta),Oe.y,Oe.z),Re.add(Oe)}precomputeWindow(ne){const ue=H?128/ne+1:256/ne+1,ge=[];let Ee=this,Ie=Ee;for(let Te=0;Te<ue;Te++){Ie=Ee,ge.push(Ie);for(let Ce=1;Ce<2**(ne-1);Ce++)Ie=Ie.add(Ee),ge.push(Ie);Ee=Ie.double()}return ge}wNAF(ne,ue){!ue&&this.equals(K.BASE)&&(ue=P.BASE);const ge=ue&&ue._WINDOW_SIZE||1;if(256%ge)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let Ee=ue&&z.get(ue);Ee||(Ee=this.precomputeWindow(ge),ue&&ge!==1&&(Ee=K.normalizeZ(Ee),z.set(ue,Ee)));let Ie=K.ZERO,Te=K.BASE;const Ce=1+(H?128/ge:256/ge),Re=2**(ge-1),Oe=BigInt(2**ge-1),$e=2**ge,Ue=BigInt(ge);for(let Ne=0;Ne<Ce;Ne++){const Ke=Ne*Re;let Xe=Number(ne&Oe);ne>>=Ue,Xe>Re&&(Xe-=$e,ne+=n);const We=Ke,dt=Ke+Math.abs(Xe)-1,rt=Ne%2!==0,ft=Xe<0;Xe===0?Te=Te.add(B(rt,Ee[We])):Ie=Ie.add(B(ft,Ee[dt]))}return{p:Ie,f:Te}}multiply(ne,ue){let ge=T(ne),Ee,Ie;if(H){const{k1neg:Te,k1:Ce,k2neg:Re,k2:Oe}=c.splitScalar(ge);let{p:$e,f:Ue}=this.wNAF(Ce,ue),{p:Ne,f:Ke}=this.wNAF(Oe,ue);$e=B(Te,$e),Ne=B(Re,Ne),Ne=new K(k(Ne.x*c.beta),Ne.y,Ne.z),Ee=$e.add(Ne),Ie=Ue.add(Ke)}else{const{p:Te,f:Ce}=this.wNAF(ge,ue);Ee=Te,Ie=Ce}return K.normalizeZ([Ee,Ie])[0]}toAffine(ne){const{x:ue,y:ge,z:Ee}=this,Ie=this.equals(K.ZERO);ne==null&&(ne=Ie?a:be(Ee));const Te=ne,Ce=k(Te*Te),Re=k(Ce*Te),Oe=k(ue*Ce),$e=k(ge*Re),Ue=k(Ee*Te);if(Ie)return P.ZERO;if(Ue!==n)throw new Error("invZ was invalid");return new P(Oe,$e)}}K.BASE=new K(o.Gx,o.Gy,n),K.ZERO=new K(r,n,r);function B(ae,ne){const ue=ne.negate();return ae?ue:ne}const z=new WeakMap;class P{constructor(ne,ue){this.x=ne,this.y=ue}_setWindowSize(ne){this._WINDOW_SIZE=ne,z.delete(this)}hasEvenY(){return this.y%s===r}static fromCompressedHex(ne){const ue=ne.length===32,ge=w(ue?ne:ne.subarray(1));if(!J(ge))throw new Error("Point is not on curve");const Ee=q(ge);let Ie=fe(Ee);const Te=(Ie&n)===n;ue?Te&&(Ie=k(-Ie)):(ne[0]&1)===1!==Te&&(Ie=k(-Ie));const Ce=new P(ge,Ie);return Ce.assertValidity(),Ce}static fromUncompressedHex(ne){const ue=w(ne.subarray(1,l+1)),ge=w(ne.subarray(l+1,l*2+1)),Ee=new P(ue,ge);return Ee.assertValidity(),Ee}static fromHex(ne){const ue=I(ne),ge=ue.length,Ee=ue[0];if(ge===l)return this.fromCompressedHex(ue);if(ge===D&&(Ee===2||Ee===3))return this.fromCompressedHex(ue);if(ge===C&&Ee===4)return this.fromUncompressedHex(ue);throw new Error(`Point.fromHex: received invalid point. Expected 32-${D} compressed bytes or ${C} uncompressed bytes, not ${ge}`)}static fromPrivateKey(ne){return P.BASE.multiply(R(ne))}static fromSignature(ne,ue,ge){const{r:Ee,s:Ie}=E(ue);if(![0,1,2,3].includes(ge))throw new Error("Cannot recover: invalid recovery bit");const Te=le(I(ne)),{n:Ce}=o,Re=ge===2||ge===3?Ee+Ce:Ee,Oe=be(Re,Ce),$e=k(-Te*Oe,Ce),Ue=k(Ie*Oe,Ce),Ne=ge&1?"03":"02",Ke=P.fromHex(Ne+p(Re)),Xe=P.BASE.multiplyAndAddUnsafe(Ke,$e,Ue);if(!Xe)throw new Error("Cannot recover signature: point at infinify");return Xe.assertValidity(),Xe}toRawBytes(ne=!1){return N(this.toHex(ne))}toHex(ne=!1){const ue=p(this.x);return ne?`${this.hasEvenY()?"02":"03"}${ue}`:`04${ue}${p(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const ne="Point is not on elliptic curve",{x:ue,y:ge}=this;if(!J(ue)||!J(ge))throw new Error(ne);const Ee=k(ge*ge),Ie=q(ue);if(k(Ee-Ie)!==r)throw new Error(ne)}equals(ne){return this.x===ne.x&&this.y===ne.y}negate(){return new P(this.x,k(-this.y))}double(){return K.fromAffine(this).double().toAffine()}add(ne){return K.fromAffine(this).add(K.fromAffine(ne)).toAffine()}subtract(ne){return this.add(ne.negate())}multiply(ne){return K.fromAffine(this).multiply(ne,this).toAffine()}multiplyAndAddUnsafe(ne,ue,ge){const Ee=K.fromAffine(this),Ie=ue===r||ue===n||this!==P.BASE?Ee.multiplyUnsafe(ue):Ee.multiply(ue),Te=K.fromAffine(ne).multiplyUnsafe(ge),Ce=Ie.add(Te);return Ce.equals(K.ZERO)?void 0:Ce.toAffine()}}e.Point=P,P.BASE=new P(o.Gx,o.Gy),P.ZERO=new P(r,r);function g(ae){return Number.parseInt(ae[0],16)>=8?"00"+ae:ae}function $(ae){if(ae.length<2||ae[0]!==2)throw new Error(`Invalid signature integer tag: ${m(ae)}`);const ne=ae[1],ue=ae.subarray(2,ne+2);if(!ne||ue.length!==ne)throw new Error("Invalid signature integer: wrong length");if(ue[0]===0&&ue[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:w(ue),left:ae.subarray(ne+2)}}function Y(ae){if(ae.length<2||ae[0]!=48)throw new Error(`Invalid signature tag: ${m(ae)}`);if(ae[1]!==ae.length-2)throw new Error("Invalid signature: incorrect length");const{data:ne,left:ue}=$(ae.subarray(2)),{data:ge,left:Ee}=$(ue);if(Ee.length)throw new Error(`Invalid signature: left bytes after parsing: ${m(Ee)}`);return{r:ne,s:ge}}class Q{constructor(ne,ue){this.r=ne,this.s=ue,this.assertValidity()}static fromCompact(ne){const ue=ne instanceof Uint8Array,ge="Signature.fromCompact";if(typeof ne!="string"&&!ue)throw new TypeError(`${ge}: Expected string or Uint8Array`);const Ee=ue?m(ne):ne;if(Ee.length!==128)throw new Error(`${ge}: Expected 64-byte hex`);return new Q(O(Ee.slice(0,64)),O(Ee.slice(64,128)))}static fromDER(ne){const ue=ne instanceof Uint8Array;if(typeof ne!="string"&&!ue)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:ge,s:Ee}=Y(ue?ne:N(ne));return new Q(ge,Ee)}static fromHex(ne){return this.fromDER(ne)}assertValidity(){const{r:ne,s:ue}=this;if(!j(ne))throw new Error("Invalid Signature: r must be 0 < r < n");if(!j(ue))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const ne=o.n>>n;return this.s>ne}normalizeS(){return this.hasHighS()?new Q(this.r,k(-this.s,o.n)):this}toDERRawBytes(){return N(this.toDERHex())}toDERHex(){const ne=g(x(this.s)),ue=g(x(this.r)),ge=ne.length/2,Ee=ue.length/2,Ie=x(ge),Te=x(Ee);return`30${x(Ee+ge+4)}02${Te}${ue}02${Ie}${ne}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return N(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}e.Signature=Q;function G(...ae){if(!ae.every(ge=>ge instanceof Uint8Array))throw new Error("Uint8Array list expected");if(ae.length===1)return ae[0];const ne=ae.reduce((ge,Ee)=>ge+Ee.length,0),ue=new Uint8Array(ne);for(let ge=0,Ee=0;ge<ae.length;ge++){const Ie=ae[ge];ue.set(Ie,Ee),Ee+=Ie.length}return ue}const h=Array.from({length:256},(ae,ne)=>ne.toString(16).padStart(2,"0"));function m(ae){if(!(ae instanceof Uint8Array))throw new Error("Expected Uint8Array");let ne="";for(let ue=0;ue<ae.length;ue++)ne+=h[ae[ue]];return ne}const u=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function p(ae){if(typeof ae!="bigint")throw new Error("Expected bigint");if(!(r<=ae&&ae<u))throw new Error("Expected number 0 <= n < 2^256");return ae.toString(16).padStart(64,"0")}function A(ae){const ne=N(p(ae));if(ne.length!==32)throw new Error("Error: expected 32 bytes");return ne}function x(ae){const ne=ae.toString(16);return ne.length&1?`0${ne}`:ne}function O(ae){if(typeof ae!="string")throw new TypeError("hexToNumber: expected string, got "+typeof ae);return BigInt(`0x${ae}`)}function N(ae){if(typeof ae!="string")throw new TypeError("hexToBytes: expected string, got "+typeof ae);if(ae.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+ae.length);const ne=new Uint8Array(ae.length/2);for(let ue=0;ue<ne.length;ue++){const ge=ue*2,Ee=ae.slice(ge,ge+2),Ie=Number.parseInt(Ee,16);if(Number.isNaN(Ie)||Ie<0)throw new Error("Invalid byte sequence");ne[ue]=Ie}return ne}function w(ae){return O(m(ae))}function I(ae){return ae instanceof Uint8Array?Uint8Array.from(ae):N(ae)}function T(ae){if(typeof ae=="number"&&Number.isSafeInteger(ae)&&ae>0)return BigInt(ae);if(typeof ae=="bigint"&&j(ae))return ae;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function k(ae,ne=o.P){const ue=ae%ne;return ue>=r?ue:ne+ue}function ce(ae,ne){const{P:ue}=o;let ge=ae;for(;ne-- >r;)ge*=ge,ge%=ue;return ge}function fe(ae){const{P:ne}=o,ue=BigInt(6),ge=BigInt(11),Ee=BigInt(22),Ie=BigInt(23),Te=BigInt(44),Ce=BigInt(88),Re=ae*ae*ae%ne,Oe=Re*Re*ae%ne,$e=ce(Oe,i)*Oe%ne,Ue=ce($e,i)*Oe%ne,Ne=ce(Ue,s)*Re%ne,Ke=ce(Ne,ge)*Ne%ne,Xe=ce(Ke,Ee)*Ke%ne,We=ce(Xe,Te)*Xe%ne,dt=ce(We,Ce)*We%ne,rt=ce(dt,Te)*Xe%ne,ft=ce(rt,i)*Oe%ne,mr=ce(ft,Ie)*Ke%ne,Ir=ce(mr,ue)*Re%ne,cr=ce(Ir,s);if(cr*cr%ne!==ae)throw new Error("Cannot find square root");return cr}function be(ae,ne=o.P){if(ae===r||ne<=r)throw new Error(`invert: expected positive integers, got n=${ae} mod=${ne}`);let ue=k(ae,ne),ge=ne,Ee=r,Ie=n;for(;ue!==r;){const Ce=ge/ue,Re=ge%ue,Oe=Ee-Ie*Ce;ge=ue,ue=Re,Ee=Ie,Ie=Oe}if(ge!==n)throw new Error("invert: does not exist");return k(Ee,ne)}function he(ae,ne=o.P){const ue=new Array(ae.length),ge=ae.reduce((Ie,Te,Ce)=>Te===r?Ie:(ue[Ce]=Ie,k(Ie*Te,ne)),n),Ee=be(ge,ne);return ae.reduceRight((Ie,Te,Ce)=>Te===r?Ie:(ue[Ce]=k(Ie*ue[Ce],ne),k(Ie*Te,ne)),Ee),ue}function pe(ae){const ne=ae.length*8-v*8,ue=w(ae);return ne>0?ue>>BigInt(ne):ue}function le(ae,ne=!1){const ue=pe(ae);if(ne)return ue;const{n:ge}=o;return ue>=ge?ue-ge:ue}let y,F;class re{constructor(ne,ue){if(this.hashLen=ne,this.qByteLen=ue,typeof ne!="number"||ne<2)throw new Error("hashLen must be a number");if(typeof ue!="number"||ue<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(ne).fill(1),this.k=new Uint8Array(ne).fill(0),this.counter=0}hmac(...ne){return e.utils.hmacSha256(this.k,...ne)}hmacSync(...ne){return F(this.k,...ne)}checkSync(){if(typeof F!="function")throw new Z("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(ne=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),ne),this.v=await this.hmac(this.v),ne.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),ne),this.v=await this.hmac(this.v))}reseedSync(ne=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),ne),this.v=this.hmacSync(this.v),ne.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),ne),this.v=this.hmacSync(this.v))}async generate(){this.incr();let ne=0;const ue=[];for(;ne<this.qByteLen;){this.v=await this.hmac(this.v);const ge=this.v.slice();ue.push(ge),ne+=this.v.length}return G(...ue)}generateSync(){this.checkSync(),this.incr();let ne=0;const ue=[];for(;ne<this.qByteLen;){this.v=this.hmacSync(this.v);const ge=this.v.slice();ue.push(ge),ne+=this.v.length}return G(...ue)}}function j(ae){return r<ae&&ae<o.n}function J(ae){return r<ae&&ae<o.P}function te(ae,ne,ue,ge=!0){const{n:Ee}=o,Ie=le(ae,!0);if(!j(Ie))return;const Te=be(Ie,Ee),Ce=P.BASE.multiply(Ie),Re=k(Ce.x,Ee);if(Re===r)return;const Oe=k(Te*k(ne+ue*Re,Ee),Ee);if(Oe===r)return;let $e=new Q(Re,Oe),Ue=(Ce.x===$e.r?0:2)|Number(Ce.y&n);return ge&&$e.hasHighS()&&($e=$e.normalizeS(),Ue^=1),{sig:$e,recovery:Ue}}function R(ae){let ne;if(typeof ae=="bigint")ne=ae;else if(typeof ae=="number"&&Number.isSafeInteger(ae)&&ae>0)ne=BigInt(ae);else if(typeof ae=="string"){if(ae.length!==2*v)throw new Error("Expected 32 bytes of private key");ne=O(ae)}else if(ae instanceof Uint8Array){if(ae.length!==v)throw new Error("Expected 32 bytes of private key");ne=w(ae)}else throw new TypeError("Expected valid private key");if(!j(ne))throw new Error("Expected private key: 0 < key < n");return ne}function _(ae){return ae instanceof P?(ae.assertValidity(),ae):P.fromHex(ae)}function E(ae){if(ae instanceof Q)return ae.assertValidity(),ae;try{return Q.fromDER(ae)}catch{return Q.fromCompact(ae)}}function L(ae,ne=!1){return P.fromPrivateKey(ae).toRawBytes(ne)}e.getPublicKey=L;function V(ae,ne,ue,ge=!1){return P.fromSignature(ae,ne,ue).toRawBytes(ge)}e.recoverPublicKey=V;function ee(ae){const ne=ae instanceof Uint8Array,ue=typeof ae=="string",ge=(ne||ue)&&ae.length;return ne?ge===D||ge===C:ue?ge===D*2||ge===C*2:ae instanceof P}function ie(ae,ne,ue=!1){if(ee(ae))throw new TypeError("getSharedSecret: first arg must be private key");if(!ee(ne))throw new TypeError("getSharedSecret: second arg must be public key");const ge=_(ne);return ge.assertValidity(),ge.multiply(R(ae)).toRawBytes(ue)}e.getSharedSecret=ie;function me(ae){const ne=ae.length>l?ae.slice(0,l):ae;return w(ne)}function ye(ae){const ne=me(ae),ue=k(ne,o.n);return ve(ue<r?ne:ue)}function ve(ae){return A(ae)}function Se(ae,ne,ue){if(ae==null)throw new Error(`sign: expected valid message hash, not "${ae}"`);const ge=I(ae),Ee=R(ne),Ie=[ve(Ee),ye(ge)];if(ue!=null){ue===!0&&(ue=e.utils.randomBytes(l));const Re=I(ue);if(Re.length!==l)throw new Error(`sign: Expected ${l} bytes of extra data`);Ie.push(Re)}const Te=G(...Ie),Ce=me(ge);return{seed:Te,m:Ce,d:Ee}}function M(ae,ne){const{sig:ue,recovery:ge}=ae,{der:Ee,recovered:Ie}=Object.assign({canonical:!0,der:!0},ne),Te=Ee?ue.toDERRawBytes():ue.toCompactRawBytes();return Ie?[Te,ge]:Te}async function d(ae,ne,ue={}){const{seed:ge,m:Ee,d:Ie}=Se(ae,ne,ue.extraEntropy),Te=new re(S,v);await Te.reseed(ge);let Ce;for(;!(Ce=te(await Te.generate(),Ee,Ie,ue.canonical));)await Te.reseed();return M(Ce,ue)}e.sign=d;function b(ae,ne,ue={}){const{seed:ge,m:Ee,d:Ie}=Se(ae,ne,ue.extraEntropy),Te=new re(S,v);Te.reseedSync(ge);let Ce;for(;!(Ce=te(Te.generateSync(),Ee,Ie,ue.canonical));)Te.reseedSync();return M(Ce,ue)}e.signSync=b;const U={strict:!0};function X(ae,ne,ue,ge=U){let Ee;try{Ee=E(ae),ne=I(ne)}catch{return!1}const{r:Ie,s:Te}=Ee;if(ge.strict&&Ee.hasHighS())return!1;const Ce=le(ne);let Re;try{Re=_(ue)}catch{return!1}const{n:Oe}=o,$e=be(Te,Oe),Ue=k(Ce*$e,Oe),Ne=k(Ie*$e,Oe),Ke=P.BASE.multiplyAndAddUnsafe(Re,Ue,Ne);return Ke?k(Ke.x,Oe)===Ie:!1}e.verify=X;function se(ae){return k(w(ae),o.n)}class oe{constructor(ne,ue){this.r=ne,this.s=ue,this.assertValidity()}static fromHex(ne){const ue=I(ne);if(ue.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${ue.length}`);const ge=w(ue.subarray(0,32)),Ee=w(ue.subarray(32,64));return new oe(ge,Ee)}assertValidity(){const{r:ne,s:ue}=this;if(!J(ne)||!j(ue))throw new Error("Invalid signature")}toHex(){return p(this.r)+p(this.s)}toRawBytes(){return N(this.toHex())}}function _e(ae){return P.fromPrivateKey(ae).toRawX()}class xe{constructor(ne,ue,ge=e.utils.randomBytes()){if(ne==null)throw new TypeError(`sign: Expected valid message, not "${ne}"`);this.m=I(ne);const{x:Ee,scalar:Ie}=this.getScalar(R(ue));if(this.px=Ee,this.d=Ie,this.rand=I(ge),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(ne){const ue=P.fromPrivateKey(ne),ge=ue.hasEvenY()?ne:o.n-ne;return{point:ue,scalar:ge,x:ue.toRawX()}}initNonce(ne,ue){return A(ne^w(ue))}finalizeNonce(ne){const ue=k(w(ne),o.n);if(ue===r)throw new Error("sign: Creation of signature failed. k is zero");const{point:ge,x:Ee,scalar:Ie}=this.getScalar(ue);return{R:ge,rx:Ee,k:Ie}}finalizeSig(ne,ue,ge,Ee){return new oe(ne.x,k(ue+ge*Ee,o.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:ne,d:ue,px:ge,rand:Ee}=this,Ie=e.utils.taggedHash,Te=this.initNonce(ue,await Ie(qe.aux,Ee)),{R:Ce,rx:Re,k:Oe}=this.finalizeNonce(await Ie(qe.nonce,Te,ge,ne)),$e=se(await Ie(qe.challenge,Re,ge,ne)),Ue=this.finalizeSig(Ce,Oe,$e,ue);return await Ze(Ue,ne,ge)||this.error(),Ue}calcSync(){const{m:ne,d:ue,px:ge,rand:Ee}=this,Ie=e.utils.taggedHashSync,Te=this.initNonce(ue,Ie(qe.aux,Ee)),{R:Ce,rx:Re,k:Oe}=this.finalizeNonce(Ie(qe.nonce,Te,ge,ne)),$e=se(Ie(qe.challenge,Re,ge,ne)),Ue=this.finalizeSig(Ce,Oe,$e,ue);return it(Ue,ne,ge)||this.error(),Ue}}async function Ae(ae,ne,ue){return new xe(ae,ne,ue).calc()}function Me(ae,ne,ue){return new xe(ae,ne,ue).calcSync()}function De(ae,ne,ue){const ge=ae instanceof oe,Ee=ge?ae:oe.fromHex(ae);return ge&&Ee.assertValidity(),{...Ee,m:I(ne),P:_(ue)}}function Le(ae,ne,ue,ge){const Ee=P.BASE.multiplyAndAddUnsafe(ne,R(ue),k(-ge,o.n));return!(!Ee||!Ee.hasEvenY()||Ee.x!==ae)}async function Ze(ae,ne,ue){try{const{r:ge,s:Ee,m:Ie,P:Te}=De(ae,ne,ue),Ce=se(await e.utils.taggedHash(qe.challenge,A(ge),Te.toRawX(),Ie));return Le(ge,Te,Ee,Ce)}catch{return!1}}function it(ae,ne,ue){try{const{r:ge,s:Ee,m:Ie,P:Te}=De(ae,ne,ue),Ce=se(e.utils.taggedHashSync(qe.challenge,A(ge),Te.toRawX(),Ie));return Le(ge,Te,Ee,Ce)}catch(ge){if(ge instanceof Z)throw ge;return!1}}e.schnorr={Signature:oe,getPublicKey:_e,sign:Ae,verify:Ze,signSync:Me,verifySync:it},P.BASE._setWindowSize(8);const je={node:t,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},qe={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Ge={};e.utils={bytesToHex:m,hexToBytes:N,concatBytes:G,mod:k,invert:be,isValidPrivateKey(ae){try{return R(ae),!0}catch{return!1}},_bigintTo32Bytes:A,_normalizePrivateKey:R,hashToPrivateKey:ae=>{ae=I(ae);const ne=v+8;if(ae.length<ne||ae.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const ue=k(w(ae),o.n-n)+n;return A(ue)},randomBytes:(ae=32)=>{if(je.web)return je.web.getRandomValues(new Uint8Array(ae));if(je.node){const{randomBytes:ne}=je.node;return Uint8Array.from(ne(ae))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(v+8)),precompute(ae=8,ne=P.BASE){const ue=ne===P.BASE?ne:new P(ne.x,ne.y);return ue._setWindowSize(ae),ue.multiply(i),ue},sha256:async(...ae)=>{if(je.web){const ne=await je.web.subtle.digest("SHA-256",G(...ae));return new Uint8Array(ne)}else if(je.node){const{createHash:ne}=je.node,ue=ne("sha256");return ae.forEach(ge=>ue.update(ge)),Uint8Array.from(ue.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(ae,...ne)=>{if(je.web){const ue=await je.web.subtle.importKey("raw",ae,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ge=G(...ne),Ee=await je.web.subtle.sign("HMAC",ue,ge);return new Uint8Array(Ee)}else if(je.node){const{createHmac:ue}=je.node,ge=ue("sha256",ae);return ne.forEach(Ee=>ge.update(Ee)),Uint8Array.from(ge.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(ae,...ne)=>{let ue=Ge[ae];if(ue===void 0){const ge=await e.utils.sha256(Uint8Array.from(ae,Ee=>Ee.charCodeAt(0)));ue=G(ge,ge),Ge[ae]=ue}return e.utils.sha256(ue,...ne)},taggedHashSync:(ae,...ne)=>{if(typeof y!="function")throw new Z("sha256Sync is undefined, you need to set it");let ue=Ge[ae];if(ue===void 0){const ge=y(Uint8Array.from(ae,Ee=>Ee.charCodeAt(0)));ue=G(ge,ge),Ge[ae]=ue}return y(ue,...ne)},_JacobianPoint:K},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get(){return y},set(ae){y||(y=ae)}},hmacSha256Sync:{configurable:!1,get(){return F},set(ae){F||(F=ae)}}})})(Ey);var Pp;function fS(){if(Pp)return Ki;Pp=1;var e=Be&&Be.__createBinding||(Object.create?function(l,v,S,D){D===void 0&&(D=S);var C=Object.getOwnPropertyDescriptor(v,S);(!C||("get"in C?!v.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(l,D,C)}:function(l,v,S,D){D===void 0&&(D=S),l[D]=v[S]}),t=Be&&Be.__setModuleDefault||(Object.create?function(l,v){Object.defineProperty(l,"default",{enumerable:!0,value:v})}:function(l,v){l.default=v}),r=Be&&Be.__importStar||function(l){if(l&&l.__esModule)return l;var v={};if(l!=null)for(var S in l)S!=="default"&&Object.prototype.hasOwnProperty.call(l,S)&&e(v,l,S);return t(v,l),v};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.verifySignature=Ki.sign=void 0;const n=Q0,s=ai(),i=r(Ey),a=an,o=new n.ec("secp256k1");i.utils.sha256Sync=(...l)=>{const v=(0,a.createHash)("sha256");for(const S of l)v.update(S);return v.digest()},i.utils.hmacSha256Sync=(l,...v)=>{const S=(0,a.createHmac)("sha256",Buffer.from(l));return v.forEach(D=>S.update(D)),Uint8Array.from(S.digest())};function f(l,v,S){if((S??"default")==="default"){const q=o.keyFromPrivate(v).sign(l);return(0,s.encodeSignature)(q)}else{const C=i.schnorr.signSync((0,s.hexToBinUnsafe)(l),(0,s.hexToBinUnsafe)(v));return(0,s.binToHex)(C)}}Ki.sign=f;function c(l,v,S,D){const C=D??"default";try{return C==="default"?o.keyFromPublic(v,"hex").verify(l,(0,s.signatureDecode)(o,S)):i.schnorr.verifySync((0,s.hexToBinUnsafe)(S),(0,s.hexToBinUnsafe)(l),(0,s.hexToBinUnsafe)(v))}catch{return!1}}return Ki.verifySignature=c,Ki}var xy={},Sy={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",f=1e14,c=14,l=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],S=1e7,D=1e9;function C(P){var g,$,Y,Q=ce.prototype={constructor:ce,toString:null,valueOf:null},G=new ce(1),h=20,m=4,u=-7,p=21,A=-1e7,x=1e7,O=!1,N=1,w=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function ce(y,F){var re,j,J,te,R,_,E,L,V=this;if(!(V instanceof ce))return new ce(y,F);if(F==null){if(y&&y._isBigNumber===!0){V.s=y.s,!y.c||y.e>x?V.c=V.e=null:y.e<A?V.c=[V.e=0]:(V.e=y.e,V.c=y.c.slice());return}if((_=typeof y=="number")&&y*0==0){if(V.s=1/y<0?(y=-y,-1):1,y===~~y){for(te=0,R=y;R>=10;R/=10,te++);te>x?V.c=V.e=null:(V.e=te,V.c=[y]);return}L=String(y)}else{if(!n.test(L=String(y)))return Y(V,L,_);V.s=L.charCodeAt(0)==45?(L=L.slice(1),-1):1}(te=L.indexOf("."))>-1&&(L=L.replace(".","")),(R=L.search(/e/i))>0?(te<0&&(te=R),te+=+L.slice(R+1),L=L.substring(0,R)):te<0&&(te=L.length)}else{if(W(F,2,T.length,"Base"),F==10&&k)return V=new ce(y),pe(V,h+V.e+1,m);if(L=String(y),_=typeof y=="number"){if(y*0!=0)return Y(V,L,_,F);if(V.s=1/y<0?(L=L.slice(1),-1):1,ce.DEBUG&&L.replace(/^0\.0*|\./,"").length>15)throw Error(o+y)}else V.s=L.charCodeAt(0)===45?(L=L.slice(1),-1):1;for(re=T.slice(0,F),te=R=0,E=L.length;R<E;R++)if(re.indexOf(j=L.charAt(R))<0){if(j=="."){if(R>te){te=E;continue}}else if(!J&&(L==L.toUpperCase()&&(L=L.toLowerCase())||L==L.toLowerCase()&&(L=L.toUpperCase()))){J=!0,R=-1,te=0;continue}return Y(V,String(y),_,F)}_=!1,L=$(L,F,10,V.s),(te=L.indexOf("."))>-1?L=L.replace(".",""):te=L.length}for(R=0;L.charCodeAt(R)===48;R++);for(E=L.length;L.charCodeAt(--E)===48;);if(L=L.slice(R,++E)){if(E-=R,_&&ce.DEBUG&&E>15&&(y>l||y!==i(y)))throw Error(o+V.s*y);if((te=te-R-1)>x)V.c=V.e=null;else if(te<A)V.c=[V.e=0];else{if(V.e=te,V.c=[],R=(te+1)%c,te<0&&(R+=c),R<E){for(R&&V.c.push(+L.slice(0,R)),E-=c;R<E;)V.c.push(+L.slice(R,R+=c));R=c-(L=L.slice(R)).length}else R-=E;for(;R--;L+="0");V.c.push(+L)}}else V.c=[V.e=0]}ce.clone=C,ce.ROUND_UP=0,ce.ROUND_DOWN=1,ce.ROUND_CEIL=2,ce.ROUND_FLOOR=3,ce.ROUND_HALF_UP=4,ce.ROUND_HALF_DOWN=5,ce.ROUND_HALF_EVEN=6,ce.ROUND_HALF_CEIL=7,ce.ROUND_HALF_FLOOR=8,ce.EUCLID=9,ce.config=ce.set=function(y){var F,re;if(y!=null)if(typeof y=="object"){if(y.hasOwnProperty(F="DECIMAL_PLACES")&&(re=y[F],W(re,0,D,F),h=re),y.hasOwnProperty(F="ROUNDING_MODE")&&(re=y[F],W(re,0,8,F),m=re),y.hasOwnProperty(F="EXPONENTIAL_AT")&&(re=y[F],re&&re.pop?(W(re[0],-D,0,F),W(re[1],0,D,F),u=re[0],p=re[1]):(W(re,-D,D,F),u=-(p=re<0?-re:re))),y.hasOwnProperty(F="RANGE"))if(re=y[F],re&&re.pop)W(re[0],-D,-1,F),W(re[1],1,D,F),A=re[0],x=re[1];else if(W(re,-D,D,F),re)A=-(x=re<0?-re:re);else throw Error(a+F+" cannot be zero: "+re);if(y.hasOwnProperty(F="CRYPTO"))if(re=y[F],re===!!re)if(re)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))O=re;else throw O=!re,Error(a+"crypto unavailable");else O=re;else throw Error(a+F+" not true or false: "+re);if(y.hasOwnProperty(F="MODULO_MODE")&&(re=y[F],W(re,0,9,F),N=re),y.hasOwnProperty(F="POW_PRECISION")&&(re=y[F],W(re,0,D,F),w=re),y.hasOwnProperty(F="FORMAT"))if(re=y[F],typeof re=="object")I=re;else throw Error(a+F+" not an object: "+re);if(y.hasOwnProperty(F="ALPHABET"))if(re=y[F],typeof re=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(re))k=re.slice(0,10)=="0123456789",T=re;else throw Error(a+F+" invalid: "+re)}else throw Error(a+"Object expected: "+y);return{DECIMAL_PLACES:h,ROUNDING_MODE:m,EXPONENTIAL_AT:[u,p],RANGE:[A,x],CRYPTO:O,MODULO_MODE:N,POW_PRECISION:w,FORMAT:I,ALPHABET:T}},ce.isBigNumber=function(y){if(!y||y._isBigNumber!==!0)return!1;if(!ce.DEBUG)return!0;var F,re,j=y.c,J=y.e,te=y.s;e:if({}.toString.call(j)=="[object Array]"){if((te===1||te===-1)&&J>=-D&&J<=D&&J===i(J)){if(j[0]===0){if(J===0&&j.length===1)return!0;break e}if(F=(J+1)%c,F<1&&(F+=c),String(j[0]).length==F){for(F=0;F<j.length;F++)if(re=j[F],re<0||re>=f||re!==i(re))break e;if(re!==0)return!0}}}else if(j===null&&J===null&&(te===null||te===1||te===-1))return!0;throw Error(a+"Invalid BigNumber: "+y)},ce.maximum=ce.max=function(){return be(arguments,-1)},ce.minimum=ce.min=function(){return be(arguments,1)},ce.random=function(){var y=9007199254740992,F=Math.random()*y&2097151?function(){return i(Math.random()*y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(re){var j,J,te,R,_,E=0,L=[],V=new ce(G);if(re==null?re=h:W(re,0,D),R=s(re/c),O)if(crypto.getRandomValues){for(j=crypto.getRandomValues(new Uint32Array(R*=2));E<R;)_=j[E]*131072+(j[E+1]>>>11),_>=9e15?(J=crypto.getRandomValues(new Uint32Array(2)),j[E]=J[0],j[E+1]=J[1]):(L.push(_%1e14),E+=2);E=R/2}else if(crypto.randomBytes){for(j=crypto.randomBytes(R*=7);E<R;)_=(j[E]&31)*281474976710656+j[E+1]*1099511627776+j[E+2]*4294967296+j[E+3]*16777216+(j[E+4]<<16)+(j[E+5]<<8)+j[E+6],_>=9e15?crypto.randomBytes(7).copy(j,E):(L.push(_%1e14),E+=7);E=R/7}else throw O=!1,Error(a+"crypto unavailable");if(!O)for(;E<R;)_=F(),_<9e15&&(L[E++]=_%1e14);for(R=L[--E],re%=c,R&&re&&(_=v[c-re],L[E]=i(R/_)*_);L[E]===0;L.pop(),E--);if(E<0)L=[te=0];else{for(te=-1;L[0]===0;L.splice(0,1),te-=c);for(E=1,_=L[0];_>=10;_/=10,E++);E<c&&(te-=c-E)}return V.e=te,V.c=L,V}}(),ce.sum=function(){for(var y=1,F=arguments,re=new ce(F[0]);y<F.length;)re=re.plus(F[y++]);return re},$=function(){var y="0123456789";function F(re,j,J,te){for(var R,_=[0],E,L=0,V=re.length;L<V;){for(E=_.length;E--;_[E]*=j);for(_[0]+=te.indexOf(re.charAt(L++)),R=0;R<_.length;R++)_[R]>J-1&&(_[R+1]==null&&(_[R+1]=0),_[R+1]+=_[R]/J|0,_[R]%=J)}return _.reverse()}return function(re,j,J,te,R){var _,E,L,V,ee,ie,me,ye,ve=re.indexOf("."),Se=h,M=m;for(ve>=0&&(V=w,w=0,re=re.replace(".",""),ye=new ce(j),ie=ye.pow(re.length-ve),w=V,ye.c=F(z(H(ie.c),ie.e,"0"),10,J,y),ye.e=ye.c.length),me=F(re,j,J,R?(_=T,y):(_=y,T)),L=V=me.length;me[--V]==0;me.pop());if(!me[0])return _.charAt(0);if(ve<0?--L:(ie.c=me,ie.e=L,ie.s=te,ie=g(ie,ye,Se,M,J),me=ie.c,ee=ie.r,L=ie.e),E=L+Se+1,ve=me[E],V=J/2,ee=ee||E<0||me[E+1]!=null,ee=M<4?(ve!=null||ee)&&(M==0||M==(ie.s<0?3:2)):ve>V||ve==V&&(M==4||ee||M==6&&me[E-1]&1||M==(ie.s<0?8:7)),E<1||!me[0])re=ee?z(_.charAt(1),-Se,_.charAt(0)):_.charAt(0);else{if(me.length=E,ee)for(--J;++me[--E]>J;)me[E]=0,E||(++L,me=[1].concat(me));for(V=me.length;!me[--V];);for(ve=0,re="";ve<=V;re+=_.charAt(me[ve++]));re=z(re,L,_.charAt(0))}return re}}(),g=function(){function y(j,J,te){var R,_,E,L,V=0,ee=j.length,ie=J%S,me=J/S|0;for(j=j.slice();ee--;)E=j[ee]%S,L=j[ee]/S|0,R=me*E+L*ie,_=ie*E+R%S*S+V,V=(_/te|0)+(R/S|0)+me*L,j[ee]=_%te;return V&&(j=[V].concat(j)),j}function F(j,J,te,R){var _,E;if(te!=R)E=te>R?1:-1;else for(_=E=0;_<te;_++)if(j[_]!=J[_]){E=j[_]>J[_]?1:-1;break}return E}function re(j,J,te,R){for(var _=0;te--;)j[te]-=_,_=j[te]<J[te]?1:0,j[te]=_*R+j[te]-J[te];for(;!j[0]&&j.length>1;j.splice(0,1));}return function(j,J,te,R,_){var E,L,V,ee,ie,me,ye,ve,Se,M,d,b,U,X,se,oe,_e,xe=j.s==J.s?1:-1,Ae=j.c,Me=J.c;if(!Ae||!Ae[0]||!Me||!Me[0])return new ce(!j.s||!J.s||(Ae?Me&&Ae[0]==Me[0]:!Me)?NaN:Ae&&Ae[0]==0||!Me?xe*0:xe/0);for(ve=new ce(xe),Se=ve.c=[],L=j.e-J.e,xe=te+L+1,_||(_=f,L=q(j.e/c)-q(J.e/c),xe=xe/c|0),V=0;Me[V]==(Ae[V]||0);V++);if(Me[V]>(Ae[V]||0)&&L--,xe<0)Se.push(1),ee=!0;else{for(X=Ae.length,oe=Me.length,V=0,xe+=2,ie=i(_/(Me[0]+1)),ie>1&&(Me=y(Me,ie,_),Ae=y(Ae,ie,_),oe=Me.length,X=Ae.length),U=oe,M=Ae.slice(0,oe),d=M.length;d<oe;M[d++]=0);_e=Me.slice(),_e=[0].concat(_e),se=Me[0],Me[1]>=_/2&&se++;do{if(ie=0,E=F(Me,M,oe,d),E<0){if(b=M[0],oe!=d&&(b=b*_+(M[1]||0)),ie=i(b/se),ie>1)for(ie>=_&&(ie=_-1),me=y(Me,ie,_),ye=me.length,d=M.length;F(me,M,ye,d)==1;)ie--,re(me,oe<ye?_e:Me,ye,_),ye=me.length,E=1;else ie==0&&(E=ie=1),me=Me.slice(),ye=me.length;if(ye<d&&(me=[0].concat(me)),re(M,me,d,_),d=M.length,E==-1)for(;F(Me,M,oe,d)<1;)ie++,re(M,oe<d?_e:Me,d,_),d=M.length}else E===0&&(ie++,M=[0]);Se[V++]=ie,M[0]?M[d++]=Ae[U]||0:(M=[Ae[U]],d=1)}while((U++<X||M[0]!=null)&&xe--);ee=M[0]!=null,Se[0]||Se.splice(0,1)}if(_==f){for(V=1,xe=Se[0];xe>=10;xe/=10,V++);pe(ve,te+(ve.e=V+L*c-1)+1,R,ee)}else ve.e=L,ve.r=+ee;return ve}}();function fe(y,F,re,j){var J,te,R,_,E;if(re==null?re=m:W(re,0,8),!y.c)return y.toString();if(J=y.c[0],R=y.e,F==null)E=H(y.c),E=j==1||j==2&&(R<=u||R>=p)?B(E,R):z(E,R,"0");else if(y=pe(new ce(y),F,re),te=y.e,E=H(y.c),_=E.length,j==1||j==2&&(F<=te||te<=u)){for(;_<F;E+="0",_++);E=B(E,te)}else if(F-=R,E=z(E,te,"0"),te+1>_){if(--F>0)for(E+=".";F--;E+="0");}else if(F+=te-_,F>0)for(te+1==_&&(E+=".");F--;E+="0");return y.s<0&&J?"-"+E:E}function be(y,F){for(var re,j,J=1,te=new ce(y[0]);J<y.length;J++)j=new ce(y[J]),(!j.s||(re=Z(te,j))===F||re===0&&te.s===F)&&(te=j);return te}function he(y,F,re){for(var j=1,J=F.length;!F[--J];F.pop());for(J=F[0];J>=10;J/=10,j++);return(re=j+re*c-1)>x?y.c=y.e=null:re<A?y.c=[y.e=0]:(y.e=re,y.c=F),y}Y=function(){var y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,re=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,J=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(te,R,_,E){var L,V=_?R:R.replace(J,"");if(j.test(V))te.s=isNaN(V)?null:V<0?-1:1;else{if(!_&&(V=V.replace(y,function(ee,ie,me){return L=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!E||E==L?ie:ee}),E&&(L=E,V=V.replace(F,"$1").replace(re,"0.$1")),R!=V))return new ce(V,L);if(ce.DEBUG)throw Error(a+"Not a"+(E?" base "+E:"")+" number: "+R);te.s=null}te.c=te.e=null}}();function pe(y,F,re,j){var J,te,R,_,E,L,V,ee=y.c,ie=v;if(ee){e:{for(J=1,_=ee[0];_>=10;_/=10,J++);if(te=F-J,te<0)te+=c,R=F,E=ee[L=0],V=i(E/ie[J-R-1]%10);else if(L=s((te+1)/c),L>=ee.length)if(j){for(;ee.length<=L;ee.push(0));E=V=0,J=1,te%=c,R=te-c+1}else break e;else{for(E=_=ee[L],J=1;_>=10;_/=10,J++);te%=c,R=te-c+J,V=R<0?0:i(E/ie[J-R-1]%10)}if(j=j||F<0||ee[L+1]!=null||(R<0?E:E%ie[J-R-1]),j=re<4?(V||j)&&(re==0||re==(y.s<0?3:2)):V>5||V==5&&(re==4||j||re==6&&(te>0?R>0?E/ie[J-R]:0:ee[L-1])%10&1||re==(y.s<0?8:7)),F<1||!ee[0])return ee.length=0,j?(F-=y.e+1,ee[0]=ie[(c-F%c)%c],y.e=-F||0):ee[0]=y.e=0,y;if(te==0?(ee.length=L,_=1,L--):(ee.length=L+1,_=ie[c-te],ee[L]=R>0?i(E/ie[J-R]%ie[R])*_:0),j)for(;;)if(L==0){for(te=1,R=ee[0];R>=10;R/=10,te++);for(R=ee[0]+=_,_=1;R>=10;R/=10,_++);te!=_&&(y.e++,ee[0]==f&&(ee[0]=1));break}else{if(ee[L]+=_,ee[L]!=f)break;ee[L--]=0,_=1}for(te=ee.length;ee[--te]===0;ee.pop());}y.e>x?y.c=y.e=null:y.e<A&&(y.c=[y.e=0])}return y}function le(y){var F,re=y.e;return re===null?y.toString():(F=H(y.c),F=re<=u||re>=p?B(F,re):z(F,re,"0"),y.s<0?"-"+F:F)}return Q.absoluteValue=Q.abs=function(){var y=new ce(this);return y.s<0&&(y.s=1),y},Q.comparedTo=function(y,F){return Z(this,new ce(y,F))},Q.decimalPlaces=Q.dp=function(y,F){var re,j,J,te=this;if(y!=null)return W(y,0,D),F==null?F=m:W(F,0,8),pe(new ce(te),y+te.e+1,F);if(!(re=te.c))return null;if(j=((J=re.length-1)-q(this.e/c))*c,J=re[J])for(;J%10==0;J/=10,j--);return j<0&&(j=0),j},Q.dividedBy=Q.div=function(y,F){return g(this,new ce(y,F),h,m)},Q.dividedToIntegerBy=Q.idiv=function(y,F){return g(this,new ce(y,F),0,1)},Q.exponentiatedBy=Q.pow=function(y,F){var re,j,J,te,R,_,E,L,V,ee=this;if(y=new ce(y),y.c&&!y.isInteger())throw Error(a+"Exponent not an integer: "+le(y));if(F!=null&&(F=new ce(F)),_=y.e>14,!ee.c||!ee.c[0]||ee.c[0]==1&&!ee.e&&ee.c.length==1||!y.c||!y.c[0])return V=new ce(Math.pow(+le(ee),_?y.s*(2-K(y)):+le(y))),F?V.mod(F):V;if(E=y.s<0,F){if(F.c?!F.c[0]:!F.s)return new ce(NaN);j=!E&&ee.isInteger()&&F.isInteger(),j&&(ee=ee.mod(F))}else{if(y.e>9&&(ee.e>0||ee.e<-1||(ee.e==0?ee.c[0]>1||_&&ee.c[1]>=24e7:ee.c[0]<8e13||_&&ee.c[0]<=9999975e7)))return te=ee.s<0&&K(y)?-0:0,ee.e>-1&&(te=1/te),new ce(E?1/te:te);w&&(te=s(w/c+2))}for(_?(re=new ce(.5),E&&(y.s=1),L=K(y)):(J=Math.abs(+le(y)),L=J%2),V=new ce(G);;){if(L){if(V=V.times(ee),!V.c)break;te?V.c.length>te&&(V.c.length=te):j&&(V=V.mod(F))}if(J){if(J=i(J/2),J===0)break;L=J%2}else if(y=y.times(re),pe(y,y.e+1,1),y.e>14)L=K(y);else{if(J=+le(y),J===0)break;L=J%2}ee=ee.times(ee),te?ee.c&&ee.c.length>te&&(ee.c.length=te):j&&(ee=ee.mod(F))}return j?V:(E&&(V=G.div(V)),F?V.mod(F):te?pe(V,w,m,R):V)},Q.integerValue=function(y){var F=new ce(this);return y==null?y=m:W(y,0,8),pe(F,F.e+1,y)},Q.isEqualTo=Q.eq=function(y,F){return Z(this,new ce(y,F))===0},Q.isFinite=function(){return!!this.c},Q.isGreaterThan=Q.gt=function(y,F){return Z(this,new ce(y,F))>0},Q.isGreaterThanOrEqualTo=Q.gte=function(y,F){return(F=Z(this,new ce(y,F)))===1||F===0},Q.isInteger=function(){return!!this.c&&q(this.e/c)>this.c.length-2},Q.isLessThan=Q.lt=function(y,F){return Z(this,new ce(y,F))<0},Q.isLessThanOrEqualTo=Q.lte=function(y,F){return(F=Z(this,new ce(y,F)))===-1||F===0},Q.isNaN=function(){return!this.s},Q.isNegative=function(){return this.s<0},Q.isPositive=function(){return this.s>0},Q.isZero=function(){return!!this.c&&this.c[0]==0},Q.minus=function(y,F){var re,j,J,te,R=this,_=R.s;if(y=new ce(y,F),F=y.s,!_||!F)return new ce(NaN);if(_!=F)return y.s=-F,R.plus(y);var E=R.e/c,L=y.e/c,V=R.c,ee=y.c;if(!E||!L){if(!V||!ee)return V?(y.s=-F,y):new ce(ee?R:NaN);if(!V[0]||!ee[0])return ee[0]?(y.s=-F,y):new ce(V[0]?R:m==3?-0:0)}if(E=q(E),L=q(L),V=V.slice(),_=E-L){for((te=_<0)?(_=-_,J=V):(L=E,J=ee),J.reverse(),F=_;F--;J.push(0));J.reverse()}else for(j=(te=(_=V.length)<(F=ee.length))?_:F,_=F=0;F<j;F++)if(V[F]!=ee[F]){te=V[F]<ee[F];break}if(te&&(J=V,V=ee,ee=J,y.s=-y.s),F=(j=ee.length)-(re=V.length),F>0)for(;F--;V[re++]=0);for(F=f-1;j>_;){if(V[--j]<ee[j]){for(re=j;re&&!V[--re];V[re]=F);--V[re],V[j]+=f}V[j]-=ee[j]}for(;V[0]==0;V.splice(0,1),--L);return V[0]?he(y,V,L):(y.s=m==3?-1:1,y.c=[y.e=0],y)},Q.modulo=Q.mod=function(y,F){var re,j,J=this;return y=new ce(y,F),!J.c||!y.s||y.c&&!y.c[0]?new ce(NaN):!y.c||J.c&&!J.c[0]?new ce(J):(N==9?(j=y.s,y.s=1,re=g(J,y,0,3),y.s=j,re.s*=j):re=g(J,y,0,N),y=J.minus(re.times(y)),!y.c[0]&&N==1&&(y.s=J.s),y)},Q.multipliedBy=Q.times=function(y,F){var re,j,J,te,R,_,E,L,V,ee,ie,me,ye,ve,Se,M=this,d=M.c,b=(y=new ce(y,F)).c;if(!d||!b||!d[0]||!b[0])return!M.s||!y.s||d&&!d[0]&&!b||b&&!b[0]&&!d?y.c=y.e=y.s=null:(y.s*=M.s,!d||!b?y.c=y.e=null:(y.c=[0],y.e=0)),y;for(j=q(M.e/c)+q(y.e/c),y.s*=M.s,E=d.length,ee=b.length,E<ee&&(ye=d,d=b,b=ye,J=E,E=ee,ee=J),J=E+ee,ye=[];J--;ye.push(0));for(ve=f,Se=S,J=ee;--J>=0;){for(re=0,ie=b[J]%Se,me=b[J]/Se|0,R=E,te=J+R;te>J;)L=d[--R]%Se,V=d[R]/Se|0,_=me*L+V*ie,L=ie*L+_%Se*Se+ye[te]+re,re=(L/ve|0)+(_/Se|0)+me*V,ye[te--]=L%ve;ye[te]=re}return re?++j:ye.splice(0,1),he(y,ye,j)},Q.negated=function(){var y=new ce(this);return y.s=-y.s||null,y},Q.plus=function(y,F){var re,j=this,J=j.s;if(y=new ce(y,F),F=y.s,!J||!F)return new ce(NaN);if(J!=F)return y.s=-F,j.minus(y);var te=j.e/c,R=y.e/c,_=j.c,E=y.c;if(!te||!R){if(!_||!E)return new ce(J/0);if(!_[0]||!E[0])return E[0]?y:new ce(_[0]?j:J*0)}if(te=q(te),R=q(R),_=_.slice(),J=te-R){for(J>0?(R=te,re=E):(J=-J,re=_),re.reverse();J--;re.push(0));re.reverse()}for(J=_.length,F=E.length,J-F<0&&(re=E,E=_,_=re,F=J),J=0;F;)J=(_[--F]=_[F]+E[F]+J)/f|0,_[F]=f===_[F]?0:_[F]%f;return J&&(_=[J].concat(_),++R),he(y,_,R)},Q.precision=Q.sd=function(y,F){var re,j,J,te=this;if(y!=null&&y!==!!y)return W(y,1,D),F==null?F=m:W(F,0,8),pe(new ce(te),y,F);if(!(re=te.c))return null;if(J=re.length-1,j=J*c+1,J=re[J]){for(;J%10==0;J/=10,j--);for(J=re[0];J>=10;J/=10,j++);}return y&&te.e+1>j&&(j=te.e+1),j},Q.shiftedBy=function(y){return W(y,-l,l),this.times("1e"+y)},Q.squareRoot=Q.sqrt=function(){var y,F,re,j,J,te=this,R=te.c,_=te.s,E=te.e,L=h+4,V=new ce("0.5");if(_!==1||!R||!R[0])return new ce(!_||_<0&&(!R||R[0])?NaN:R?te:1/0);if(_=Math.sqrt(+le(te)),_==0||_==1/0?(F=H(R),(F.length+E)%2==0&&(F+="0"),_=Math.sqrt(+F),E=q((E+1)/2)-(E<0||E%2),_==1/0?F="5e"+E:(F=_.toExponential(),F=F.slice(0,F.indexOf("e")+1)+E),re=new ce(F)):re=new ce(_+""),re.c[0]){for(E=re.e,_=E+L,_<3&&(_=0);;)if(J=re,re=V.times(J.plus(g(te,J,L,1))),H(J.c).slice(0,_)===(F=H(re.c)).slice(0,_))if(re.e<E&&--_,F=F.slice(_-3,_+1),F=="9999"||!j&&F=="4999"){if(!j&&(pe(J,J.e+h+2,0),J.times(J).eq(te))){re=J;break}L+=4,_+=4,j=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(pe(re,re.e+h+2,1),y=!re.times(re).eq(te));break}}return pe(re,re.e+h+1,m,y)},Q.toExponential=function(y,F){return y!=null&&(W(y,0,D),y++),fe(this,y,F,1)},Q.toFixed=function(y,F){return y!=null&&(W(y,0,D),y=y+this.e+1),fe(this,y,F)},Q.toFormat=function(y,F,re){var j,J=this;if(re==null)y!=null&&F&&typeof F=="object"?(re=F,F=null):y&&typeof y=="object"?(re=y,y=F=null):re=I;else if(typeof re!="object")throw Error(a+"Argument not an object: "+re);if(j=J.toFixed(y,F),J.c){var te,R=j.split("."),_=+re.groupSize,E=+re.secondaryGroupSize,L=re.groupSeparator||"",V=R[0],ee=R[1],ie=J.s<0,me=ie?V.slice(1):V,ye=me.length;if(E&&(te=_,_=E,E=te,ye-=te),_>0&&ye>0){for(te=ye%_||_,V=me.substr(0,te);te<ye;te+=_)V+=L+me.substr(te,_);E>0&&(V+=L+me.slice(te)),ie&&(V="-"+V)}j=ee?V+(re.decimalSeparator||"")+((E=+re.fractionGroupSize)?ee.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(re.fractionGroupSeparator||"")):ee):V}return(re.prefix||"")+j+(re.suffix||"")},Q.toFraction=function(y){var F,re,j,J,te,R,_,E,L,V,ee,ie,me=this,ye=me.c;if(y!=null&&(_=new ce(y),!_.isInteger()&&(_.c||_.s!==1)||_.lt(G)))throw Error(a+"Argument "+(_.isInteger()?"out of range: ":"not an integer: ")+le(_));if(!ye)return new ce(me);for(F=new ce(G),L=re=new ce(G),j=E=new ce(G),ie=H(ye),te=F.e=ie.length-me.e-1,F.c[0]=v[(R=te%c)<0?c+R:R],y=!y||_.comparedTo(F)>0?te>0?F:L:_,R=x,x=1/0,_=new ce(ie),E.c[0]=0;V=g(_,F,0,1),J=re.plus(V.times(j)),J.comparedTo(y)!=1;)re=j,j=J,L=E.plus(V.times(J=L)),E=J,F=_.minus(V.times(J=F)),_=J;return J=g(y.minus(re),j,0,1),E=E.plus(J.times(L)),re=re.plus(J.times(j)),E.s=L.s=me.s,te=te*2,ee=g(L,j,te,m).minus(me).abs().comparedTo(g(E,re,te,m).minus(me).abs())<1?[L,j]:[E,re],x=R,ee},Q.toNumber=function(){return+le(this)},Q.toPrecision=function(y,F){return y!=null&&W(y,1,D),fe(this,y,F,2)},Q.toString=function(y){var F,re=this,j=re.s,J=re.e;return J===null?j?(F="Infinity",j<0&&(F="-"+F)):F="NaN":(y==null?F=J<=u||J>=p?B(H(re.c),J):z(H(re.c),J,"0"):y===10&&k?(re=pe(new ce(re),h+J+1,m),F=z(H(re.c),re.e,"0")):(W(y,2,T.length,"Base"),F=$(z(H(re.c),J,"0"),10,y,j,!0)),j<0&&re.c[0]&&(F="-"+F)),F},Q.valueOf=Q.toJSON=function(){return le(this)},Q._isBigNumber=!0,P!=null&&ce.set(P),ce}function q(P){var g=P|0;return P>0||P===g?g:g-1}function H(P){for(var g,$,Y=1,Q=P.length,G=P[0]+"";Y<Q;){for(g=P[Y++]+"",$=c-g.length;$--;g="0"+g);G+=g}for(Q=G.length;G.charCodeAt(--Q)===48;);return G.slice(0,Q+1||1)}function Z(P,g){var $,Y,Q=P.c,G=g.c,h=P.s,m=g.s,u=P.e,p=g.e;if(!h||!m)return null;if($=Q&&!Q[0],Y=G&&!G[0],$||Y)return $?Y?0:-m:h;if(h!=m)return h;if($=h<0,Y=u==p,!Q||!G)return Y?0:!Q^$?1:-1;if(!Y)return u>p^$?1:-1;for(m=(u=Q.length)<(p=G.length)?u:p,h=0;h<m;h++)if(Q[h]!=G[h])return Q[h]>G[h]^$?1:-1;return u==p?0:u>p^$?1:-1}function W(P,g,$,Y){if(P<g||P>$||P!==i(P))throw Error(a+(Y||"Argument")+(typeof P=="number"?P<g||P>$?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function K(P){var g=P.c.length-1;return q(P.e/c)==g&&P.c[g]%2!=0}function B(P,g){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(g<0?"e":"e+")+g}function z(P,g,$){var Y,Q;if(g<0){for(Q=$+".";++g;Q+=$);P=Q+P}else if(Y=P.length,++g>Y){for(Q=$,g-=Y;--g;Q+=$);P+=Q}else g<Y&&(P=P.slice(0,g)+"."+P.slice(g));return P}r=C(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(Be)})(Sy);var uS=Sy.exports;(function(e){var t=Be&&Be.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(e,"__esModule",{value:!0}),e.number256ToNumber=e.number256ToBigint=e.convertAlphAmountWithDecimals=e.convertAmountWithDecimals=e.prettifyNumber=e.prettifyExactAmount=e.prettifyTokenAmount=e.prettifyAttoAlphAmount=e.prettifyNumberConfig=e.isNumeric=void 0;const r=t(uS),n=H=>!isNaN(parseFloat(H))&&isFinite(H);e.isNumeric=n,e.prettifyNumberConfig={ALPH:{minDecimalPlaces:2,maxDecimalPlaces:10,minDecimalSignificantDigits:2,decimalPlacesWhenZero:2},TOKEN:{minDecimalPlaces:4,maxDecimalPlaces:16,minDecimalSignificantDigits:2,decimalPlacesWhenZero:1},Exact:{minDecimalPlaces:18,maxDecimalPlaces:18,minDecimalSignificantDigits:0,decimalPlacesWhenZero:0}};function s(H){return o(H,18,e.prettifyNumberConfig.ALPH)}e.prettifyAttoAlphAmount=s;function i(H,Z){return o(H,Z,e.prettifyNumberConfig.TOKEN)}e.prettifyTokenAmount=i;function a(H,Z){return o(H,Z,e.prettifyNumberConfig.Exact)}e.prettifyExactAmount=a;function o(H,Z,W){const K=v(C(H),Z);if(!(0,e.isNumeric)(K))return;const B=new r.default(K);let z;if(B.gte(1))z=B.toFormat(W.minDecimalPlaces);else{const Y=B.toFormat(W.maxDecimalPlaces).split(".")[1],Q=Y==null?void 0:Y.match(/^0+/),G=Q&&Q.length?Q[0].length:0,h=Math.max(G+W.minDecimalSignificantDigits,W.minDecimalPlaces);z=B.toFormat(h)}let P=z.replace(/0+$/,"");const g=1+z.indexOf(".")+W.decimalPlacesWhenZero;return P.length<g&&(P=z.substring(0,g)),P[P.length-1]==="."&&(P=P.slice(0,-1)),P}e.prettifyNumber=o;const f=BigInt(-1),c=BigInt(0),l="0000";function v(H,Z){let W="";H<c&&(W="-",H*=f);let K=H.toString();if(Z===0)return W+K;for(;K.length<=Z;)K=l+K;const B=K.length-Z;for(K=K.substring(0,B)+"."+K.substring(B);K[0]==="0"&&K[1]!==".";)K=K.substring(1);for(;K[K.length-1]==="0"&&K[K.length-2]!==".";)K=K.substring(0,K.length-1);return W+K}function S(H,Z){try{const W=new r.default(H).multipliedBy(Math.pow(10,Z));return BigInt(W.toFormat(0,{groupSeparator:""}))}catch{return}}e.convertAmountWithDecimals=S;function D(H){return S(H,18)}e.convertAlphAmountWithDecimals=D;function C(H){return typeof H=="string"?BigInt(H):H}e.number256ToBigint=C;function q(H,Z){return parseFloat(v(C(H),Z))}e.number256ToNumber=q})(xy);var Mr={},Dp;function lS(){if(Dp)return Mr;Dp=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.getAddressFromUnlockScript=Mr.getSenderAddress=Mr.getALPHDepositInfo=Mr.isALPHTransferTx=Mr.validateExchangeAddress=void 0;const e=ai();function t(c){let l;try{l=e.bs58.decode(c)}catch{throw new Error("Invalid base58 string")}if(l.length===0)throw new Error("Address is empty");const v=l[0];if(v!==e.AddressType.P2PKH&&v!==e.AddressType.P2SH)throw new Error("Invalid address type");if(l.length!==33)throw new Error("Invalid address length")}Mr.validateExchangeAddress=t;function r(c){return f(c)&&o(c)}Mr.isALPHTransferTx=r;function n(c){if(!r(c))return[];const l=[];for(const S of c.unsigned.inputs)try{const D=a(S.unlockScript);l.includes(D)||l.push(D)}catch{}const v=new Map;return c.unsigned.fixedOutputs.forEach(S=>{if(!l.includes(S.address)){const D=v.get(S.address);D===void 0?v.set(S.address,BigInt(S.attoAlphAmount)):v.set(S.address,BigInt(S.attoAlphAmount)+D)}}),Array.from(v.entries()).map(([S,D])=>({targetAddress:S,depositAmount:D}))}Mr.getALPHDepositInfo=n;function s(c){return a(c.unsigned.inputs[0].unlockScript)}Mr.getSenderAddress=s;var i;(function(c){c[c.P2PKH=0]="P2PKH",c[c.P2MPKH=1]="P2MPKH",c[c.P2SH=2]="P2SH"})(i||(i={}));function a(c){const l=(0,e.hexToBinUnsafe)(c);if(l.length===0)throw new Error("UnlockScript is empty");const v=l[0],S=l.slice(1);if(v===i.P2PKH)return(0,e.addressFromPublicKey)((0,e.binToHex)(S));if(v===i.P2MPKH)throw new Error("Naive multi-sig address is not supported for exchanges as it will be replaced by P2SH");if(v===i.P2SH){const D=S.slice(0,-1);return(0,e.addressFromScript)(D)}else throw new Error("Invalid unlock script type")}Mr.getAddressFromUnlockScript=a;function o(c){return c.unsigned.fixedOutputs.every(v=>v.tokens.length===0)}function f(c){return!(c.contractInputs.length!==0||c.generatedOutputs.length!==0||c.unsigned.inputs.length===0||c.unsigned.scriptOpt!==void 0)}return Mr}var Np;function Nr(){return Np||(Np=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(s,i,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(i,a);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(s,o,f)}:function(s,i,a,o){o===void 0&&(o=a),s[o]=i[a]}),r=Be&&Be.__exportStar||function(s,i){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,s,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.getALPHDepositInfo=e.getSenderAddress=e.isALPHTransferTx=e.validateExchangeAddress=void 0,r(vf,e),r(_f,e),r(Ef,e),r(Na,e),r(Nb,e),r(Rf,e),r(fS(),e),r(xy,e);var n=lS();Object.defineProperty(e,"validateExchangeAddress",{enumerable:!0,get:function(){return n.validateExchangeAddress}}),Object.defineProperty(e,"isALPHTransferTx",{enumerable:!0,get:function(){return n.isALPHTransferTx}}),Object.defineProperty(e,"getSenderAddress",{enumerable:!0,get:function(){return n.getSenderAddress}}),Object.defineProperty(e,"getALPHDepositInfo",{enumerable:!0,get:function(){return n.getALPHDepositInfo}})}(Mu)),Mu}var Rp;function ld(){return Rp||(Rp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StdInterfaceIds=e.request=e.requestWithLog=e.forwardRequests=e.typeLength=e.getDefaultValue=e.fromApiVal=e.fromApiArray=e.fromApiVals=e.toApiVal=e.toApiArray=e.toApiAddress=e.toApiByteVec=e.fromApiNumber256=e.toApiNumber256Optional=e.toApiNumber256=e.toApiBoolean=e.fromApiTokens=e.fromApiToken=e.toApiTokens=e.toApiToken=void 0;const t=Pa,r=Qn,n=Nr();n.assertType;function s(h){return{id:h.id,amount:c(h.amount)}}e.toApiToken=s;function i(h){return h==null?void 0:h.map(s)}e.toApiTokens=i;function a(h){return{id:h.id,amount:v(h.amount)}}e.fromApiToken=a;function o(h){return h==null?void 0:h.map(a)}e.fromApiTokens=o;function f(h){if(typeof h=="boolean")return h;throw new Error(`Invalid boolean value: ${h}`)}e.toApiBoolean=f;function c(h){if(typeof h=="number"&&Number.isInteger(h)||typeof h=="bigint")return h.toString();if(typeof h=="string")try{if(BigInt(h).toString()===h)return h}catch{throw new Error(`Invalid value: ${h}, expected a 256 bit number`)}throw new Error(`Invalid value: ${h}, expected a 256 bit number`)}e.toApiNumber256=c;function l(h){return h===void 0?void 0:c(h)}e.toApiNumber256Optional=l;function v(h){return BigInt(h)}e.fromApiNumber256=v;function S(h){if(typeof h!="string")throw new Error(`Invalid value: ${h}, expected a hex-string`);if((0,n.isHexString)(h))return h;if((0,n.isBase58)(h))try{const m=n.bs58.decode(h);if(m.length==33&&m[0]==3)return Buffer.from(m.slice(1)).toString("hex")}catch{throw new Error(`Invalid hex-string: ${h}`)}throw new Error(`Invalid hex-string: ${h}`)}e.toApiByteVec=S;function D(h){if(typeof h=="string")try{return n.bs58.decode(h),h}catch{throw new Error(`Invalid base58 string: ${h}`)}else throw new Error(`Invalid value: ${h}, expected a base58 string`)}e.toApiAddress=D;function C(h,m){if(!Array.isArray(m))throw new Error(`Expected array, got ${m}`);const u=h.lastIndexOf(";");if(u==-1)throw new Error(`Invalid Val type: ${h}`);const p=h.slice(1,u),A=parseInt(h.slice(u+1,-1));if(m.length!=A)throw new Error(`Invalid val dimension: ${m}`);return{value:m.map(x=>q(x,p)),type:"Array"}}e.toApiArray=C;function q(h,m){return m==="Bool"?{value:f(h),type:m}:m==="U256"||m==="I256"?{value:c(h),type:m}:m==="ByteVec"?{value:S(h),type:m}:m==="Address"?{value:D(h),type:m}:C(m,h)}e.toApiVal=q;function H(h,m,u,p=!1){if(h.length===0)throw new Error("Not enough Vals");const A=h[`${m}`];if(u==="Bool"&&A.type===u)return[A.value,m+1];if((u==="U256"||u==="I256")&&A.type===u)return[v(A.value),m+1];if((u==="ByteVec"||u==="Address")&&(A.type===u||p))return[A.value,m+1];{const[x,O]=B(u),N=O.reduce((T,k)=>T*k),w=m+N,I=h.slice(m,w);if(I.length==N&&I.every(T=>T.type===x)){const T=I.map(k=>K(k,x));return[P(T,O),w]}else throw new Error(`Invalid array Val type: ${I}, ${u}`)}}function Z(h,m,u,p=!1){let A=0;const x={};return u.forEach((O,N)=>{const w=m[`${N}`],[I,T]=H(h,A,O,p);A=T,x[`${w}`]=I}),x}e.fromApiVals=Z;function W(h,m){let u=0;const p=[];for(const A of m){const[x,O]=H(h,u,A);p.push(x),u=O}return p}e.fromApiArray=W;function K(h,m){if(h.type==="Bool"&&h.type===m)return h.value;if((h.type==="U256"||h.type==="I256")&&h.type===m)return v(h.value);if((h.type==="ByteVec"||h.type==="Address")&&h.type===m)return h.value;throw new Error(`Invalid node.Val type: ${h}`)}e.fromApiVal=K;function B(h){const m=h.lastIndexOf(";");if(m===-1)throw new Error(`Invalid Val type: ${h}`);const u=h.slice(1,m),p=parseInt(h.slice(m+1,-1));if(u[0]=="["){const[A,x]=B(u);return[A,(x.unshift(p),x)]}else return[u,[p]]}function z(h){if(h==="U256"||h==="I256")return 0n;if(h==="Bool")return!1;if(h==="ByteVec")return"";if(h==="Address")return t.ZERO_ADDRESS;const[m,u]=B(h),p=z(m);return u.reduceRight((A,x)=>Array(x).fill(A),p)}e.getDefaultValue=z;function P(h,m){if(m.length==1)return h;{const u=[],p=h.length/m[0],A=m.slice(1);for(let x=0;x<h.length;x+=p){const O=h.slice(x,x+p);u.push(P(O,A))}return u}}function g(h){if(h==="U256"||h==="I256"||h==="Bool"||h==="ByteVec"||h==="Address")return 1;const[,m]=B(h);return m.reduce((u,p)=>u*p)}e.typeLength=g;async function $(h,m){const u=(0,r.isDebugModeEnabled)(),{path:p,method:A,params:x}=h;u&&console.log(`[REQUEST] ${p} ${A} ${JSON.stringify(x)}`);try{const O=await m(h);return u&&console.log(`[RESPONSE] ${p} ${A} ${JSON.stringify(O)}`),O}catch(O){throw u&&console.error(`[ERROR] ${p} ${A} `,O),O}}function Y(h,m){for(const[u,p]of Object.entries(h))for(const A of Object.keys(p))p[`${A}`]=async(...x)=>$({path:u,method:A,params:x},m)}e.forwardRequests=Y;function Q(h){for(const[m,u]of Object.entries(h))for(const[p,A]of Object.entries(u))u[`${p}`]=async(...x)=>$({path:m,method:p,params:x},()=>A(...x))}e.requestWithLog=Q;async function G(h,m){const u=h[`${m.path}`][`${m.method}`];return u(...m.params)}e.request=G,function(h){h.FungibleToken="0001",h.NFTCollection="0002",h.NFT="0003",h.NFTCollectionWithRoyalty="000201"}(e.StdInterfaceIds||(e.StdInterfaceIds={}))}(Tu)),Tu}var dd={};(function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(Y){return Y&&DataView.prototype.isPrototypeOf(Y)}if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(Y){return Y&&s.indexOf(Object.prototype.toString.call(Y))>-1};function a(Y){if(typeof Y!="string"&&(Y=String(Y)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Y))throw new TypeError("Invalid character in header field name");return Y.toLowerCase()}function o(Y){return typeof Y!="string"&&(Y=String(Y)),Y}function f(Y){var Q={next:function(){var G=Y.shift();return{done:G===void 0,value:G}}};return r.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function c(Y){this.map={},Y instanceof c?Y.forEach(function(Q,G){this.append(G,Q)},this):Array.isArray(Y)?Y.forEach(function(Q){this.append(Q[0],Q[1])},this):Y&&Object.getOwnPropertyNames(Y).forEach(function(Q){this.append(Q,Y[Q])},this)}c.prototype.append=function(Y,Q){Y=a(Y),Q=o(Q);var G=this.map[Y];this.map[Y]=G?G+", "+Q:Q},c.prototype.delete=function(Y){delete this.map[a(Y)]},c.prototype.get=function(Y){return Y=a(Y),this.has(Y)?this.map[Y]:null},c.prototype.has=function(Y){return this.map.hasOwnProperty(a(Y))},c.prototype.set=function(Y,Q){this.map[a(Y)]=o(Q)},c.prototype.forEach=function(Y,Q){for(var G in this.map)this.map.hasOwnProperty(G)&&Y.call(Q,this.map[G],G,this)},c.prototype.keys=function(){var Y=[];return this.forEach(function(Q,G){Y.push(G)}),f(Y)},c.prototype.values=function(){var Y=[];return this.forEach(function(Q){Y.push(Q)}),f(Y)},c.prototype.entries=function(){var Y=[];return this.forEach(function(Q,G){Y.push([G,Q])}),f(Y)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function l(Y){if(Y.bodyUsed)return Promise.reject(new TypeError("Already read"));Y.bodyUsed=!0}function v(Y){return new Promise(function(Q,G){Y.onload=function(){Q(Y.result)},Y.onerror=function(){G(Y.error)}})}function S(Y){var Q=new FileReader,G=v(Q);return Q.readAsArrayBuffer(Y),G}function D(Y){var Q=new FileReader,G=v(Q);return Q.readAsText(Y),G}function C(Y){for(var Q=new Uint8Array(Y),G=new Array(Q.length),h=0;h<Q.length;h++)G[h]=String.fromCharCode(Q[h]);return G.join("")}function q(Y){if(Y.slice)return Y.slice(0);var Q=new Uint8Array(Y.byteLength);return Q.set(new Uint8Array(Y)),Q.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(Y){this._bodyInit=Y,Y?typeof Y=="string"?this._bodyText=Y:r.blob&&Blob.prototype.isPrototypeOf(Y)?this._bodyBlob=Y:r.formData&&FormData.prototype.isPrototypeOf(Y)?this._bodyFormData=Y:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(Y)?this._bodyText=Y.toString():r.arrayBuffer&&r.blob&&n(Y)?(this._bodyArrayBuffer=q(Y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Y)||i(Y))?this._bodyArrayBuffer=q(Y):this._bodyText=Y=Object.prototype.toString.call(Y):this._bodyText="",this.headers.get("content-type")||(typeof Y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(Y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var Y=l(this);if(Y)return Y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var Y=l(this);if(Y)return Y;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var Z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function W(Y){var Q=Y.toUpperCase();return Z.indexOf(Q)>-1?Q:Y}function K(Y,Q){Q=Q||{};var G=Q.body;if(Y instanceof K){if(Y.bodyUsed)throw new TypeError("Already read");this.url=Y.url,this.credentials=Y.credentials,Q.headers||(this.headers=new c(Y.headers)),this.method=Y.method,this.mode=Y.mode,this.signal=Y.signal,!G&&Y._bodyInit!=null&&(G=Y._bodyInit,Y.bodyUsed=!0)}else this.url=String(Y);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new c(Q.headers)),this.method=W(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function B(Y){var Q=new FormData;return Y.trim().split("&").forEach(function(G){if(G){var h=G.split("="),m=h.shift().replace(/\+/g," "),u=h.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(m),decodeURIComponent(u))}}),Q}function z(Y){var Q=new c,G=Y.replace(/\r?\n[\t ]+/g," ");return G.split(/\r?\n/).forEach(function(h){var m=h.split(":"),u=m.shift().trim();if(u){var p=m.join(":").trim();Q.append(u,p)}}),Q}H.call(K.prototype);function P(Y,Q){Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Q?Q.statusText:"OK",this.headers=new c(Q.headers),this.url=Q.url||"",this._initBody(Y)}H.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},P.error=function(){var Y=new P(null,{status:0,statusText:""});return Y.type="error",Y};var g=[301,302,303,307,308];P.redirect=function(Y,Q){if(g.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new P(null,{status:Q,headers:{location:Y}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(Q,G){this.message=Q,this.name=G;var h=Error(Q);this.stack=h.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function $(Y,Q){return new Promise(function(G,h){var m=new K(Y,Q);if(m.signal&&m.signal.aborted)return h(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function p(){u.abort()}u.onload=function(){var A={status:u.status,statusText:u.statusText,headers:z(u.getAllResponseHeaders()||"")};A.url="responseURL"in u?u.responseURL:A.headers.get("X-Request-URL");var x="response"in u?u.response:u.responseText;G(new P(x,A))},u.onerror=function(){h(new TypeError("Network request failed"))},u.ontimeout=function(){h(new TypeError("Network request failed"))},u.onabort=function(){h(new t.DOMException("Aborted","AbortError"))},u.open(m.method,m.url,!0),m.credentials==="include"?u.withCredentials=!0:m.credentials==="omit"&&(u.withCredentials=!1),"responseType"in u&&r.blob&&(u.responseType="blob"),m.headers.forEach(function(A,x){u.setRequestHeader(x,A)}),m.signal&&(m.signal.addEventListener("abort",p),u.onreadystatechange=function(){u.readyState===4&&m.signal.removeEventListener("abort",p)}),u.send(typeof m._bodyInit>"u"?null:m._bodyInit)})}return $.polyfill=!0,e.fetch||(e.fetch=$,e.Headers=c,e.Request=K,e.Response=P),t.Headers=c,t.Request=K,t.Response=P,t.fetch=$,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:Be)})();var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.isBalanceEqual=Di.convertHttpResponse=void 0;function dS(e){if(e.error){const t=e.error.detail??`status code: ${e.status}`;throw new Error(`[API Error] - ${t}`)}else return e.data}Di.convertHttpResponse=dS;function hS(e,t){const r=(s,i)=>{const a=(s==null?void 0:s.length)??0,o=(i==null?void 0:i.length)??0;if(a!==o)return!1;if(a===0)return!0;const f=i.map(c=>({...c,used:!1}));return s.every(c=>{const l=f.find(v=>!v.used&&c.id===v.id&&c.amount===v.amount);return l===void 0?!1:(l.used=!0,!0)})},n=e.balance===t.balance&&e.lockedBalance===t.lockedBalance;return e.utxoNum===t.utxoNum&&n&&r(e.tokenBalances,t.tokenBalances)&&r(e.lockedTokenBalances,t.lockedTokenBalances)}Di.isBalanceEqual=hS;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Api=e.HttpClient=e.ContentType=void 0;const t=Di;var r;(function(i){i.Json="application/json",i.FormData="multipart/form-data",i.UrlEncoded="application/x-www-form-urlencoded",i.Text="text/plain"})(r=e.ContentType||(e.ContentType={}));class n{constructor(a={}){this.baseUrl="../",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...o)=>fetch(...o),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=o=>{this.securityData=o},this.contentFormatters={[r.Json]:o=>o!==null&&(typeof o=="object"||typeof o=="string")?JSON.stringify(o):o,[r.Text]:o=>o!==null&&typeof o!="string"?JSON.stringify(o):o,[r.FormData]:o=>Object.keys(o||{}).reduce((f,c)=>{const l=o[c];return f.append(c,l instanceof Blob?l:typeof l=="object"&&l!==null?JSON.stringify(l):`${l}`),f},new FormData),[r.UrlEncoded]:o=>this.toQueryString(o)},this.createAbortSignal=o=>{if(this.abortControllers.has(o)){const c=this.abortControllers.get(o);return c?c.signal:void 0}const f=new AbortController;return this.abortControllers.set(o,f),f.signal},this.abortRequest=o=>{const f=this.abortControllers.get(o);f&&(f.abort(),this.abortControllers.delete(o))},this.request=async({body:o,secure:f,path:c,type:l,query:v,format:S,baseUrl:D,cancelToken:C,...q})=>{const H=(typeof f=="boolean"?f:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},Z=this.mergeRequestParams(q,H),W=v&&this.toQueryString(v),K=this.contentFormatters[l||r.Json],B=S||Z.format;return this.customFetch(`${D||this.baseUrl||""}${c}${W?`?${W}`:""}`,{...Z,headers:{...Z.headers||{},...l&&l!==r.FormData?{"Content-Type":l}:{}},signal:C?this.createAbortSignal(C):Z.signal,body:typeof o>"u"||o===null?null:K(o)}).then(async z=>{const P=z;P.data=null,P.error=null;const g=B?await z[B]().then($=>(P.ok?P.data=$:P.error=$,P)).catch($=>(P.error=$,P)):P;return C&&this.abortControllers.delete(C),g})},Object.assign(this,a)}encodeQueryParam(a,o){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof o=="number"?o:`${o}`)}`}addQueryParam(a,o){return this.encodeQueryParam(o,a[o])}addArrayQueryParam(a,o){return a[o].map(c=>this.encodeQueryParam(o,c)).join("&")}toQueryString(a){const o=a||{};return Object.keys(o).filter(c=>typeof o[c]<"u").map(c=>Array.isArray(o[c])?this.addArrayQueryParam(o,c):this.addQueryParam(o,c)).join("&")}addQueryParams(a){const o=this.toQueryString(a);return o?`?${o}`:""}mergeRequestParams(a,o){return{...this.baseApiParams,...a,...o||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...o&&o.headers||{}}}}}e.HttpClient=n;class s extends n{constructor(){super(...arguments),this.wallets={getWallets:(a={})=>this.request({path:"/wallets",method:"GET",format:"json",...a}).then(t.convertHttpResponse),putWallets:(a,o={})=>this.request({path:"/wallets",method:"PUT",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postWallets:(a,o={})=>this.request({path:"/wallets",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),getWalletsWalletName:(a,o={})=>this.request({path:`/wallets/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),deleteWalletsWalletName:(a,o,f={})=>this.request({path:`/wallets/${a}`,method:"DELETE",body:o,type:r.Json,...f}).then(t.convertHttpResponse),postWalletsWalletNameLock:(a,o={})=>this.request({path:`/wallets/${a}/lock`,method:"POST",...o}).then(t.convertHttpResponse),postWalletsWalletNameUnlock:(a,o,f={})=>this.request({path:`/wallets/${a}/unlock`,method:"POST",body:o,type:r.Json,...f}).then(t.convertHttpResponse),getWalletsWalletNameBalances:(a,o={})=>this.request({path:`/wallets/${a}/balances`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),postWalletsWalletNameRevealMnemonic:(a,o,f={})=>this.request({path:`/wallets/${a}/reveal-mnemonic`,method:"POST",body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),postWalletsWalletNameTransfer:(a,o,f={})=>this.request({path:`/wallets/${a}/transfer`,method:"POST",body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),postWalletsWalletNameSweepActiveAddress:(a,o,f={})=>this.request({path:`/wallets/${a}/sweep-active-address`,method:"POST",body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),postWalletsWalletNameSweepAllAddresses:(a,o,f={})=>this.request({path:`/wallets/${a}/sweep-all-addresses`,method:"POST",body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),postWalletsWalletNameSign:(a,o,f={})=>this.request({path:`/wallets/${a}/sign`,method:"POST",body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),getWalletsWalletNameAddresses:(a,o={})=>this.request({path:`/wallets/${a}/addresses`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getWalletsWalletNameAddressesAddress:(a,o,f={})=>this.request({path:`/wallets/${a}/addresses/${o}`,method:"GET",format:"json",...f}).then(t.convertHttpResponse),getWalletsWalletNameMinerAddresses:(a,o={})=>this.request({path:`/wallets/${a}/miner-addresses`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),postWalletsWalletNameDeriveNextAddress:(a,o,f={})=>this.request({path:`/wallets/${a}/derive-next-address`,method:"POST",query:o,format:"json",...f}).then(t.convertHttpResponse),postWalletsWalletNameDeriveNextMinerAddresses:(a,o={})=>this.request({path:`/wallets/${a}/derive-next-miner-addresses`,method:"POST",format:"json",...o}).then(t.convertHttpResponse),postWalletsWalletNameChangeActiveAddress:(a,o,f={})=>this.request({path:`/wallets/${a}/change-active-address`,method:"POST",body:o,type:r.Json,...f}).then(t.convertHttpResponse)},this.infos={getInfosNode:(a={})=>this.request({path:"/infos/node",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosVersion:(a={})=>this.request({path:"/infos/version",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosChainParams:(a={})=>this.request({path:"/infos/chain-params",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosSelfClique:(a={})=>this.request({path:"/infos/self-clique",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosInterCliquePeerInfo:(a={})=>this.request({path:"/infos/inter-clique-peer-info",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosDiscoveredNeighbors:(a={})=>this.request({path:"/infos/discovered-neighbors",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosMisbehaviors:(a={})=>this.request({path:"/infos/misbehaviors",method:"GET",format:"json",...a}).then(t.convertHttpResponse),postInfosMisbehaviors:(a,o={})=>this.request({path:"/infos/misbehaviors",method:"POST",body:a,type:r.Json,...o}).then(t.convertHttpResponse),getInfosUnreachable:(a={})=>this.request({path:"/infos/unreachable",method:"GET",format:"json",...a}).then(t.convertHttpResponse),postInfosDiscovery:(a,o={})=>this.request({path:"/infos/discovery",method:"POST",body:a,type:r.Json,...o}).then(t.convertHttpResponse),getInfosHistoryHashrate:(a,o={})=>this.request({path:"/infos/history-hashrate",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getInfosCurrentHashrate:(a,o={})=>this.request({path:"/infos/current-hashrate",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getInfosCurrentDifficulty:(a={})=>this.request({path:"/infos/current-difficulty",method:"GET",format:"json",...a}).then(t.convertHttpResponse)},this.blockflow={getBlockflowBlocks:(a,o={})=>this.request({path:"/blockflow/blocks",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlockflowBlocksWithEvents:(a,o={})=>this.request({path:"/blockflow/blocks-with-events",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlockflowBlocksBlockHash:(a,o={})=>this.request({path:`/blockflow/blocks/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getBlockflowBlocksWithEventsBlockHash:(a,o={})=>this.request({path:`/blockflow/blocks-with-events/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getBlockflowIsBlockInMainChain:(a,o={})=>this.request({path:"/blockflow/is-block-in-main-chain",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlockflowHashes:(a,o={})=>this.request({path:"/blockflow/hashes",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlockflowChainInfo:(a,o={})=>this.request({path:"/blockflow/chain-info",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlockflowHeadersBlockHash:(a,o={})=>this.request({path:`/blockflow/headers/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse)},this.addresses={getAddressesAddressBalance:(a,o,f={})=>this.request({path:`/addresses/${a}/balance`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressUtxos:(a,o={})=>this.request({path:`/addresses/${a}/utxos`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressGroup:(a,o={})=>this.request({path:`/addresses/${a}/group`,method:"GET",format:"json",...o}).then(t.convertHttpResponse)},this.transactions={postTransactionsBuild:(a,o={})=>this.request({path:"/transactions/build",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTransactionsBuildMultiAddresses:(a,o={})=>this.request({path:"/transactions/build-multi-addresses",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTransactionsSweepAddressBuild:(a,o={})=>this.request({path:"/transactions/sweep-address/build",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTransactionsSubmit:(a,o={})=>this.request({path:"/transactions/submit",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTransactionsDecodeUnsignedTx:(a,o={})=>this.request({path:"/transactions/decode-unsigned-tx",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),getTransactionsDetailsTxid:(a,o,f={})=>this.request({path:`/transactions/details/${a}`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getTransactionsStatus:(a,o={})=>this.request({path:"/transactions/status",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse)},this.mempool={getMempoolTransactions:(a={})=>this.request({path:"/mempool/transactions",method:"GET",format:"json",...a}).then(t.convertHttpResponse),deleteMempoolTransactions:(a={})=>this.request({path:"/mempool/transactions",method:"DELETE",...a}).then(t.convertHttpResponse),putMempoolTransactionsRebroadcast:(a,o={})=>this.request({path:"/mempool/transactions/rebroadcast",method:"PUT",query:a,...o}).then(t.convertHttpResponse),putMempoolTransactionsValidate:(a={})=>this.request({path:"/mempool/transactions/validate",method:"PUT",...a}).then(t.convertHttpResponse)},this.contracts={postContractsCompileScript:(a,o={})=>this.request({path:"/contracts/compile-script",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsUnsignedTxExecuteScript:(a,o={})=>this.request({path:"/contracts/unsigned-tx/execute-script",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsCompileContract:(a,o={})=>this.request({path:"/contracts/compile-contract",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsCompileProject:(a,o={})=>this.request({path:"/contracts/compile-project",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsUnsignedTxDeployContract:(a,o={})=>this.request({path:"/contracts/unsigned-tx/deploy-contract",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),getContractsAddressState:(a,o,f={})=>this.request({path:`/contracts/${a}/state`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),postContractsTestContract:(a,o={})=>this.request({path:"/contracts/test-contract",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsCallContract:(a,o={})=>this.request({path:"/contracts/call-contract",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postContractsMulticallContract:(a,o={})=>this.request({path:"/contracts/multicall-contract",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse)},this.multisig={postMultisigAddress:(a,o={})=>this.request({path:"/multisig/address",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postMultisigBuild:(a,o={})=>this.request({path:"/multisig/build",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postMultisigSweep:(a,o={})=>this.request({path:"/multisig/sweep",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postMultisigSubmit:(a,o={})=>this.request({path:"/multisig/submit",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse)},this.utils={postUtilsVerifySignature:(a,o={})=>this.request({path:"/utils/verify-signature",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),putUtilsCheckHashIndexing:(a={})=>this.request({path:"/utils/check-hash-indexing",method:"PUT",...a}).then(t.convertHttpResponse)},this.miners={postMinersCpuMining:(a,o={})=>this.request({path:"/miners/cpu-mining",method:"POST",query:a,format:"json",...o}).then(t.convertHttpResponse),postMinersCpuMiningMineOneBlock:(a,o={})=>this.request({path:"/miners/cpu-mining/mine-one-block",method:"POST",query:a,format:"json",...o}).then(t.convertHttpResponse),getMinersAddresses:(a={})=>this.request({path:"/miners/addresses",method:"GET",format:"json",...a}).then(t.convertHttpResponse),putMinersAddresses:(a,o={})=>this.request({path:"/miners/addresses",method:"PUT",body:a,type:r.Json,...o}).then(t.convertHttpResponse)},this.events={getEventsContractContractaddress:(a,o,f={})=>this.request({path:`/events/contract/${a}`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getEventsContractContractaddressCurrentCount:(a,o={})=>this.request({path:`/events/contract/${a}/current-count`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getEventsTxIdTxid:(a,o,f={})=>this.request({path:`/events/tx-id/${a}`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getEventsBlockHashBlockhash:(a,o,f={})=>this.request({path:`/events/block-hash/${a}`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse)}}}e.Api=s})(dd);var Fu={},wt={},Bp;function Ay(){if(Bp)return wt;Bp=1;var e;Object.defineProperty(wt,"__esModule",{value:!0}),wt.buildDebugBytecode=wt.encodeContractField=wt.buildContractByteCode=wt.buildScriptByteCode=wt.encodeScriptField=wt.encodeScriptFieldAsString=wt.encodeAddress=wt.encodeByteVec=wt.encodeU256=wt.encodeI256=wt.encodeBool=void 0;const t=fo,r=bo(),n=Nr(),s=BigInt(0);class i{}i.oneByteBound=BigInt(64),i.twoByteBound=i.oneByteBound<<BigInt(8),i.fourByteBound=i.oneByteBound<<BigInt(8*3),i.u256UpperBound=BigInt(1)<<BigInt(256);class a{}e=a,a.oneByteBound=BigInt(32),a.twoByteBound=a.oneByteBound<<BigInt(8),a.fourByteBound=a.oneByteBound<<BigInt(8*3),a.i256UpperBound=BigInt(1)<<BigInt(255),a.i256LowerBound=-e.i256UpperBound;class o{}o.oneBytePrefix=0,o.oneByteNegPrefix=192,o.twoBytePrefix=64,o.twoByteNegPrefix=128,o.fourBytePrefix=128,o.fourByteNegPrefix=64,o.multiBytePrefix=192;function f(x){return x?Uint8Array.from([1]):Uint8Array.from([0])}wt.encodeBool=f;function c(x){return x>=s?v(x):S(x)}wt.encodeI256=c;function l(x,O,N){let w=x.toString(16);w.length%2===1?w="0"+w:O&&w[0]>="8"&&(w="00"+w);const I=w.length/2,T=new Uint8Array(I+1);for(let ce=0;ce<I;ce++){const fe=ce*2,be=parseInt(w.slice(fe,fe+2),16);T[`${ce+1}`]=N?~be:be}const k=I-4+o.multiBytePrefix;return T[0]=k,T}function v(x){if(x<a.oneByteBound)return new Uint8Array([Number(x)+o.oneBytePrefix]);if(x<a.twoByteBound){const O=Number(x);return new Uint8Array([(O>>8)+o.twoBytePrefix,O&255])}else if(x<a.fourByteBound){const O=Number(x);return new Uint8Array([(O>>24)+o.fourBytePrefix,O>>16&255,O>>8&255,O&255])}else{if(x<a.i256UpperBound)return l(x,!0,!1);throw Error(`Too large number for i256: ${x}`)}}function S(x){if(x>=-a.oneByteBound){const O=Number(x);return new Uint8Array([(O^o.oneByteNegPrefix)&255])}else if(x>=-a.twoByteBound){const O=Number(x);return new Uint8Array([(O>>8^o.twoByteNegPrefix)&255,O&255])}else if(x>=-a.fourByteBound){const O=Number(x);return new Uint8Array([(O>>24^o.fourByteNegPrefix)&255,O>>16&255,O>>8&255,O&255])}else{if(x>=a.i256LowerBound)return l(~x,!0,!0);throw Error(`Too small number for i256: ${x}`)}}function D(x){if(x<s)throw Error(`Negative number for U256: ${x}`);if(x<i.oneByteBound)return new Uint8Array([Number(x)+o.oneBytePrefix]);if(x<i.twoByteBound){const O=Number(x);return new Uint8Array([(O>>8&255)+o.twoBytePrefix,O&255])}else if(x<i.fourByteBound){const O=Number(x);return new Uint8Array([(O>>24&255)+o.fourBytePrefix,O>>16&255,O>>8&255,O&255])}else{if(x<i.u256UpperBound)return l(x,!1,!1);throw Error(`Too large number for U256: ${x}`)}}wt.encodeU256=D;function C(x){if(!(0,n.isHexString)(x))throw Error(`Given value ${x} is not a valid hex string`);const O=t.Buffer.from(x,"hex"),N=t.Buffer.from(c(BigInt(O.length)));return t.Buffer.concat([N,O])}wt.encodeByteVec=C;function q(x){return n.bs58.decode(x)}wt.encodeAddress=q;function H(x,O){return Error(`Invalid script field ${O} for type ${x}`)}var Z;(function(x){x[x.trueConst=3]="trueConst",x[x.falseConst=4]="falseConst",x[x.i256Const0=5]="i256Const0",x[x.i256Const1=6]="i256Const1",x[x.i256Const2=7]="i256Const2",x[x.i256Const3=8]="i256Const3",x[x.i256Const4=9]="i256Const4",x[x.i256Const5=10]="i256Const5",x[x.i256ConstN1=11]="i256ConstN1",x[x.u256Const0=12]="u256Const0",x[x.u256Const1=13]="u256Const1",x[x.u256Const2=14]="u256Const2",x[x.u256Const3=15]="u256Const3",x[x.u256Const4=16]="u256Const4",x[x.u256Const5=17]="u256Const5",x[x.i256Const=18]="i256Const",x[x.u256Const=19]="u256Const",x[x.bytesConst=20]="bytesConst",x[x.addressConst=21]="addressConst"})(Z||(Z={}));function W(x){return new Uint8Array([Z.i256Const,...c(x)])}function K(x){return new Uint8Array([Z.u256Const,...D(x)])}function B(x,O){return t.Buffer.from(z(x,O)).toString("hex")}wt.encodeScriptFieldAsString=B;function z(x,O){switch(x){case"Bool":const N=(0,r.toApiBoolean)(O)?Z.trueConst:Z.falseConst;return new Uint8Array([N]);case"I256":const w=(0,r.toApiNumber256)(O);return W(BigInt(w));case"U256":const I=(0,r.toApiNumber256)(O);return K(BigInt(I));case"ByteVec":const T=(0,r.toApiByteVec)(O);return new Uint8Array([Z.bytesConst,...C(T)]);case"Address":const k=(0,r.toApiAddress)(O);return new Uint8Array([Z.addressConst,...q(k)])}throw H(x,O)}wt.encodeScriptField=z;const P=/\{([0-9]*)\}/g;function g(x,O,N){return x.replace(P,(w,I)=>{const T=N.names[`${I}`],k=N.types[`${I}`];if(T in O){const ce=O[`${T}`];return $(T,()=>B(k,ce))}else throw new Error(`The value of field ${T} is not provided`)})}wt.buildScriptByteCode=g;function $(x,O){try{return O()}catch(N){throw N instanceof Error?new Error(`Invalid ${x}, error: ${N.message}`):N}}function Y(x,O,N){const I=O.isMutable.map((k,ce)=>ce).filter(k=>O.isMutable[`${k}`]===N).flatMap(k=>{const ce=O.names[`${k}`],fe=O.types[`${k}`];if(ce in x){const be=x[`${ce}`];return $(ce,()=>p(fe,be))}else throw new Error(`The value of field ${ce} is not provided`)});return t.Buffer.from(c(BigInt(I.length))).toString("hex")+I.map(k=>t.Buffer.from(k).toString("hex")).join("")}function Q(x,O,N){const w=Y(O,N,!1),I=Y(O,N,!0);return x+w+I}wt.buildContractByteCode=Q;var G;(function(x){x[x.Bool=0]="Bool",x[x.I256=1]="I256",x[x.U256=2]="U256",x[x.ByteVec=3]="ByteVec",x[x.Address=4]="Address"})(G||(G={}));function h(x){return new Uint8Array([G.I256,...c(x)])}function m(x){return new Uint8Array([G.U256,...D(x)])}function u(x,O){if(!Array.isArray(O))throw new Error(`Expected array, got ${O}`);const N=x.lastIndexOf(";");if(N==-1)throw new Error(`Invalid Array type: ${x}`);const w=x.slice(1,N),I=parseInt(x.slice(N+1,-1));if(O.length!=I)throw new Error(`Invalid val dimension: ${O}`);return O.flatMap(T=>p(w,T))}function p(x,O){switch(x){case"Bool":const N=(0,r.toApiBoolean)(O)?1:0;return[new Uint8Array([G.Bool,N])];case"I256":const w=(0,r.toApiNumber256)(O);return[h(BigInt(w))];case"U256":const I=(0,r.toApiNumber256)(O);return[m(BigInt(I))];case"ByteVec":const T=(0,r.toApiByteVec)(O);return[new Uint8Array([G.ByteVec,...C(T)])];case"Address":const k=(0,r.toApiAddress)(O);return[new Uint8Array([G.Address,...q(k)])];default:return u(x,O)}}wt.encodeContractField=p;function A(x,O){if(O==="")return x;const N=/[=+-][0-9a-f]*/g;let w="",I=0;for(const T of O.matchAll(N)){const k=T[0],ce=k[0];if(ce==="="){const fe=parseInt(k.substring(1));w=w+x.slice(I,I+fe),I=I+fe}else if(ce==="+")w=w+k.substring(1);else{const fe=parseInt(k.substring(1));I=I+fe}}return w}return wt.buildDebugBytecode=A,wt}var ku={},Zr={},$p;function Iy(){if($p)return Zr;$p=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getCurrentExplorerProvider=Zr.setCurrentExplorerProvider=Zr.getCurrentNodeProvider=Zr.setCurrentNodeProvider=void 0;const e=bo();let t;function r(o,f,c){typeof o=="string"?t=new e.NodeProvider(o,f,c):t=o}Zr.setCurrentNodeProvider=r;function n(){if(typeof t>"u")throw Error("No node provider is set.");return t}Zr.getCurrentNodeProvider=n;let s;function i(o,f,c){typeof o=="string"?s=new e.ExplorerProvider(o,f,c):s=o}Zr.setCurrentExplorerProvider=i;function a(){return s}return Zr.getCurrentExplorerProvider=a,Zr}var Gi={},Up;function Ty(){if(Up)return Gi;Up=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.subscribeToEvents=Gi.EventSubscription=void 0;const e=ai(),t=Nr();class r extends t.Subscription{constructor(i,a,o){super(i),this.contractAddress=a,this.fromCount=typeof o>"u"?0:o,this.onEventCountChanged=i.onEventCountChanged,this.startPolling()}startPolling(){this.eventEmitter.on("tick",async()=>{await this.polling()}),this.eventEmitter.emit("tick")}currentEventCount(){return this.fromCount}async polling(){try{const i=await e.web3.getCurrentNodeProvider().events.getEventsContractContractaddress(this.contractAddress,{start:this.fromCount});if(this.cancelled)return;if(this.fromCount===i.nextStart){this.task=setTimeout(()=>this.eventEmitter.emit("tick"),this.pollingInterval);return}const a=i.events.map(o=>this.messageCallback(o));await Promise.all(a),this.fromCount=i.nextStart,this.onEventCountChanged!==void 0&&await this.onEventCountChanged(this.fromCount),await this.polling()}catch(i){await this.errorCallback(i,this)}}}Gi.EventSubscription=r;function n(s,i,a){return new r(s,i,a)}return Gi.subscribeToEvents=n,Gi}var Lp;function pS(){return Lp||(Lp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(M,d,b,U){U===void 0&&(U=b);var X=Object.getOwnPropertyDescriptor(d,b);(!X||("get"in X?!d.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return d[b]}}),Object.defineProperty(M,U,X)}:function(M,d,b,U){U===void 0&&(U=b),M[U]=d[b]}),r=Be&&Be.__setModuleDefault||(Object.create?function(M,d){Object.defineProperty(M,"default",{enumerable:!0,value:d})}:function(M,d){M.default=d}),n=Be&&Be.__importStar||function(M){if(M&&M.__esModule)return M;var d={};if(M!=null)for(var b in M)b!=="default"&&Object.prototype.hasOwnProperty.call(M,b)&&t(d,M,b);return r(d,M),d},s=Be&&Be.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.tryGetCallResult=e.getTokenIdFromUnsignedTx=e.getContractIdFromUnsignedTx=e.getContractEventsCurrentCount=e.multicallMethods=e.callMethod=e.subscribeContractEvents=e.subscribeContractEvent=e.decodeEvent=e.subscribeContractDestroyedEvent=e.subscribeContractCreatedEvent=e.fetchContractState=e.ContractInstance=e.testMethod=e.addStdIdToFields=e.subscribeEventsFromContract=e.decodeContractDestroyedEvent=e.decodeContractCreatedEvent=e.DestroyContractEventAddress=e.CreateContractEventAddress=e.ExecutableScript=e.ContractFactory=e.randomTxId=e.toApiVals=e.Script=e.Contract=e.Artifact=e.Project=e.ProjectArtifact=e.DEFAULT_COMPILER_OPTIONS=e.DEFAULT_NODE_COMPILER_OPTIONS=e.StdIdFieldName=void 0;const i=fo,a=s(an),o=an,f=bo(),c=n(Ay()),l=Nr(),v=Iy(),S=n(an),D=Ty(),C=Pa,q=n(ud),H=new l.WebCrypto;e.StdIdFieldName="__stdInterfaceId";var Z;(function(M){M[M.Contract=0]="Contract",M[M.Script=1]="Script",M[M.AbstractContract=2]="AbstractContract",M[M.Interface=3]="Interface"})(Z||(Z={})),e.DEFAULT_NODE_COMPILER_OPTIONS={ignoreUnusedConstantsWarnings:!1,ignoreUnusedVariablesWarnings:!1,ignoreUnusedFieldsWarnings:!1,ignoreUnusedPrivateFunctionsWarnings:!1,ignoreUpdateFieldsCheckWarnings:!1,ignoreCheckExternalCallerWarnings:!1},e.DEFAULT_COMPILER_OPTIONS={errorOnWarnings:!0,...e.DEFAULT_NODE_COMPILER_OPTIONS};class W{constructor(d,b){this.matcher=new RegExp(d,"mg"),this.type=b}}function K(M){let d=0;for(let b=0;b<M.length&&M[`${b}`]==="..";b++)d+=1;return S.join(...M.slice(d))}class B{getArtifactPath(d){let b;if(this.isExternal){const U=K(this.contractRelativePath.split(S.sep)),X=S.join(".external",U);b=S.join(d,X)}else b=S.join(d,this.contractRelativePath);return S.join(S.dirname(b),`${this.name}.ral.json`)}constructor(d,b,U,X,se,oe){this.type=d,this.name=b,this.sourceCode=U,this.sourceCodeHash=X,this.contractRelativePath=se,this.isExternal=oe}static async from(d,b,U,X,se){const oe=await H.subtle.digest("SHA-256",i.Buffer.from(U)),_e=i.Buffer.from(oe).toString("hex");return new B(d,b,U,_e,X,se)}}class z{constructor(d,b,U){this.sourceInfo=d,this.artifact=b,this.warnings=U}}class P{static checkCompilerOptionsParameter(d){if(Object.keys(d).length!=Object.keys(e.DEFAULT_NODE_COMPILER_OPTIONS).length)throw Error(`Not all compiler options are set: ${d}`);const b={...d,...e.DEFAULT_NODE_COMPILER_OPTIONS};if(Object.keys(b).length!==Object.keys(e.DEFAULT_NODE_COMPILER_OPTIONS).length)throw Error(`There are unknown compiler options: ${d}`)}constructor(d,b,U){P.checkCompilerOptionsParameter(b),this.fullNodeVersion=d,this.compilerOptionsUsed=b,this.infos=U}static isCodeChanged(d,b){if(d.infos.size!==b.infos.size)return!0;for(const[U,X]of d.infos){const se=b.infos.get(U);if((se==null?void 0:se.codeHashDebug)!==X.codeHashDebug)return!0}return!1}async saveToFile(d){const b=S.join(d,P.artifactFileName),U={fullNodeVersion:this.fullNodeVersion,compilerOptionsUsed:this.compilerOptionsUsed,infos:Object.fromEntries(new Map([...this.infos].sort()))},X=JSON.stringify(U,null,2);return o.promises.writeFile(b,X)}needToReCompile(d,b,U){if(P.checkCompilerOptionsParameter(d),this.fullNodeVersion!==U||!Object.entries(d).every(([se,oe])=>this.compilerOptionsUsed[`${se}`]===oe)||b.length!==this.infos.size)return!0;for(const se of b){const oe=this.infos.get(se.name);if(typeof oe>"u"||oe.sourceCodeHash!==se.sourceCodeHash)return!0}return!1}static async from(d){const b=S.join(d,P.artifactFileName);if(a.default.existsSync(b))try{const U=await o.promises.readFile(b),X=JSON.parse(U.toString()),se=X.fullNodeVersion,oe=X.compilerOptionsUsed,_e=new Map(Object.entries(X.infos));return new P(se,oe,_e)}catch(U){console.log(`Failed to load project artifact, error: ${U}`);return}}}e.ProjectArtifact=P,P.artifactFileName=".project.json";class g{static buildProjectArtifact(d,b,U,X,se){const oe=new Map;U.forEach(xe=>{oe.set(xe.artifact.name,{sourceFile:xe.sourceInfo.contractRelativePath,sourceCodeHash:xe.sourceInfo.sourceCodeHash,bytecodeDebugPatch:xe.artifact.bytecodeDebugPatch,codeHashDebug:xe.artifact.codeHashDebug,warnings:xe.warnings})}),X.forEach(xe=>{oe.set(xe.artifact.name,{sourceFile:xe.sourceInfo.contractRelativePath,sourceCodeHash:xe.sourceInfo.sourceCodeHash,bytecodeDebugPatch:xe.artifact.bytecodeDebugPatch,codeHashDebug:"",warnings:xe.warnings})});const _e=U.size+X.size;return b.slice(_e).forEach(xe=>{oe.set(xe.name,{sourceFile:xe.contractRelativePath,sourceCodeHash:xe.sourceCodeHash,bytecodeDebugPatch:"",codeHashDebug:"",warnings:[]})}),new P(d,se,oe)}constructor(d,b,U,X,se,oe,_e){this.contractsRootDir=d,this.artifactsRootDir=b,this.sourceInfos=U,this.contracts=X,this.scripts=se,this.projectArtifact=_e,oe&&g.checkCompilerWarnings([...[...X.entries()].map(xe=>xe[1].warnings).flat(),...[...se.entries()].map(xe=>xe[1].warnings).flat()],oe)}static checkCompilerWarnings(d,b){if(d.length!==0){const U="  - ",se=`Compilation warnings:
`+(U+d.join(`
`+U))+`
`;if(b)throw new Error(se);console.log(se)}}static contract(d){const b=g.currentProject.contracts.get(d);if(typeof b>"u")throw new Error(`Contract "${d}" does not exist`);return b.artifact}static script(d){const b=g.currentProject.scripts.get(d);if(typeof b>"u")throw new Error(`Script "${d}" does not exist`);return b.artifact}async saveArtifactsToFile(d){const b=this.artifactsRootDir,U=async function(X){const se=X.sourceInfo.getArtifactPath(b),oe=S.dirname(se);return a.default.existsSync(oe)||a.default.mkdirSync(oe,{recursive:!0}),o.promises.writeFile(se,X.artifact.toString())};this.contracts.forEach(X=>U(X)),this.scripts.forEach(X=>U(X)),await this.projectArtifact.saveToFile(d)}contractByCodeHash(d){const b=[...this.contracts.values()].find(U=>U.artifact.codeHash===d||U.artifact.codeHashDebug==d);if(typeof b>"u")throw new Error(`Unknown code with code hash: ${d}`);return b.artifact}static async compile(d,b,U,X,se,oe,_e,xe){const Me=U.reduce((qe,Ge)=>(qe.find(ae=>ae.sourceCodeHash===Ge.sourceCodeHash)===void 0&&qe.push(Ge),qe),[]).map(qe=>qe.sourceCode).join(`
`),De=await b.contracts.postContractsCompileProject({code:Me,compilerOptions:xe}),Le=new Map,Ze=new Map;De.contracts.forEach(qe=>{const Ge=U.find(ne=>ne.type===Z.Contract&&ne.name===qe.name);if(Ge===void 0)throw new Error(`SourceInfo does not exist for contract ${qe.name}`);const ae=Y.fromCompileResult(qe);Le.set(ae.name,new z(Ge,ae,qe.warnings))}),De.scripts.forEach(qe=>{const Ge=U.find(ne=>ne.type===Z.Script&&ne.name===qe.name);if(Ge===void 0)throw new Error(`SourceInfo does not exist for script ${qe.name}`);const ae=Q.fromCompileResult(qe);Ze.set(ae.name,new z(Ge,ae,qe.warnings))});const it=g.buildProjectArtifact(d,U,Le,Ze,xe),je=new g(se,oe,U,Le,Ze,_e,it);return await je.saveArtifactsToFile(X),je}static async loadArtifacts(d,b,U,X,se,oe,_e,xe){try{const Ae=new Map,Me=new Map;for(const De of b){const Le=U.infos.get(De.name);if(typeof Le>"u")throw Error(`Unable to find project info for ${De.name}, please rebuild the project`);const Ze=Le.warnings,it=De.getArtifactPath(oe);if(De.type===Z.Contract){const je=await Y.fromArtifactFile(it,Le.bytecodeDebugPatch,Le.codeHashDebug);Ae.set(je.name,new z(De,je,Ze))}else if(De.type===Z.Script){const je=await Q.fromArtifactFile(it,Le.bytecodeDebugPatch);Me.set(je.name,new z(De,je,Ze))}}return new g(se,oe,b,Ae,Me,_e,U)}catch(Ae){return console.log(`Failed to load artifacts, error: ${Ae}, try to re-compile contracts...`),g.compile(U.fullNodeVersion,d,b,X,se,oe,_e,xe)}}static getImportSourcePath(d,b){const U=b.split("/");if(U.length>1&&U[0]==="std"){const se=S.dirname(__filename);return S.join(se,"..","..","..",b)}let X=d;for(;;){const se=S.join(X,"node_modules",b);if(a.default.existsSync(se))return se;const oe=X;if(X=S.join(X,".."),oe===X)throw new Error(`Specified import file does not exist: ${b}`)}}static async handleImports(d,b,U,X){const se=[],oe=U.replace(g.importRegex,xe=>(se.push(xe),"")),_e=[];for(const xe of se){const Ae=xe.slice(8,-1),Me=Ae.endsWith(".ral")?Ae:Ae+".ral";if(!X.includes(Me)){X.push(Me);const De=g.getImportSourcePath(d,Me),Le=await g.loadSourceFile(d,b,De,X,!0);_e.push(...Le)}}return[oe,_e]}static async loadSourceFile(d,b,U,X,se){const oe=S.relative(b,U);if(!U.endsWith(".ral"))throw new Error(`Invalid filename: ${U}, smart contract file name should end with ".ral"`);const _e=await o.promises.readFile(U),[xe,Ae]=await g.handleImports(d,b,_e.toString(),X);if(xe.match(new RegExp('^import "',"mg"))!==null)throw new Error(`Invalid import statements, source: ${U}`);const Me=Ae;for(const De of this.matchers){const Le=xe.matchAll(De.matcher);for(const Ze of Le){const it=await B.from(De.type,Ze[1],xe,oe,se);Me.push(it)}}return Me}static async loadSourceFiles(d,b){const U=[],X=[],se=async function(_e){const xe=await o.promises.readdir(_e,{withFileTypes:!0});for(const Ae of xe)if(Ae.isFile()){const Me=S.join(_e,Ae.name),De=await g.loadSourceFile(d,b,Me,U,!1);X.push(...De)}else{const Me=S.join(_e,Ae.name);await se(Me)}};await se(b);const oe=X.filter(_e=>_e.type===Z.Contract||_e.type===Z.Script).length;if(X.length===0||oe===0)throw new Error("Project have no source files");return X.sort((_e,xe)=>_e.type-xe.type)}static async build(d={},b=".",U=g.DEFAULT_CONTRACTS_DIR,X=g.DEFAULT_ARTIFACTS_DIR,se=void 0){const oe=(0,v.getCurrentNodeProvider)(),_e=se??(await oe.infos.getInfosVersion()).version,xe=await g.loadSourceFiles(b,U),{errorOnWarnings:Ae,...Me}={...e.DEFAULT_COMPILER_OPTIONS,...d},De=await P.from(b);De===void 0||De.needToReCompile(Me,xe,_e)?(console.log(`Compiling contracts in folder "${U}"`),g.currentProject=await g.compile(_e,oe,xe,b,U,X,Ae,Me)):(console.log(`Contracts are compiled already. Loading them from folder "${X}"`),g.currentProject=await g.loadArtifacts(oe,xe,De,b,U,X,Ae,Me))}}e.Project=g,g.importRegex=new RegExp('^import "[^"./]+/[^"]*[a-z][a-z_0-9]*(.ral)?"',"mg"),g.abstractContractMatcher=new W("^Abstract Contract ([A-Z][a-zA-Z0-9]*)",Z.AbstractContract),g.contractMatcher=new W("^Contract ([A-Z][a-zA-Z0-9]*)",Z.Contract),g.interfaceMatcher=new W("^Interface ([A-Z][a-zA-Z0-9]*)",Z.Interface),g.scriptMatcher=new W("^TxScript ([A-Z][a-zA-Z0-9]*)",Z.Script),g.matchers=[g.abstractContractMatcher,g.contractMatcher,g.interfaceMatcher,g.scriptMatcher],g.DEFAULT_CONTRACTS_DIR="contracts",g.DEFAULT_ARTIFACTS_DIR="artifacts";class ${constructor(d,b,U){this.version=d,this.name=b,this.functions=U}publicFunctions(){return this.functions.filter(d=>d.isPublic).map(d=>d.name)}usingPreapprovedAssetsFunctions(){return this.functions.filter(d=>d.usePreapprovedAssets).map(d=>d.name)}usingAssetsInContractFunctions(){return this.functions.filter(d=>d.useAssetsInContract).map(d=>d.name)}async isDevnet(d){if(!d.nodeProvider)return!1;const b=await d.nodeProvider.infos.getInfosChainParams();return(0,l.isDevnet)(b.networkId)}}e.Artifact=$;class Y extends ${constructor(d,b,U,X,se,oe,_e,xe,Ae,Me,De,Le){super(d,b,Ae),this.bytecode=U,this.bytecodeDebugPatch=X,this.codeHash=se,this.fieldsSig=_e,this.eventsSig=xe,this.constants=Me,this.enums=De,this.stdInterfaceId=Le,this.bytecodeDebug=c.buildDebugBytecode(this.bytecode,this.bytecodeDebugPatch),this.codeHashDebug=oe}static fromJson(d,b="",U=""){if(d.version==null||d.name==null||d.bytecode==null||d.codeHash==null||d.fieldsSig==null||d.eventsSig==null||d.constants==null||d.enums==null||d.functions==null)throw Error("The artifact JSON for contract is incomplete");return new Y(d.version,d.name,d.bytecode,b,d.codeHash,U||d.codeHash,d.fieldsSig,d.eventsSig,d.functions,d.constants,d.enums,d.stdInterfaceId===null?void 0:d.stdInterfaceId)}static fromCompileResult(d){return new Y(d.version,d.name,d.bytecode,d.bytecodeDebugPatch,d.codeHash,d.codeHashDebug,d.fields,d.events,d.functions,d.constants,d.enums,d.stdInterfaceId)}static async fromArtifactFile(d,b,U){const X=await o.promises.readFile(d),se=JSON.parse(X.toString());return Y.fromJson(se,b,U)}toString(){const d={version:this.version,name:this.name,bytecode:this.bytecode,codeHash:this.codeHash,fieldsSig:this.fieldsSig,eventsSig:this.eventsSig,functions:this.functions,constants:this.constants,enums:this.enums};return this.stdInterfaceId!==void 0&&(d.stdInterfaceId=this.stdInterfaceId),JSON.stringify(d,null,2)}getInitialFieldsWithDefaultValues(){const d=this.stdInterfaceId===void 0?this.fieldsSig:{names:this.fieldsSig.names.slice(0,-1),types:this.fieldsSig.types.slice(0,-1),isMutable:this.fieldsSig.isMutable.slice(0,-1)};return d.names.reduce((b,U,X)=>(b[`${U}`]=(0,f.getDefaultValue)(d.types[`${X}`]),b),{})}toState(d,b,U){const X=typeof U<"u"?U:Y.randomAddress();return{address:X,contractId:(0,l.binToHex)((0,l.contractIdFromAddress)(X)),bytecode:this.bytecode,codeHash:this.codeHash,fields:d,fieldsSig:this.fieldsSig,asset:b}}static randomAddress(){const d=new Uint8Array(33);return H.getRandomValues(d),d[0]=3,l.bs58.encode(d)}printDebugMessages(d,b){b.length!=0&&(console.log(`Testing ${this.name}.${d}:`),b.forEach(U=>console.log(`> Contract @ ${U.contractAddress} - ${U.message}`)))}toApiFields(d){return typeof d>"u"?[]:O(d,this.fieldsSig)}toApiArgs(d,b){if(b){const U=this.functions.find(X=>X.name==d);if(U==null)throw new Error(`Invalid function name: ${d}`);return N(b,U)}else return[]}getMethodIndex(d){return this.functions.findIndex(b=>b.name===d)}toApiContractStates(d){return typeof d<"u"?d.map(b=>x(b)):void 0}toApiTestContractParams(d,b){const U=b.initialFields===void 0?[]:A(b.initialFields,this.fieldsSig,!1),X=b.initialFields===void 0?[]:A(b.initialFields,this.fieldsSig,!0);return{group:b.group,blockHash:b.blockHash,blockTimeStamp:b.blockTimeStamp,txId:b.txId,address:b.address,callerAddress:b.callerAddress,bytecode:this.bytecodeDebug,initialImmFields:U,initialMutFields:X,initialAsset:typeof b.initialAsset<"u"?m(b.initialAsset):void 0,methodIndex:this.getMethodIndex(d),args:this.toApiArgs(d,b.testArgs),existingContracts:this.toApiContractStates(b.existingContracts),inputAssets:T(b.inputAssets)}}fromApiContractState(d){return{address:d.address,contractId:(0,l.binToHex)((0,l.contractIdFromAddress)(d.address)),bytecode:d.bytecode,initialStateHash:d.initialStateHash,codeHash:d.codeHash,fields:G(d.immFields,d.mutFields,this.fieldsSig),fieldsSig:this.fieldsSig,asset:u(d.asset)}}static fromApiContractState(d,b){return(b?b(d.codeHash):g.currentProject.contractByCodeHash(d.codeHash)).fromApiContractState(d)}static fromApiEvent(d,b,U,X){let se,oe;if(d.eventIndex==Y.ContractCreatedEventIndex)se=le(h(d.fields,Y.ContractCreatedEvent,!0)),oe=Y.ContractCreatedEvent.name;else if(d.eventIndex==Y.ContractDestroyedEventIndex)se=h(d.fields,Y.ContractDestroyedEvent,!0),oe=Y.ContractDestroyedEvent.name;else{const xe=(X?X(b):g.currentProject.contractByCodeHash(b)).eventsSig[d.eventIndex];se=h(d.fields,xe),oe=xe.name}return{txId:U,blockHash:d.blockHash,contractAddress:d.contractAddress,name:oe,eventIndex:d.eventIndex,fields:se}}fromApiTestContractResult(d,b,U){const X=this.functions.findIndex(Ae=>Ae.name===d),se=this.functions[`${X}`].returnTypes,oe=(0,f.fromApiArray)(b.returns,se),_e=oe.length===0?null:oe.length===1?oe[0]:oe,xe=new Map;return xe.set(b.address,b.codeHash),b.contracts.forEach(Ae=>xe.set(Ae.address,Ae.codeHash)),{contractId:(0,l.binToHex)((0,l.contractIdFromAddress)(b.address)),contractAddress:b.address,returns:_e,gasUsed:b.gasUsed,contracts:b.contracts.map(Ae=>Y.fromApiContractState(Ae)),txOutputs:b.txOutputs.map(k),events:Y.fromApiEvents(b.events,xe,U),debugMessages:b.debugMessages}}async txParamsForDeployment(d,b){const U=await this.isDevnet(d),X=b.initialFields??{},se=this.buildByteCodeToDeploy(j(this,X),U),oe=await d.getSelectedAccount();return{signerAddress:oe.address,signerKeyType:oe.keyType,bytecode:se,initialAttoAlphAmount:b==null?void 0:b.initialAttoAlphAmount,issueTokenAmount:b==null?void 0:b.issueTokenAmount,initialTokenAmounts:b==null?void 0:b.initialTokenAmounts,gasAmount:b==null?void 0:b.gasAmount,gasPrice:b==null?void 0:b.gasPrice}}buildByteCodeToDeploy(d,b){try{return c.buildContractByteCode(b?this.bytecodeDebug:this.bytecode,d,this.fieldsSig)}catch(U){throw new Error(`Failed to build bytecode for contract ${this.name}, error: ${U}`)}}static fromApiEvents(d,b,U,X){return d.map(se=>{const oe=se.contractAddress,_e=b.get(oe);if(typeof _e<"u"||se.eventIndex<0)return Y.fromApiEvent(se,_e,U,X);throw Error(`Cannot find codeHash for the contract address: ${oe}`)})}toApiCallContract(d,b,U,X){const se=this.functions[`${X}`],oe=w(d.args??{},se.paramNames,se.paramTypes);return{...d,group:b,address:U,methodIndex:X,args:oe}}fromApiCallContractResult(d,b,U,X){const se=this.functions[`${U}`].returnTypes,oe=Se(d),_e=(0,f.fromApiArray)(oe.returns,se),xe=_e.length===0?null:_e.length===1?_e[0]:_e,Ae=new Map;return oe.contracts.forEach(Me=>Ae.set(Me.address,Me.codeHash)),{returns:xe,gasUsed:oe.gasUsed,contracts:oe.contracts.map(Me=>Y.fromApiContractState(Me,X)),txInputs:oe.txInputs,txOutputs:oe.txOutputs.map(Me=>k(Me)),events:Y.fromApiEvents(oe.events,Ae,b,X),debugMessages:oe.debugMessages}}}e.Contract=Y,Y.ContractCreatedEventIndex=-1,Y.ContractCreatedEvent={name:"ContractCreated",fieldNames:["address","parentAddress","stdInterfaceId"],fieldTypes:["Address","Address","ByteVec"]},Y.ContractDestroyedEventIndex=-2,Y.ContractDestroyedEvent={name:"ContractDestroyed",fieldNames:["address"],fieldTypes:["Address"]};class Q extends ${constructor(d,b,U,X,se,oe){super(d,b,oe),this.bytecodeTemplate=U,this.bytecodeDebugPatch=X,this.fieldsSig=se}static fromCompileResult(d){return new Q(d.version,d.name,d.bytecodeTemplate,d.bytecodeDebugPatch,d.fields,d.functions)}static fromJson(d,b=""){if(d.version==null||d.name==null||d.bytecodeTemplate==null||d.fieldsSig==null||d.functions==null)throw Error("The artifact JSON for script is incomplete");return new Q(d.version,d.name,d.bytecodeTemplate,b,d.fieldsSig,d.functions)}static async fromArtifactFile(d,b){const U=await o.promises.readFile(d),X=JSON.parse(U.toString());return this.fromJson(X,b)}toString(){const d={version:this.version,name:this.name,bytecodeTemplate:this.bytecodeTemplate,fieldsSig:this.fieldsSig,functions:this.functions};return JSON.stringify(d,null,2)}async txParamsForExecution(d,b){const U=await d.getSelectedAccount();return{signerAddress:U.address,signerKeyType:U.keyType,bytecode:this.buildByteCodeToDeploy(b.initialFields??{}),attoAlphAmount:b.attoAlphAmount,tokens:b.tokens,gasAmount:b.gasAmount,gasPrice:b.gasPrice}}buildByteCodeToDeploy(d){try{return c.buildScriptByteCode(this.bytecodeTemplate,d,this.fieldsSig)}catch(b){throw new Error(`Failed to build bytecode for script ${this.name}, error: ${b}`)}}}e.Script=Q;function G(M,d,b){const U=[];let X=0,se=0;return b.types.flatMap((_e,xe)=>Array((0,f.typeLength)(_e)).fill(b.isMutable[`${xe}`])).forEach(_e=>{_e?(U.push(d[`${se}`]),se+=1):(U.push(M[`${X}`]),X+=1)}),(0,f.fromApiVals)(U,b.names,b.types)}function h(M,d,b=!1){return(0,f.fromApiVals)(M,d.fieldNames,d.fieldTypes,b)}function m(M){return{attoAlphAmount:(0,f.toApiNumber256)(M.alphAmount),tokens:typeof M.tokens<"u"?M.tokens.map(f.toApiToken):[]}}function u(M){return{alphAmount:(0,f.fromApiNumber256)(M.attoAlphAmount),tokens:(0,f.fromApiTokens)(M.tokens)}}function p(M,d){if(d in M)return M[`${d}`];throw Error(`No Val exists for ${d}`)}function A(M,d,b){const U=d.names.map((oe,_e)=>_e).filter(oe=>d.isMutable[`${oe}`]===b),X=U.map(oe=>d.names[`${oe}`]),se=U.map(oe=>d.types[`${oe}`]);return w(M,X,se)}function x(M){const d=M.fields??{};return{address:M.address,bytecode:M.bytecode,codeHash:M.codeHash,initialStateHash:M.initialStateHash,immFields:A(d,M.fieldsSig,!1),mutFields:A(d,M.fieldsSig,!0),asset:m(M.asset)}}function O(M,d){return w(M,d.names,d.types)}function N(M,d){return w(M,d.paramNames,d.paramTypes)}function w(M,d,b){return d.map((U,X)=>{const se=p(M,U),oe=b[`${X}`];return(0,f.toApiVal)(se,oe)})}e.toApiVals=w;function I(M){return{address:M.address,asset:m(M.asset)}}function T(M){return typeof M<"u"?M.map(I):void 0}function k(M){if(M.type==="AssetOutput"){const d=M;return{type:"AssetOutput",address:d.address,alphAmount:(0,f.fromApiNumber256)(d.attoAlphAmount),tokens:(0,f.fromApiTokens)(d.tokens),lockTime:d.lockTime,message:d.message}}else if(M.type==="ContractOutput"){const d=M;return{type:"ContractOutput",address:d.address,alphAmount:(0,f.fromApiNumber256)(d.attoAlphAmount),tokens:(0,f.fromApiTokens)(d.tokens)}}else throw new Error(`Unknown output type: ${M}`)}function ce(){const M=new Uint8Array(32);return H.getRandomValues(M),(0,l.binToHex)(M)}e.randomTxId=ce,l.assertType;class fe{constructor(d){this.contract=d}async deploy(d,b){const U=await this.contract.txParamsForDeployment(d,{...b,initialFields:j(this.contract,b.initialFields)}),X=await d.signAndSubmitDeployContractTx(U);return{...X,contractInstance:this.at(X.contractAddress)}}stateForTest(d,b,U){const X={alphAmount:(b==null?void 0:b.alphAmount)??C.ONE_ALPH,tokens:b==null?void 0:b.tokens};return this.contract.toState(j(this.contract,d),X,U)}}e.ContractFactory=fe;class be{constructor(d){this.script=d}async execute(d,b){const U=await this.script.txParamsForExecution(d,b);return await d.signAndSubmitExecuteScriptTx(U)}}e.ExecutableScript=be;function he(M){const d=new Uint8Array(32).fill(0);return d[31]=M,(0,l.addressFromContractId)((0,l.binToHex)(d))}e.CreateContractEventAddress=he(-1),e.DestroyContractEventAddress=he(-2);function pe(M,d,b){if(M.eventIndex!==b)throw new Error(`Invalid event index: ${M.eventIndex}, expected: ${b}`);return h(M.fields,d,!0)}function le(M){const d=M.parentAddress,b=M.stdInterfaceId;return{address:M.address,parentAddress:d===""?void 0:d,stdInterfaceIdGuessed:b===""?void 0:b}}function y(M){const d=pe(M,Y.ContractCreatedEvent,Y.ContractCreatedEventIndex);return{blockHash:M.blockHash,txId:M.txId,eventIndex:M.eventIndex,name:Y.ContractCreatedEvent.name,fields:le(d)}}e.decodeContractCreatedEvent=y;function F(M){const d=pe(M,Y.ContractDestroyedEvent,Y.ContractDestroyedEventIndex);return{blockHash:M.blockHash,txId:M.txId,eventIndex:M.eventIndex,name:Y.ContractDestroyedEvent.name,fields:{address:d.address}}}e.decodeContractDestroyedEvent=F;function re(M,d,b,U,X){const se=xe=>xe.eventIndex!==b?Promise.resolve():M.messageCallback(U(xe)),oe=(xe,Ae)=>M.errorCallback(xe,Ae),_e={pollingInterval:M.pollingInterval,messageCallback:se,errorCallback:oe,onEventCountChanged:M.onEventCountChanged};return(0,D.subscribeToEvents)(_e,d,X)}e.subscribeEventsFromContract=re;function j(M,d){return M.stdInterfaceId===void 0?d:{...d,__stdInterfaceId:"414c5048"+M.stdInterfaceId}}e.addStdIdToFields=j;async function J(M,d,b){const U=(b==null?void 0:b.txId)??ce(),X=b.initialFields===void 0?{}:b.initialFields,se=M.contract.toApiTestContractParams(d,{...b,txId:U,initialFields:j(M.contract,X),testArgs:b.testArgs===void 0?{}:b.testArgs}),oe=await(0,v.getCurrentNodeProvider)().contracts.postContractsTestContract(se),_e=M.contract.fromApiTestContractResult(d,oe,U);return M.contract.printDebugMessages(d,_e.debugMessages),_e}e.testMethod=J;class te{constructor(d){this.address=d,this.contractId=(0,l.binToHex)((0,l.contractIdFromAddress)(d)),this.groupIndex=(0,l.groupOfAddress)(d)}}e.ContractInstance=te;async function R(M,d){const b=await(0,v.getCurrentNodeProvider)().contracts.getContractsAddressState(d.address,{group:d.groupIndex}),U=M.contract.fromApiContractState(b);return{...U,fields:U.fields}}e.fetchContractState=R;function _(M,d){return re(M,e.CreateContractEventAddress,Y.ContractCreatedEventIndex,b=>({...y(b),contractAddress:e.CreateContractEventAddress}),d)}e.subscribeContractCreatedEvent=_;function E(M,d){return re(M,e.DestroyContractEventAddress,Y.ContractDestroyedEventIndex,b=>({...F(b),contractAddress:e.DestroyContractEventAddress}),d)}e.subscribeContractDestroyedEvent=E;function L(M,d,b,U){if(b.eventIndex!==U&&!(U>=0&&U<M.eventsSig.length))throw new Error("Invalid event index: "+b.eventIndex+", expected: "+U);const X=M.eventsSig[`${U}`],se=X.fieldNames,oe=X.fieldTypes,_e=(0,f.fromApiVals)(b.fields,se,oe);return{contractAddress:d.address,blockHash:b.blockHash,txId:b.txId,eventIndex:b.eventIndex,name:X.name,fields:_e}}e.decodeEvent=L;function V(M,d,b,U,X){const se=M.eventsSig.findIndex(oe=>oe.name===U);return re(b,d.address,se,oe=>L(M,d,oe,se),X)}e.subscribeContractEvent=V;function ee(M,d,b,U){const X=_e=>b.messageCallback({...L(M,d,_e,_e.eventIndex),contractAddress:d.address}),se=(_e,xe)=>b.errorCallback(_e,xe),oe={pollingInterval:b.pollingInterval,messageCallback:X,errorCallback:se,onEventCountChanged:b.onEventCountChanged};return(0,D.subscribeToEvents)(oe,d.address,U)}e.subscribeContractEvents=ee;async function ie(M,d,b,U,X){const se=M.contract.getMethodIndex(b),oe=(U==null?void 0:U.txId)??ce(),_e=M.contract.toApiCallContract({...U,txId:oe,args:U.args===void 0?{}:U.args},d.groupIndex,d.address,se),xe=await(0,v.getCurrentNodeProvider)().contracts.postContractsCallContract(_e),Ae=M.contract.fromApiCallContractResult(xe,oe,se,X);return M.contract.printDebugMessages(b,Ae.debugMessages),Ae}e.callMethod=ie;async function me(M,d,b,U){const X=Object.entries(b),se=X.map(xe=>{const[Ae,Me]=xe,De=M.contract.getMethodIndex(Ae),Le=(Me==null?void 0:Me.txId)??ce();return M.contract.toApiCallContract({...Me,txId:Le,args:Me.args===void 0?{}:Me.args},d.groupIndex,d.address,De)}),oe=await(0,v.getCurrentNodeProvider)().contracts.postContractsMulticallContract({calls:se}),_e={};return se.forEach((xe,Ae)=>{const Me=xe.methodIndex,De=oe.results[`${Me}`],Le=X[`${Ae}`][0];_e[`${Le}`]=M.contract.fromApiCallContractResult(De,xe.txId,Me,U)}),_e}e.multicallMethods=me;async function ye(M){return(0,v.getCurrentNodeProvider)().events.getEventsContractContractaddressCurrentCount(M).catch(d=>{if(d instanceof Error&&d.message.includes(`${M} not found`))return 0;throw d})}e.getContractEventsCurrentCount=ye;const ve=async(M,d)=>{const b=await M.transactions.postTransactionsDecodeUnsignedTx({unsignedTx:d}),U=b.unsignedTx.fixedOutputs.length,X=b.unsignedTx.txId+U.toString(16).padStart(8,"0");return(0,l.binToHex)(q.blake2b((0,l.hexToBinUnsafe)(X),void 0,32)).slice(0,62)+b.fromGroup.toString(16).padStart(2,"0")};e.getContractIdFromUnsignedTx=ve,e.getTokenIdFromUnsignedTx=e.getContractIdFromUnsignedTx;function Se(M){if(M.type==="CallContractFailed")throw new Error(`Failed to call contract, error: ${M.error}`);return M}e.tryGetCallResult=Se}(ku)),ku}var Fp;function My(){return Fp||(Fp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var o=Object.getOwnPropertyDescriptor(s,i);(!o||("get"in o?!s.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,o)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=Be&&Be.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ay(),e),r(pS(),e),r(Ty(),e)}(Fu)),Fu}var kp;function gS(){if(kp)return Po;kp=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.NodeProvider=void 0;const e=ld(),t=dd,r=My(),n=Nr();function s(a,o,f){const c=new t.Api({baseUrl:a,baseApiParams:{secure:!0},securityWorker:l=>l!==null?{headers:{"X-API-KEY":`${l}`}}:{},customFetch:f??((...l)=>fetch(...l))});return c.setSecurityData(o??null),c}class i{constructor(o,f,c){this.request=v=>(0,e.request)(this,v),this.fetchFungibleTokenMetaData=async v=>{const S=(0,n.addressFromTokenId)(v),D=(0,n.groupOfAddress)(S),C=Array.from([0,1,2,3],Z=>({methodIndex:Z,group:D,address:S})),H=(await this.contracts.postContractsMulticallContract({calls:C})).results.map(Z=>(0,r.tryGetCallResult)(Z));return{symbol:H[0].returns[0].value,name:H[1].returns[0].value,decimals:Number(H[2].returns[0].value),totalSupply:BigInt(H[3].returns[0].value)}},this.fetchNFTMetaData=async v=>{const S=(0,n.addressFromTokenId)(v),D=(0,n.groupOfAddress)(S),C=Array.from([0,1],W=>({methodIndex:W,group:D,address:S})),q=await this.contracts.postContractsMulticallContract({calls:C}),H=(0,n.hexToString)((0,r.tryGetCallResult)(q.results[0]).returns[0].value);if(q.results[1].type==="CallContractSucceeded"){const W=q.results[1];if(W.returns[0]===void 0)throw new Error("Deprecated NFT contract");const B=W.returns[0].value;if(B===void 0||!(0,n.isHexString)(B)||B.length!==64)throw new Error("Deprecated NFT contract");const z=W.returns[1];if(z===void 0)throw new Error("Deprecated NFT contract");const P=(0,n.toNonNegativeBigInt)(z.value);if(P===void 0)throw new Error("Deprecated NFT contract");if(W.returns[2]!==void 0)throw new Error("Deprecated NFT contract");return{tokenUri:H,collectionId:B,nftIndex:P}}else{const W=q.results[1];throw W.error.startsWith("VM execution error: InvalidMethodIndex")?new Error("Deprecated NFT contract"):new Error(`Failed to call contract, error: ${W.error}`)}},this.fetchNFTCollectionMetaData=async v=>{const S=(0,n.addressFromContractId)(v),D=(0,n.groupOfAddress)(S),C=Array.from([0,1],Z=>({methodIndex:Z,group:D,address:S})),H=(await this.contracts.postContractsMulticallContract({calls:C})).results.map(Z=>(0,r.tryGetCallResult)(Z));return{collectionUri:(0,n.hexToString)(H[0].returns[0].value),totalSupply:BigInt(H[1].returns[0].value)}},this.guessStdInterfaceId=async v=>{var Z;const S=(0,n.addressFromTokenId)(v),D=(0,n.groupOfAddress)(S),q=(Z=(await this.contracts.getContractsAddressState((0,n.addressFromTokenId)(v),{group:D})).immFields.slice(-1).pop())==null?void 0:Z.value;if(typeof q=="string"&&q.startsWith("414c5048"))return q.slice(8)},this.guessFollowsNFTCollectionStd=async v=>{const S=await this.guessStdInterfaceId(v);return!!S&&S.startsWith(e.StdInterfaceIds.NFTCollection)},this.guessStdTokenType=async v=>{switch(await this.guessStdInterfaceId(v)){case e.StdInterfaceIds.FungibleToken:return"fungible";case e.StdInterfaceIds.NFT:return"non-fungible";default:return}};let l;typeof o=="string"?l=s(o,f,c):typeof o=="function"?(l=new i("https://1.2.3.4:0"),(0,e.forwardRequests)(l,o)):l=o,this.wallets={...l.wallets},this.infos={...l.infos},this.blockflow={...l.blockflow},this.addresses={...l.addresses},this.transactions={...l.transactions},this.mempool={...l.mempool},this.contracts={...l.contracts},this.multisig={...l.multisig},this.utils={...l.utils},this.miners={...l.miners},this.events={...l.events},(0,e.requestWithLog)(this)}static Proxy(o){return new i(o)}static Remote(o){return new i(o)}}return Po.NodeProvider=i,Po}var $o={},hd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Api=e.HttpClient=e.ContentType=e.MaxSizeAddresses=e.MaxSizeTokens=e.TokenStdInterfaceId=e.IntervalType=void 0,function(i){i.Daily="daily",i.Hourly="hourly",i.Weekly="weekly"}(e.IntervalType||(e.IntervalType={})),function(i){i.Fungible="fungible",i.NonFungible="non-fungible",i.NonStandard="non-standard"}(e.TokenStdInterfaceId||(e.TokenStdInterfaceId={})),function(i){i[i.Value80=80]="Value80"}(e.MaxSizeTokens||(e.MaxSizeTokens={})),function(i){i[i.Value80=80]="Value80"}(e.MaxSizeAddresses||(e.MaxSizeAddresses={}));const t=Di;var r;(function(i){i.Json="application/json",i.FormData="multipart/form-data",i.UrlEncoded="application/x-www-form-urlencoded",i.Text="text/plain"})(r=e.ContentType||(e.ContentType={}));class n{constructor(a={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...o)=>fetch(...o),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=o=>{this.securityData=o},this.contentFormatters={[r.Json]:o=>o!==null&&(typeof o=="object"||typeof o=="string")?JSON.stringify(o):o,[r.Text]:o=>o!==null&&typeof o!="string"?JSON.stringify(o):o,[r.FormData]:o=>Object.keys(o||{}).reduce((f,c)=>{const l=o[c];return f.append(c,l instanceof Blob?l:typeof l=="object"&&l!==null?JSON.stringify(l):`${l}`),f},new FormData),[r.UrlEncoded]:o=>this.toQueryString(o)},this.createAbortSignal=o=>{if(this.abortControllers.has(o)){const c=this.abortControllers.get(o);return c?c.signal:void 0}const f=new AbortController;return this.abortControllers.set(o,f),f.signal},this.abortRequest=o=>{const f=this.abortControllers.get(o);f&&(f.abort(),this.abortControllers.delete(o))},this.request=async({body:o,secure:f,path:c,type:l,query:v,format:S,baseUrl:D,cancelToken:C,...q})=>{const H=(typeof f=="boolean"?f:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},Z=this.mergeRequestParams(q,H),W=v&&this.toQueryString(v),K=this.contentFormatters[l||r.Json],B=S||Z.format;return this.customFetch(`${D||this.baseUrl||""}${c}${W?`?${W}`:""}`,{...Z,headers:{...Z.headers||{},...l&&l!==r.FormData?{"Content-Type":l}:{}},signal:C?this.createAbortSignal(C):Z.signal,body:typeof o>"u"||o===null?null:K(o)}).then(async z=>{const P=z;P.data=null,P.error=null;const g=B?await z[B]().then($=>(P.ok?P.data=$:P.error=$,P)).catch($=>(P.error=$,P)):P;return C&&this.abortControllers.delete(C),g})},Object.assign(this,a)}encodeQueryParam(a,o){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof o=="number"?o:`${o}`)}`}addQueryParam(a,o){return this.encodeQueryParam(o,a[o])}addArrayQueryParam(a,o){return a[o].map(c=>this.encodeQueryParam(o,c)).join("&")}toQueryString(a){const o=a||{};return Object.keys(o).filter(c=>typeof o[c]<"u").map(c=>Array.isArray(o[c])?this.addArrayQueryParam(o,c):this.addQueryParam(o,c)).join("&")}addQueryParams(a){const o=this.toQueryString(a);return o?`?${o}`:""}mergeRequestParams(a,o){return{...this.baseApiParams,...a,...o||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...o&&o.headers||{}}}}}e.HttpClient=n;class s extends n{constructor(){super(...arguments),this.blocks={getBlocks:(a,o={})=>this.request({path:"/blocks",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getBlocksBlockHash:(a,o={})=>this.request({path:`/blocks/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getBlocksBlockHashTransactions:(a,o,f={})=>this.request({path:`/blocks/${a}/transactions`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse)},this.transactions={getTransactionsTransactionHash:(a,o={})=>this.request({path:`/transactions/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse)},this.addresses={getAddressesAddress:(a,o={})=>this.request({path:`/addresses/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressTransactions:(a,o,f={})=>this.request({path:`/addresses/${a}/transactions`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),postAddressesTransactions:(a,o,f={})=>this.request({path:"/addresses/transactions",method:"POST",query:a,body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressTimerangedTransactions:(a,o,f={})=>this.request({path:`/addresses/${a}/timeranged-transactions`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressTotalTransactions:(a,o={})=>this.request({path:`/addresses/${a}/total-transactions`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressMempoolTransactions:(a,o={})=>this.request({path:`/addresses/${a}/mempool/transactions`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressBalance:(a,o={})=>this.request({path:`/addresses/${a}/balance`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressTokens:(a,o,f={})=>this.request({path:`/addresses/${a}/tokens`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressTokensTokenIdTransactions:(a,o,f,c={})=>this.request({path:`/addresses/${a}/tokens/${o}/transactions`,method:"GET",query:f,format:"json",...c}).then(t.convertHttpResponse),getAddressesAddressTokensTokenIdBalance:(a,o,f={})=>this.request({path:`/addresses/${a}/tokens/${o}/balance`,method:"GET",format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressTokensBalance:(a,o,f={})=>this.request({path:`/addresses/${a}/tokens-balance`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),postAddressesUsed:(a,o={})=>this.request({path:"/addresses/used",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),getAddressesAddressExportTransactionsCsv:(a,o,f={})=>this.request({path:`/addresses/${a}/export-transactions/csv`,method:"GET",query:o,format:"text",...f}).then(t.convertHttpResponse),getAddressesAddressAmountHistoryDeprecated:(a,o,f={})=>this.request({path:`/addresses/${a}/amount-history-DEPRECATED`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getAddressesAddressAmountHistory:(a,o,f={})=>this.request({path:`/addresses/${a}/amount-history`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse)},this.infos={getInfos:(a={})=>this.request({path:"/infos",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosHeights:(a={})=>this.request({path:"/infos/heights",method:"GET",format:"json",...a}).then(t.convertHttpResponse),getInfosSupply:(a,o={})=>this.request({path:"/infos/supply",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getInfosSupplyTotalAlph:(a={})=>this.request({path:"/infos/supply/total-alph",method:"GET",format:"text",...a}).then(t.convertHttpResponse),getInfosSupplyCirculatingAlph:(a={})=>this.request({path:"/infos/supply/circulating-alph",method:"GET",format:"text",...a}).then(t.convertHttpResponse),getInfosSupplyReservedAlph:(a={})=>this.request({path:"/infos/supply/reserved-alph",method:"GET",format:"text",...a}).then(t.convertHttpResponse),getInfosSupplyLockedAlph:(a={})=>this.request({path:"/infos/supply/locked-alph",method:"GET",format:"text",...a}).then(t.convertHttpResponse),getInfosTotalTransactions:(a={})=>this.request({path:"/infos/total-transactions",method:"GET",format:"text",...a}).then(t.convertHttpResponse),getInfosAverageBlockTimes:(a={})=>this.request({path:"/infos/average-block-times",method:"GET",format:"json",...a}).then(t.convertHttpResponse)},this.mempool={getMempoolTransactions:(a,o={})=>this.request({path:"/mempool/transactions",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse)},this.tokens={getTokens:(a,o={})=>this.request({path:"/tokens",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),postTokens:(a,o={})=>this.request({path:"/tokens",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),getTokensTokenIdTransactions:(a,o,f={})=>this.request({path:`/tokens/${a}/transactions`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),postTokensFungibleMetadata:(a,o={})=>this.request({path:"/tokens/fungible-metadata",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTokensNftMetadata:(a,o={})=>this.request({path:"/tokens/nft-metadata",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse),postTokensNftCollectionMetadata:(a,o={})=>this.request({path:"/tokens/nft-collection-metadata",method:"POST",body:a,type:r.Json,format:"json",...o}).then(t.convertHttpResponse)},this.charts={getChartsHashrates:(a,o={})=>this.request({path:"/charts/hashrates",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getChartsTransactionsCount:(a,o={})=>this.request({path:"/charts/transactions-count",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse),getChartsTransactionsCountPerChain:(a,o={})=>this.request({path:"/charts/transactions-count-per-chain",method:"GET",query:a,format:"json",...o}).then(t.convertHttpResponse)},this.contractEvents={getContractEventsTransactionIdTransactionId:(a,o={})=>this.request({path:`/contract-events/transaction-id/${a}`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getContractEventsContractAddressContractAddress:(a,o,f={})=>this.request({path:`/contract-events/contract-address/${a}`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse),getContractEventsContractAddressContractAddressInputAddressInputAddress:(a,o,f,c={})=>this.request({path:`/contract-events/contract-address/${a}/input-address/${o}`,method:"GET",query:f,format:"json",...c}).then(t.convertHttpResponse)},this.contracts={getContractsContractAddressParent:(a,o={})=>this.request({path:`/contracts/${a}/parent`,method:"GET",format:"json",...o}).then(t.convertHttpResponse),getContractsContractAddressSubContracts:(a,o,f={})=>this.request({path:`/contracts/${a}/sub-contracts`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse)},this.market={postMarketPrices:(a,o,f={})=>this.request({path:"/market/prices",method:"POST",query:a,body:o,type:r.Json,format:"json",...f}).then(t.convertHttpResponse),getMarketPricesSymbolCharts:(a,o,f={})=>this.request({path:`/market/prices/${a}/charts`,method:"GET",query:o,format:"json",...f}).then(t.convertHttpResponse)},this.utils={putUtilsSanityCheck:(a={})=>this.request({path:"/utils/sanity-check",method:"PUT",...a}).then(t.convertHttpResponse),putUtilsUpdateGlobalLoglevel:(a,o={})=>this.request({path:"/utils/update-global-loglevel",method:"PUT",body:a,...o}).then(t.convertHttpResponse),putUtilsUpdateLogConfig:(a,o={})=>this.request({path:"/utils/update-log-config",method:"PUT",body:a,type:r.Json,...o}).then(t.convertHttpResponse)}}}e.Api=s})(hd);var jp;function mS(){if(jp)return $o;jp=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.ExplorerProvider=void 0;const e=ld(),t=hd;function r(s,i,a){const o=new t.Api({baseUrl:s,baseApiParams:{secure:!0},securityWorker:f=>f!==null?{headers:{"X-API-KEY":`${f}`}}:{},customFetch:a??((...f)=>fetch(...f))});return o.setSecurityData(i??null),o}class n{constructor(i,a,o){this.request=c=>(0,e.request)(this,c);let f;typeof i=="string"?f=r(i,a,o):typeof i=="function"?(f=new n("https://1.2.3.4:0"),(0,e.forwardRequests)(f,i)):f=i,this.blocks={...f.blocks},this.transactions={...f.transactions},this.addresses={...f.addresses},this.infos={...f.infos},this.mempool={...f.mempool},this.tokens={...f.tokens},this.charts={...f.charts},this.utils={...f.utils},this.contracts={...f.contracts},this.market={...f.market},this.contractEvents={...f.contractEvents}}static Proxy(i){return new n(i)}static Remote(i){return new n(i)}}return $o.ExplorerProvider=n,$o}var qp;function bo(){return qp||(qp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(i,a,o,f){f===void 0&&(f=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,f,c)}:function(i,a,o,f){f===void 0&&(f=o),i[f]=a[o]}),r=Be&&Be.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),n=Be&&Be.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)},s=Be&&Be.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&t(a,i,o);return r(a,i),a};Object.defineProperty(e,"__esModule",{value:!0}),e.explorer=e.node=void 0,n(gS(),e),n(mS(),e),e.node=s(dd),e.explorer=s(hd),n(ld(),e),n(Di,e)}(Iu)),Iu}var ju={},_t={},Uo={},Hp;function Cy(){if(Hp)return Uo;Hp=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.TransactionBuilder=void 0;const e=ai(),t=bo(),r=Nr(),n=Oy();class s{static from(a,o,f){const c=typeof a=="string"?new t.NodeProvider(a,o,f):a;return new class extends s{get nodeProvider(){return c}}}static validatePublicKey(a,o,f){if((0,r.addressFromPublicKey)(o,f)!==a.signerAddress)throw new Error("Unmatched public key")}async buildTransferTx(a,o){s.validatePublicKey(a,o,a.signerKeyType);const{destinations:f,gasPrice:c,...l}=a,v={fromPublicKey:o,fromPublicKeyType:a.signerKeyType,destinations:(0,n.toApiDestinations)(f),gasPrice:(0,t.toApiNumber256Optional)(c),...l},S=await this.nodeProvider.transactions.postTransactionsBuild(v);return{...S,gasPrice:(0,t.fromApiNumber256)(S.gasPrice)}}async buildDeployContractTx(a,o){s.validatePublicKey(a,o,a.signerKeyType);const{initialAttoAlphAmount:f,initialTokenAmounts:c,issueTokenAmount:l,gasPrice:v,...S}=a,D={fromPublicKey:o,fromPublicKeyType:a.signerKeyType,initialAttoAlphAmount:(0,t.toApiNumber256Optional)(f),initialTokenAmounts:(0,t.toApiTokens)(c),issueTokenAmount:(0,t.toApiNumber256Optional)(l),gasPrice:(0,t.toApiNumber256Optional)(v),...S},C=await this.nodeProvider.contracts.postContractsUnsignedTxDeployContract(D),q=e.utils.binToHex(e.utils.contractIdFromAddress(C.contractAddress));return{...C,groupIndex:C.fromGroup,contractId:q,gasPrice:(0,t.fromApiNumber256)(C.gasPrice)}}async buildExecuteScriptTx(a,o){s.validatePublicKey(a,o,a.signerKeyType);const{attoAlphAmount:f,tokens:c,gasPrice:l,...v}=a,S={fromPublicKey:o,fromPublicKeyType:a.signerKeyType,attoAlphAmount:(0,t.toApiNumber256Optional)(f),tokens:(0,t.toApiTokens)(c),gasPrice:(0,t.toApiNumber256Optional)(l),...v},D=await this.nodeProvider.contracts.postContractsUnsignedTxExecuteScript(S);return{...D,groupIndex:D.fromGroup,gasPrice:(0,t.fromApiNumber256)(D.gasPrice)}}async buildUnsignedTx(a){const o={unsignedTx:a.unsignedTx},f=await this.nodeProvider.transactions.postTransactionsDecodeUnsignedTx(o);return{fromGroup:f.fromGroup,toGroup:f.toGroup,unsignedTx:a.unsignedTx,txId:f.unsignedTx.txId,gasAmount:f.unsignedTx.gasAmount,gasPrice:(0,t.fromApiNumber256)(f.unsignedTx.gasPrice)}}}return Uo.TransactionBuilder=s,Uo}var zp;function Oy(){if(zp)return _t;zp=1;var e=Be&&Be.__createBinding||(Object.create?function(P,g,$,Y){Y===void 0&&(Y=$);var Q=Object.getOwnPropertyDescriptor(g,$);(!Q||("get"in Q?!g.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return g[$]}}),Object.defineProperty(P,Y,Q)}:function(P,g,$,Y){Y===void 0&&(Y=$),P[Y]=g[$]}),t=Be&&Be.__setModuleDefault||(Object.create?function(P,g){Object.defineProperty(P,"default",{enumerable:!0,value:g})}:function(P,g){P.default=g}),r=Be&&Be.__importStar||function(P){if(P&&P.__esModule)return P;var g={};if(P!=null)for(var $ in P)$!=="default"&&Object.prototype.hasOwnProperty.call(P,$)&&e(g,P,$);return t(g,P),g},n=Be&&Be.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.fromApiDestination=_t.toApiDestinations=_t.toApiDestination=_t.verifySignedMessage=_t.hashMessage=_t.extendMessage=_t.SignerProviderWithCachedAccounts=_t.SignerProviderWithMultipleAccounts=_t.SignerProviderSimple=_t.InteractiveSignerProvider=_t.SignerProvider=void 0;const s=fo,i=an,a=bo(),o=r(Nr()),f=n(ud),c=Cy(),l=Nr();class v{async getSelectedAccount(){const g=await this.unsafeGetSelectedAccount();return v.validateAccount(g),g}static validateAccount(g){const $=(0,l.addressFromPublicKey)(g.publicKey,g.keyType),Y=(0,l.groupOfAddress)($);if($!==g.address||Y!==g.group)throw Error(`Invalid accounot data: ${JSON.stringify(g)}`)}}_t.SignerProvider=v;class S extends v{async enable(g){const $=await this.unsafeEnable(g);return v.validateAccount($),$}}_t.InteractiveSignerProvider=S;class D extends v{async submitTransaction(g){const $={unsignedTx:g.unsignedTx,signature:g.signature};return this.nodeProvider.transactions.postTransactionsSubmit($)}async signAndSubmitTransferTx(g){const $=await this.signTransferTx(g);return await this.submitTransaction($),$}async signAndSubmitDeployContractTx(g){const $=await this.signDeployContractTx(g);return await this.submitTransaction($),$}async signAndSubmitExecuteScriptTx(g){const $=await this.signExecuteScriptTx(g);return await this.submitTransaction($),$}async signAndSubmitUnsignedTx(g){const $=await this.signUnsignedTx(g);return await this.submitTransaction($),$}async usePublicKey(g){const{signerAddress:$,...Y}=g;return{fromPublicKey:await this.getPublicKey($),...Y}}async signTransferTx(g){const $=await this.buildTransferTx(g);return{signature:await this.signRaw(g.signerAddress,$.txId),...$}}async buildTransferTx(g){return c.TransactionBuilder.from(this.nodeProvider).buildTransferTx(g,await this.getPublicKey(g.signerAddress))}async signDeployContractTx(g){const $=await this.buildDeployContractTx(g);return{signature:await this.signRaw(g.signerAddress,$.txId),...$}}async buildDeployContractTx(g){return c.TransactionBuilder.from(this.nodeProvider).buildDeployContractTx(g,await this.getPublicKey(g.signerAddress))}async signExecuteScriptTx(g){const $=await this.buildExecuteScriptTx(g);return{signature:await this.signRaw(g.signerAddress,$.txId),...$}}async buildExecuteScriptTx(g){return c.TransactionBuilder.from(this.nodeProvider).buildExecuteScriptTx(g,await this.getPublicKey(g.signerAddress))}async signUnsignedTx(g){const $=await c.TransactionBuilder.from(this.nodeProvider).buildUnsignedTx(g);return{signature:await this.signRaw(g.signerAddress,$.txId),...$}}async signMessage(g){const $=Z(g.message,g.messageHasher);return{signature:await this.signRaw(g.signerAddress,$)}}}_t.SignerProviderSimple=D;class C extends D{async getAccount(g){const Y=(await this.getAccounts()).find(Q=>Q.address===g);if(typeof Y>"u")throw new Error("Unmatched signerAddress");return Y}async getPublicKey(g){return(await this.getAccount(g)).publicKey}}_t.SignerProviderWithMultipleAccounts=C;class q extends C{constructor(){super(...arguments),this._selectedAccount=void 0,this._accounts=new Map}unsafeGetSelectedAccount(){if(this._selectedAccount===void 0)throw Error("No account is selected yet");return Promise.resolve(this._selectedAccount)}setSelectedAccount(g){const $=this._accounts.get(g);if($===void 0)throw Error("The address is not in the accounts");return this._selectedAccount=$,Promise.resolve()}getAccounts(){return Promise.resolve(Array.from(this._accounts.values()))}async getAccount(g){const $=this._accounts.get(g);if($===void 0)throw Error("The address is not in the accounts");return Promise.resolve($)}}_t.SignerProviderWithCachedAccounts=q;function H(P){return"Alephium Signed Message: "+P}_t.extendMessage=H;function Z(P,g){switch(g){case"alephium":return o.binToHex(f.default.blake2b(H(P),void 0,32));case"sha256":const $=(0,i.createHash)("sha256");return $.update(s.Buffer.from(P)),o.binToHex($.digest());case"blake2b":return o.binToHex(f.default.blake2b(P,void 0,32));case"identity":return P;default:throw Error(`Invalid message hasher: ${g}`)}}_t.hashMessage=Z;function W(P,g,$,Y,Q){const G=Z(P,g);return o.verifySignature(G,$,Y,Q)}_t.verifySignedMessage=W;function K(P){return{...P,attoAlphAmount:(0,a.toApiNumber256)(P.attoAlphAmount),tokens:(0,a.toApiTokens)(P.tokens)}}_t.toApiDestination=K;function B(P){return P.map(K)}_t.toApiDestinations=B;function z(P){return{...P,attoAlphAmount:(0,a.fromApiNumber256)(P.attoAlphAmount),tokens:(0,a.fromApiTokens)(P.tokens)}}return _t.fromApiDestination=z,_t}var qu={},Vp;function bS(){if(Vp)return qu;Vp=1,Object.defineProperty(qu,"__esModule",{value:!0});const e=Nr();return e.assertType,(0,e.assertType)(),(0,e.assertType)(),(0,e.assertType)(),(0,e.assertType)(),(0,e.assertType)(),(0,e.assertType)(),(0,e.assertType)(),e.assertType,(0,e.assertType)(),qu}var Kp;function yS(){return Kp||(Kp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var o=Object.getOwnPropertyDescriptor(s,i);(!o||("get"in o?!s.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,o)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=Be&&Be.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Oy(),e),r(bS(),e),r(Cy(),e)}(ju)),ju}var Hu={},Wi={},Gp;function vS(){if(Gp)return Wi;Gp=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.subscribeToTxStatus=Wi.TxStatusSubscription=void 0;const e=ai(),t=Nr();class r extends t.Subscription{constructor(i,a,o,f,c){super(i),this.txId=a,this.fromGroup=o,this.toGroup=f,this.confirmations=c??1,this.startPolling()}async polling(){try{const i=await e.web3.getCurrentNodeProvider().transactions.getTransactionsStatus({txId:this.txId,fromGroup:this.fromGroup,toGroup:this.toGroup});await this.messageCallback(i),i.type==="Confirmed"&&i.chainConfirmations>=this.confirmations&&this.unsubscribe()}catch(i){await this.errorCallback(i,this)}}}Wi.TxStatusSubscription=r;function n(s,i,a,o,f){return new r(s,i,a,o,f)}return Wi.subscribeToTxStatus=n,Wi}var Yi={},Wp;function wS(){if(Wp)return Yi;Wp=1;var e=Be&&Be.__createBinding||(Object.create?function(a,o,f,c){c===void 0&&(c=f);var l=Object.getOwnPropertyDescriptor(o,f);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[f]}}),Object.defineProperty(a,c,l)}:function(a,o,f,c){c===void 0&&(c=f),a[c]=o[f]}),t=Be&&Be.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),r=Be&&Be.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var f in a)f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)&&e(o,a,f);return t(o,a),o};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.transactionVerifySignature=Yi.transactionSign=void 0;const n=r(Nr());function s(a,o,f){return n.sign(a,o,f)}Yi.transactionSign=s;function i(a,o,f,c){return n.verifySignature(a,o,f,c)}return Yi.transactionVerifySignature=i,Yi}var Yp;function _S(){return Yp||(Yp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var o=Object.getOwnPropertyDescriptor(s,i);(!o||("get"in o?!s.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,o)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=Be&&Be.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(vS(),e),r(wS(),e)}(Hu)),Hu}var Py={},Dy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateNFTBaseUri=e.validateNFTCollectionUriMetaData=e.validateNFTTokenUriMetaData=e.validNFTCollectionUriMetaDataFields=e.validNFTUriMetaDataAttributeTypes=e.validNFTTokenUriMetaDataAttributesFields=e.validNFTTokenUriMetaDataFields=void 0,e.validNFTTokenUriMetaDataFields=["name","description","image","attributes"],e.validNFTTokenUriMetaDataAttributesFields=["trait_type","value"],e.validNFTUriMetaDataAttributeTypes=["string","number","boolean"],e.validNFTCollectionUriMetaDataFields=["name","description","image"];function t(l){Object.keys(l).forEach(q=>{if(!e.validNFTTokenUriMetaDataFields.includes(q))throw new Error(`Invalid field ${q}, only ${e.validNFTTokenUriMetaDataFields} are allowed`)});const v=i(l,"name"),S=a(l,"description"),D=i(l,"image"),C=s(l.attributes);return{name:v,description:S,image:D,attributes:C}}e.validateNFTTokenUriMetaData=t;function r(l){Object.keys(l).forEach(C=>{if(!e.validNFTCollectionUriMetaDataFields.includes(C))throw new Error(`Invalid field ${C}, only ${e.validNFTCollectionUriMetaDataFields} are allowed`)});const v=i(l,"name"),S=i(l,"description"),D=i(l,"image");return{name:v,description:S,image:D}}e.validateNFTCollectionUriMetaData=r;async function n(l,v){if(c(v)&&v>0){const S=[];for(let D=0;D<v;D++){const C=await f(l,D),q=t(C);S.push(q)}return S}else throw new Error("maxSupply should be a positive integer")}e.validateNFTBaseUri=n;function s(l){if(l){if(!Array.isArray(l))throw new Error("Field 'attributes' should be an array");l.forEach(v=>{if(typeof v!="object")throw new Error("Field 'attributes' should be an array of objects");Object.keys(v).forEach(S=>{if(!e.validNFTTokenUriMetaDataAttributesFields.includes(S))throw new Error(`Invalid field ${S} for attributes, only ${e.validNFTTokenUriMetaDataAttributesFields} are allowed`)}),i(v,"trait_type"),o(v,"value")})}return l}function i(l,v){const S=l[`${v}`];if(!(typeof S=="string"&&S!==""))throw new Error(`JSON field '${v}' is not a non empty string`);return S}function a(l,v){const S=l[`${v}`];if(S!==void 0&&!(typeof S=="string"&&S!==""))throw new Error(`JSON field '${v}' is not a non empty string`);return S}function o(l,v){const S=l[`${v}`];if(!(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="boolean"))throw new Error("Attribute value should be a non empty string, number or boolean");return S}async function f(l,v){try{return await(await fetch(`${l}${v}`)).json()}catch(S){throw new Error(`Error fetching NFT metadata from ${l}${v}: ${S}`)}}function c(l){return l===parseInt(l.toString(),10)}})(Dy);(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,s,i,a){a===void 0&&(a=i);var o=Object.getOwnPropertyDescriptor(s,i);(!o||("get"in o?!s.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,a,o)}:function(n,s,i,a){a===void 0&&(a=i),n[a]=s[i]}),r=Be&&Be.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Dy,e)})(Py);var Jp;function ai(){return Jp||(Jp=1,function(e){var t=Be&&Be.__createBinding||(Object.create?function(i,a,o,f){f===void 0&&(f=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,f,c)}:function(i,a,o,f){f===void 0&&(f=o),i[f]=a[o]}),r=Be&&Be.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),n=Be&&Be.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)},s=Be&&Be.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&t(a,i,o);return r(a,i),a};Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.web3=void 0,BigInt.prototype.toJSON=function(){return this.toString()},n(bo(),e),n(My(),e),n(yS(),e),n(Nr(),e),n(_S(),e),n(Py,e),n(Pa,e),e.web3=s(Iy()),e.utils=s(Nr()),n(Qn,e)}(Au)),Au}var He=ai();const ES="v2.8.3",xS="Foods",SS="040309141d010000000102ce0002010000000203ce01ce0202010000000102ce0202",AS="7386b370672aff98393754e2785b59018eed34a07e7a7eab3d18b4289f627b72",IS={names:["tokenUri","collectionId","nftIndex","__stdInterfaceId"],types:["ByteVec","ByteVec","U256","ByteVec"],isMutable:[!1,!1,!1,!1]},TS=[],MS=[{name:"getTokenUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["ByteVec"]},{name:"getCollectionIndex",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["ByteVec","U256"]},{name:"getNFTIndex",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["U256"]}],CS=[],OS=[],PS="0003",DS={version:ES,name:xS,bytecode:SS,codeHash:AS,fieldsSig:IS,eventsSig:TS,functions:MS,constants:CS,enums:OS,stdInterfaceId:PS};let zu;function Vt(e){zu===void 0&&(zu=[ts,zt]);const t=zu.find(r=>r.contract.codeHash===e||r.contract.codeHashDebug===e);if(t===void 0)throw new Error("Unknown code with code hash: "+e);return t.contract}let NS=class extends He.ContractFactory{constructor(){super(...arguments);ji(this,"tests",{getTokenUri:async r=>He.testMethod(this,"getTokenUri",r),getCollectionIndex:async r=>He.testMethod(this,"getCollectionIndex",r),getNFTIndex:async r=>He.testMethod(this,"getNFTIndex",r)})}getInitialFieldsWithDefaultValues(){return this.contract.getInitialFieldsWithDefaultValues()}at(r){return new RS(r)}};const ts=new NS(He.Contract.fromJson(DS,"","7386b370672aff98393754e2785b59018eed34a07e7a7eab3d18b4289f627b72"));class RS extends He.ContractInstance{constructor(r){super(r);ji(this,"methods",{getTokenUri:async r=>He.callMethod(ts,this,"getTokenUri",r===void 0?{}:r,Vt),getCollectionIndex:async r=>He.callMethod(ts,this,"getCollectionIndex",r===void 0?{}:r,Vt),getNFTIndex:async r=>He.callMethod(ts,this,"getNFTIndex",r===void 0?{}:r,Vt)})}async fetchState(){return He.fetchContractState(ts,this)}async multicall(r){return await He.multicallMethods(ts,this,r,Vt)}}const BS="v2.8.3",$S="VendingMachine",US="1b15091240264039404a40554061406a40744085408e409840a140b34141415141614172418a41c64223010000000102a00002010000000102a0020201000102010a160040cb17011601c5107b16010201000203000816010002170216001602410f7b01000202010616011341f42c1367102d0201010202000316001601a9010002020003160016010012010000000102ce01020100000001021343e80201000000010213c40de0b6b3a764000002010000000102a00302010000000103ce007702010000000102a001020100010101081600000218a00116008944020101020b01404aa003190e7ba00216012a1343e8320c7b1601130a3213077bb41702140017030c17040c17050c170616061601314c1b1600001417051603160213c40de0b6b3a7640000a2160216050d2a001344170316060c2f4c0416050d2a170416060d2a17064a21160213c40de0b6b3a764000016012ca9a00216012aa10205160216031601160461160302010001010007b4ce01450d7b1600a101010001010007b4ce01450d7b1600a100010000000008b4ce01450d7ba00319a10301020202000d16010c3313087bb4ce01450d7b16001601a8000302040119a00116018944b116011406414c5048000313046413006417031702160013c40de0b6b3a7640000a2160140ce00160216030d1600c902000001020140411600131431117b16007a1314314d102ac30c2f4c0b160013322c16007a1314314d102ac416007a1314314d102ac3133216000d2a2c3113067b16007a1314314d102ac3170116010d2a16007a1314314d102ac4160102",LS="0a260205f0429db04046858740df08e17e718a93f7c39ae81395fe96f4345f07",FS={names:["foodsContractId","collectionOwner","collectionUri","nftBaseUri","totalSupply","mintIsPaused","mintedFoods","__stdInterfaceId"],types:["ByteVec","Address","ByteVec","ByteVec","U256","Bool","[U256;20]","ByteVec"],isMutable:[!1,!1,!0,!0,!0,!0,!0,!1]},kS=[{name:"NftMinted",fieldNames:["minter","contractIds","mintAmount","startingIndex"],fieldTypes:["Address","ByteVec","U256","U256"]}],jS=[{name:"getCollectionUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["ByteVec"]},{name:"totalSupply",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["U256"]},{name:"nftByIndex",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["index"],paramTypes:["U256"],paramIsMutable:[!1],returnTypes:["ByteVec"]},{name:"validateNFT",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["nftId","nftIndex"],paramTypes:["ByteVec","U256"],paramIsMutable:[!1,!1],returnTypes:[]},{name:"royaltyAmount",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["tokenId","salePrice"],paramTypes:["ByteVec","U256"],paramIsMutable:[!1,!1],returnTypes:["U256"]},{name:"payRoyalty",usePreapprovedAssets:!0,useAssetsInContract:!0,isPublic:!0,paramNames:["payer_","amount_"],paramTypes:["Address","U256"],paramIsMutable:[!1,!1],returnTypes:[]},{name:"withdrawRoyalty",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["to_","amount_"],paramTypes:["Address","U256"],paramIsMutable:[!1,!1],returnTypes:[]},{name:"getOwner",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["Address"]},{name:"getMaxSupply",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["U256"]},{name:"getMintPrice",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["U256"]},{name:"isMintPaused",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["Bool"]},{name:"getFoodsContract",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["Address"]},{name:"getBaseUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:["ByteVec"]},{name:"getNFTUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["index"],paramTypes:["U256"],paramIsMutable:[!1],returnTypes:["ByteVec"]},{name:"mint",usePreapprovedAssets:!0,useAssetsInContract:!0,isPublic:!0,paramNames:["foodTypeId_","mintAmount"],paramTypes:["U256","U256"],paramIsMutable:[!1,!1],returnTypes:["ByteVec"]},{name:"updateBaseUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["newBaseUri"],paramTypes:["ByteVec"],paramIsMutable:[!1],returnTypes:[]},{name:"updateCollectionUri",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:["newCollectionUri"],paramTypes:["ByteVec"],paramIsMutable:[!1],returnTypes:[]},{name:"toggleMintState",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]},{name:"withdrawAlph",usePreapprovedAssets:!1,useAssetsInContract:!0,isPublic:!0,paramNames:["to_","amount_"],paramTypes:["Address","U256"],paramIsMutable:[!1,!1],returnTypes:[]},{name:"mint_",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!1,paramNames:["minter","index"],paramTypes:["Address","U256"],paramIsMutable:[!1,!1],returnTypes:["ByteVec"]},{name:"pickIdForFood",usePreapprovedAssets:!1,useAssetsInContract:!1,isPublic:!1,paramNames:["foodTypeId_"],paramTypes:["U256"],paramIsMutable:[!1],returnTypes:["U256"]}],qS=[{name:"MaxSupply",value:{type:"U256",value:"1000"}},{name:"MintPrice",value:{type:"U256",value:"1000000000000000000"}},{name:"MaxMintPerTx",value:{type:"U256",value:"10"}},{name:"RoyaltyRate",value:{type:"U256",value:"500"}}],HS=[{name:"ErrorCodes",fields:[{name:"MaxSupplyReached",value:{type:"U256",value:"0"}},{name:"OnlyCollectionOwner",value:{type:"U256",value:"1"}},{name:"MintIsPaused",value:{type:"U256",value:"2"}},{name:"NFTNotPartOfCollection",value:{type:"U256",value:"3"}},{name:"NotMintedYet",value:{type:"U256",value:"4"}},{name:"WrongFoodType",value:{type:"U256",value:"5"}},{name:"FoodMaxSupplyReached",value:{type:"U256",value:"6"}},{name:"MaxPerTx",value:{type:"U256",value:"7"}},{name:"ZeroNotAllowed",value:{type:"U256",value:"8"}}]}],zS="000201",VS={version:BS,name:$S,bytecode:US,codeHash:LS,fieldsSig:FS,eventsSig:kS,functions:jS,constants:qS,enums:HS,stdInterfaceId:zS};class KS extends He.ContractFactory{constructor(){super(...arguments);ji(this,"eventIndex",{NftMinted:0});ji(this,"consts",{MaxSupply:BigInt(1e3),MintPrice:BigInt(1e18),MaxMintPerTx:BigInt(10),RoyaltyRate:BigInt(500),ErrorCodes:{MaxSupplyReached:BigInt(0),OnlyCollectionOwner:BigInt(1),MintIsPaused:BigInt(2),NFTNotPartOfCollection:BigInt(3),NotMintedYet:BigInt(4),WrongFoodType:BigInt(5),FoodMaxSupplyReached:BigInt(6),MaxPerTx:BigInt(7),ZeroNotAllowed:BigInt(8)}});ji(this,"tests",{getCollectionUri:async r=>He.testMethod(this,"getCollectionUri",r),totalSupply:async r=>He.testMethod(this,"totalSupply",r),nftByIndex:async r=>He.testMethod(this,"nftByIndex",r),validateNFT:async r=>He.testMethod(this,"validateNFT",r),royaltyAmount:async r=>He.testMethod(this,"royaltyAmount",r),payRoyalty:async r=>He.testMethod(this,"payRoyalty",r),withdrawRoyalty:async r=>He.testMethod(this,"withdrawRoyalty",r),getOwner:async r=>He.testMethod(this,"getOwner",r),getMaxSupply:async r=>He.testMethod(this,"getMaxSupply",r),getMintPrice:async r=>He.testMethod(this,"getMintPrice",r),isMintPaused:async r=>He.testMethod(this,"isMintPaused",r),getFoodsContract:async r=>He.testMethod(this,"getFoodsContract",r),getBaseUri:async r=>He.testMethod(this,"getBaseUri",r),getNFTUri:async r=>He.testMethod(this,"getNFTUri",r),mint:async r=>He.testMethod(this,"mint",r),updateBaseUri:async r=>He.testMethod(this,"updateBaseUri",r),updateCollectionUri:async r=>He.testMethod(this,"updateCollectionUri",r),toggleMintState:async r=>He.testMethod(this,"toggleMintState",r),withdrawAlph:async r=>He.testMethod(this,"withdrawAlph",r),mint_:async r=>He.testMethod(this,"mint_",r),pickIdForFood:async r=>He.testMethod(this,"pickIdForFood",r)})}getInitialFieldsWithDefaultValues(){return this.contract.getInitialFieldsWithDefaultValues()}at(r){return new GS(r)}}const zt=new KS(He.Contract.fromJson(VS,"","0a260205f0429db04046858740df08e17e718a93f7c39ae81395fe96f4345f07"));class GS extends He.ContractInstance{constructor(r){super(r);ji(this,"methods",{getCollectionUri:async r=>He.callMethod(zt,this,"getCollectionUri",r===void 0?{}:r,Vt),totalSupply:async r=>He.callMethod(zt,this,"totalSupply",r===void 0?{}:r,Vt),nftByIndex:async r=>He.callMethod(zt,this,"nftByIndex",r,Vt),royaltyAmount:async r=>He.callMethod(zt,this,"royaltyAmount",r,Vt),getOwner:async r=>He.callMethod(zt,this,"getOwner",r===void 0?{}:r,Vt),getMaxSupply:async r=>He.callMethod(zt,this,"getMaxSupply",r===void 0?{}:r,Vt),getMintPrice:async r=>He.callMethod(zt,this,"getMintPrice",r===void 0?{}:r,Vt),isMintPaused:async r=>He.callMethod(zt,this,"isMintPaused",r===void 0?{}:r,Vt),getFoodsContract:async r=>He.callMethod(zt,this,"getFoodsContract",r===void 0?{}:r,Vt),getBaseUri:async r=>He.callMethod(zt,this,"getBaseUri",r===void 0?{}:r,Vt),getNFTUri:async r=>He.callMethod(zt,this,"getNFTUri",r,Vt),mint:async r=>He.callMethod(zt,this,"mint",r,Vt)})}async fetchState(){return He.fetchContractState(zt,this)}async getContractEventsCurrentCount(){return He.getContractEventsCurrentCount(this.address)}subscribeNftMintedEvent(r,n){return He.subscribeContractEvent(zt.contract,this,r,"NftMinted",n)}async multicall(r){return await He.multicallMethods(zt,this,r,Vt)}}const WS="v2.8.3",YS="MintNft",JS="010103000300190c0d{0}0109{2}2c1700{2}13c40de0b6b3a76400002c1701160116002a1702b41602a2{1}{2}0e0d{0}010e18",XS={names:["vendingMachine","foodTypeId","mintAmount"],types:["ByteVec","U256","U256"],isMutable:[!1,!1,!1]},ZS=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],QS={version:WS,name:YS,bytecodeTemplate:JS,fieldsSig:XS,functions:ZS},e9="v2.8.3",t9="ToggleMintState",r9="010103000000040c0c{0}0111",n9={names:["vendingMachine"],types:["ByteVec"],isMutable:[!1]},i9=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],s9={version:e9,name:t9,bytecodeTemplate:r9,fieldsSig:n9,functions:i9},o9="v2.8.3",a9="UpdateBaseUri",c9="01010300000005{1}0d0c{0}010f",f9={names:["vendingMachine","newBaseUri"],types:["ByteVec","ByteVec"],isMutable:[!1,!1]},u9=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],l9={version:o9,name:a9,bytecodeTemplate:c9,fieldsSig:f9,functions:u9},d9="v2.8.3",h9="UpdateCollectionUri",p9="01010300000005{1}0d0c{0}0110",g9={names:["vendingMachine","newCollectionUri"],types:["ByteVec","ByteVec"],isMutable:[!1,!1]},m9=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],b9={version:d9,name:h9,bytecodeTemplate:p9,fieldsSig:g9,functions:m9},y9="v2.8.3",v9="WithdrawAlph",w9="01010300000006{1}{2}0e0c{0}0112",_9={names:["vendingMachine","to","amount"],types:["ByteVec","Address","U256"],isMutable:[!1,!1,!1]},E9=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],x9={version:y9,name:v9,bytecodeTemplate:w9,fieldsSig:_9,functions:E9},S9="v2.8.3",A9="WithdrawRoyalty",I9="01010300000006{1}{2}0e0c{0}0112",T9={names:["vendingMachine","to","amount"],types:["ByteVec","Address","U256"],isMutable:[!1,!1,!1]},M9=[{name:"main",usePreapprovedAssets:!0,useAssetsInContract:!1,isPublic:!0,paramNames:[],paramTypes:[],paramIsMutable:[],returnTypes:[]}],C9={version:S9,name:A9,bytecodeTemplate:I9,fieldsSig:T9,functions:M9},O9=new He.ExecutableScript(He.Script.fromJson(QS));new He.ExecutableScript(He.Script.fromJson(s9));new He.ExecutableScript(He.Script.fromJson(l9));new He.ExecutableScript(He.Script.fromJson(b9));new He.ExecutableScript(He.Script.fromJson(x9));new He.ExecutableScript(He.Script.fromJson(C9));const P9="1E62GVom5xYYdXj9bAer91XyQiu7QAUMLZe4KUh46AUwQ",D9={Foods:{txId:"af294b9b4b6bbbd6dadaaabc9c5f2e91c8f7cdec05374d14a075accf8ddce3cd",unsignedTx:"000001010103000000081500c27144536038f64700a19d0e03ba486e4f72196626eea6722e7902bcee72963713c40de0b6b3a7640000a2144022040309141d010000000102ce0002010000000203ce01ce0202010000000102ce0202140f040300030002000306414c50480003140100ad188000df25c1174876e80002c2522da10dba3c5fd28f523a2e4510bcd1e625b200ac9db2a7edc2399379631907bdb55600033678568e9ecd4efa056fcd2cd36d2e0bae41130b7b9b5b3656828192dcc21d1cc2522da19942577eb24fc2615a6d7c78f896cbc66a5de1965424825b4405199dc06809e900033678568e9ecd4efa056fcd2cd36d2e0bae41130b7b9b5b3656828192dcc21d1c01c4453afc88649ce00000c27144536038f64700a19d0e03ba486e4f72196626eea6722e7902bcee72963700000000000000000000",signature:"318332fb79390e6980eb495b615a12df3fea302de62f79ed6cbb4956a38c8c06104dce90f4881a843907ac9d391305fd5b8c12c31925fbd1d53d12663d8106a0",gasPrice:"100000000000",gasAmount:57125,blockHash:"0000000000002053b5c6811a206b40d450014f2196d1383ef8c8f0e28a961470",codeHash:"77f422f38efbd86db2db9e57a9817ecc074821117dbc64218da36b6ec853de24",contractInstance:{address:"utpqPVDn38v8sTmUcoBvQztG8Ck1B8So4FzzFgh5Neeb",contractId:"11e66d854ff650414706117f0a7fb74f98f283d39e2a8b108fdaf118c9d66300",groupIndex:0}},VendingMachine:{txId:"987ad9aeb9ba11171a147d22b035a8a923957b9c642442feff86d9ef93757c36",unsignedTx:"000001010103000000081500c27144536038f64700a19d0e03ba486e4f72196626eea6722e7902bcee72963713c40de0b6b3a7640000a214424d1b15091240264039404a40554061406a40744085408e409840a140b34141415141614172418a41c64223010000000102a00002010000000102a0020201000102010a160040cb17011601c5107b16010201000203000816010002170216001602410f7b01000202010616011341f42c1367102d0201010202000316001601a9010002020003160016010012010000000102ce01020100000001021343e80201000000010213c40de0b6b3a764000002010000000102a00302010000000103ce007702010000000102a001020100010101081600000218a00116008944020101020b01404aa003190e7ba00216012a1343e8320c7b1601130a3213077bb41702140017030c17040c17050c170616061601314c1b1600001417051603160213c40de0b6b3a7640000a2160216050d2a001344170316060c2f4c0416050d2a170416060d2a17064a21160213c40de0b6b3a764000016012ca9a00216012aa10205160216031601160461160302010001010007b4ce01450d7b1600a101010001010007b4ce01450d7b1600a100010000000008b4ce01450d7ba00319a10301020202000d16010c3313087bb4ce01450d7b16001601a8000302040119a00116018944b116011406414c5048000313046413006417031702160013c40de0b6b3a7640000a2160140ce00160216030d1600c902000001020140411600131431117b16007a1314314d102ac30c2f4c0b160013322c16007a1314314d102ac416007a1314314d102ac3133216000d2a2c3113067b16007a1314314d102ac3170116010d2a16007a1314314d102ac416010214404f0303402011e66d854ff650414706117f0a7fb74f98f283d39e2a8b108fdaf118c9d663000400c27144536038f64700a19d0e03ba486e4f72196626eea6722e7902bcee7296370307414c504800020114403118030003000200000102000200020002000200020002000200020002000200020002000200020002000200020002000200ad188000e6afc1174876e80001c2522da16187358412942ef39b0bc2802a6f930028d95472b87820b2d7e60141682339fa00033678568e9ecd4efa056fcd2cd36d2e0bae41130b7b9b5b3656828192dcc21d1c01c437454acf5f80480000c27144536038f64700a19d0e03ba486e4f72196626eea6722e7902bcee72963700000000000000000000",signature:"78e50816e8c6ceb4d84c119452a0b350cf8df5173da648f9259a3c16152b8bbb75edc86c9badd3609f520a2566aeb64df94385151a7b0ced0f50e112349c743c",gasPrice:"100000000000",gasAmount:59055,blockHash:"000000000000c56ade4f06283bc1192974bdaaddaddd2c2a336b651d40ffe9a0",codeHash:"475445a28e558250a8c5550c63db2f822f7143589f896a7e4039670ca3a0ef8f",contractInstance:{address:"22vxm543X8aEkqu31spuRGkaiNyN5hsmWaSP4o3c46tVd",contractId:"7a745bffc1bd1cd4186db06b42722b3bf48a405518ac75266086b5aaa5b72e00",groupIndex:0}}},N9={},R9={},B9={deployerAddress:P9,contracts:D9,scripts:N9,migrations:R9},$9="18u4jwSdAaADr1jwBBCCWGcZLpFPVCiEbG99FK5pUW7BL",U9={Foods:{txId:"cac4a400dc4a62676a851ae86950bd9e64ab9af5778f09b75b3ae1136c7989f7",unsignedTx:"000401010103000000081500bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a13c40de0b6b3a7640000a2144022040309141d010000000102ce0002010000000203ce01ce0202010000000102ce0202140f040300030002000306414c50480003140100ad188000df25c1174876e8000237a44447169d7461de03ff62ed6ce5d6c4d5b07a31266e777ca408a573fc974fd16f4b4d000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b037a44447dbdc959cbe36ece8e360631bab4d7c74197bacc55df282a86391e40c9ac4af23000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b001c6d3c1819b87fe61e1380000bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a00000000000000000000",signature:"7ee47550b0faeac252ce8f12de38b21e5cd1b043389b0e69324d66eabae5265803aea0f94c7ad7d28c59d2ad136d7248290d0be3ec329af2fa6cd759faefa510",gasPrice:"100000000000",gasAmount:57125,blockHash:"6df341bidk033d29341819e7bdab4fc7778d319d736f1e10aad930d1a9a656921c0",codeHash:"77f422f38efbd86db2db9e57a9817ecc074821117dbc64218da36b6ec853de24",contractInstance:{address:"yBYHz7SDb47D1hamXkk8sQ2Yj8tkfFit23oWk2cnvobV",contractId:"42c1a8ad2e4216e7b225d4b631a03dfda4920fa008af69fd7fbcc4311168a200",groupIndex:0}},VendingMachine:{txId:"a16cd583ff4280810771169ae8437cb86853d716301578ac3acf3d5ad653358b",unsignedTx:"000401010103000000081500bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a13c40de0b6b3a7640000a214424d1b15091240264039404a40554061406a40744085408e409840a140b34141415141614172418a41c64223010000000102a00002010000000102a0020201000102010a160040cb17011601c5107b16010201000203000816010002170216001602410f7b01000202010616011341f42c1367102d0201010202000316001601a9010002020003160016010012010000000102ce01020100000001021343e80201000000010213c40de0b6b3a764000002010000000102a00302010000000103ce007702010000000102a001020100010101081600000218a00116008944020101020b01404aa003190e7ba00216012a1343e8320c7b1601130a3213077bb41702140017030c17040c17050c170616061601314c1b1600001417051603160213c40de0b6b3a7640000a2160216050d2a001344170316060c2f4c0416050d2a170416060d2a17064a21160213c40de0b6b3a764000016012ca9a00216012aa10205160216031601160461160302010001010007b4ce01450d7b1600a101010001010007b4ce01450d7b1600a100010000000008b4ce01450d7ba00319a10301020202000d16010c3313087bb4ce01450d7b16001601a8000302040119a00116018944b116011406414c5048000313046413006417031702160013c40de0b6b3a7640000a2160140ce00160216030d1600c902000001020140411600131431117b16007a1314314d102ac30c2f4c0b160013322c16007a1314314d102ac416007a1314314d102ac3133216000d2a2c3113067b16007a1314314d102ac3170116010d2a16007a1314314d102ac416010214404f0303402042c1a8ad2e4216e7b225d4b631a03dfda4920fa008af69fd7fbcc4311168a2000400bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a0307414c504800020114403118030003000200000102000200020002000200020002000200020002000200020002000200020002000200020002000200ad188000e6afc1174876e8000137a444474508b58696b43ab12805d144b8826fbb7357cc9a92e4340a22852aaf54cfbabc000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b001c6d3c173a5d6455cc4a00000bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a00000000000000000000",signature:"762abe5b64050dc82b0a6e46630274100e3913328208e15078b948bea41560442ec9b51fae6af878eb5151059907759114584753eb6ae2c7525440dd66249721",gasPrice:"100000000000",gasAmount:59055,blockHash:"b01d297794f090fcd7a306dbe3ddb8f446b8f494a63ba21751aac8c6ed858620",codeHash:"d4b7729fa7cf9e32eb5e286e0419edd6ebe6ea4b55c03983c84ba3b7139c67ad",contractInstance:{address:"vk7KvZxejW7Qmbd2pPqQe4AerqAD129awXNiMWmUEsiw",contractId:"dc53e5ad48550f873359cc22b957fc9727511cc0190d641308b96f4c6f037a00",groupIndex:0}}},L9={},F9={},k9={deployerAddress:$9,contracts:U9,scripts:L9,migrations:F9},j9="1DrDyTr9RpRsQnDnXo2YRiPzPW4ooHX5LLoqXrqfMrpQH",q9={Foods:{txId:"cac4a400dc4a62676a851ae86950bd9e64ab9af5778f09b75b3ae1136c7989f7",unsignedTx:"000401010103000000081500bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a13c40de0b6b3a7640000a2144022040309141d010000000102ce0002010000000203ce01ce0202010000000102ce0202140f040300030002000306414c50480003140100ad188000df25c1174876e8000237a44447169d7461de03ff62ed6ce5d6c4d5b07a31266e777ca408a573fc974fd16f4b4d000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b037a44447dbdc959cbe36ece8e360631bab4d7c74197bacc55df282a86391e40c9ac4af23000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b001c6d3c1819b87fe61e1380000bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a00000000000000000000",signature:"7ee47550b0faeac252ce8f12de38b21e5cd1b043389b0e69324d66eabae5265803aea0f94c7ad7d28c59d2ad136d7248290d0be3ec329af2fa6cd759faefa510",gasPrice:"100000000000",gasAmount:57125,blockHash:"6df341bidk033d29341819e7bdab4fc7778d319d736f1e10aad930d1a9a656921c0",codeHash:"77f422f38efbd86db2db9e57a9817ecc074821117dbc64218da36b6ec853de24",contractInstance:{address:"yBYHz7SDb47D1hamXkk8sQ2Yj8tkfFit23oWk2cnvobV",contractId:"42c1a8ad2e4216e7b225d4b631a03dfda4920fa008af69fd7fbcc4311168a200",groupIndex:0}},VendingMachine:{txId:"a16cd583ff4280810771169ae8437cb86853d716301578ac3acf3d5ad653358b",unsignedTx:"000401010103000000081500bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a13c40de0b6b3a7640000a214424d1b15091240264039404a40554061406a40744085408e409840a140b34141415141614172418a41c64223010000000102a00002010000000102a0020201000102010a160040cb17011601c5107b16010201000203000816010002170216001602410f7b01000202010616011341f42c1367102d0201010202000316001601a9010002020003160016010012010000000102ce01020100000001021343e80201000000010213c40de0b6b3a764000002010000000102a00302010000000103ce007702010000000102a001020100010101081600000218a00116008944020101020b01404aa003190e7ba00216012a1343e8320c7b1601130a3213077bb41702140017030c17040c17050c170616061601314c1b1600001417051603160213c40de0b6b3a7640000a2160216050d2a001344170316060c2f4c0416050d2a170416060d2a17064a21160213c40de0b6b3a764000016012ca9a00216012aa10205160216031601160461160302010001010007b4ce01450d7b1600a101010001010007b4ce01450d7b1600a100010000000008b4ce01450d7ba00319a10301020202000d16010c3313087bb4ce01450d7b16001601a8000302040119a00116018944b116011406414c5048000313046413006417031702160013c40de0b6b3a7640000a2160140ce00160216030d1600c902000001020140411600131431117b16007a1314314d102ac30c2f4c0b160013322c16007a1314314d102ac416007a1314314d102ac3133216000d2a2c3113067b16007a1314314d102ac3170116010d2a16007a1314314d102ac416010214404f0303402042c1a8ad2e4216e7b225d4b631a03dfda4920fa008af69fd7fbcc4311168a2000400bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a0307414c504800020114403118030003000200000102000200020002000200020002000200020002000200020002000200020002000200020002000200ad188000e6afc1174876e8000137a444474508b58696b43ab12805d144b8826fbb7357cc9a92e4340a22852aaf54cfbabc000381818e63bd9e35a5489b52a430accefc608fd60aa2c7c0d1b393b5239aedf6b001c6d3c173a5d6455cc4a00000bee85f379545a2ed9f6cceb331288842f378cf0f04012ad4ac8824aae7d6f80a00000000000000000000",signature:"762abe5b64050dc82b0a6e46630274100e3913328208e15078b948bea41560442ec9b51fae6af878eb5151059907759114584753eb6ae2c7525440dd66249721",gasPrice:"100000000000",gasAmount:59055,blockHash:"b01d297794f090fcd7a306dbe3ddb8f446b8f494a63ba21751aac8c6ed858620",codeHash:"d4b7729fa7cf9e32eb5e286e0419edd6ebe6ea4b55c03983c84ba3b7139c67ad",contractInstance:{address:"29X21G4BXYWxnCij39ou4XaRLmudpjW36FTWaJQfmFhwu",contractId:"dc53e5ad48550f873359cc22b957fc9727511cc0190d641308b96f4c6f037a00",groupIndex:0}}},H9={},z9={},V9={deployerAddress:j9,contracts:q9,scripts:H9,migrations:z9};function Xp(e){const t={Foods:e.contracts.Foods===void 0?void 0:{...e.contracts.Foods,contractInstance:ts.at(e.contracts.Foods.contractInstance.address)},VendingMachine:e.contracts.VendingMachine===void 0?void 0:{...e.contracts.VendingMachine,contractInstance:zt.at(e.contracts.VendingMachine.contractInstance.address)}};return{...e,contracts:t}}function Ny(e,t){const r=e==="mainnet"?B9:e==="testnet"?k9:e==="devnet"?V9:void 0;if(r===void 0)throw Error("The contract has not been deployed to the "+e);const n=Array.isArray(r)?r:[r];if(t===void 0){if(n.length>1)throw Error("The contract has been deployed multiple times on "+e+", please specify the deployer address");return Xp(n[0])}const s=n.find(i=>i.deployerAddress===t);if(s===void 0)throw Error("The contract deployment result does not exist");return Xp(s)}const pd=Ni(null);let Lc=null;function K9(){if(!Lc)throw new Error("Provider not set");return Lc}function G9(e){Lc=e,pd.value=e}function W9(){pd.value=null,Lc=null}function Ry(){return{provider:pd,getProvider:K9,setProvider:G9,clearProvider:W9}}var By={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(r,n){e.exports=n()})(Be,function(){var r={};r.version="0.2.0";var n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(C){var q,H;for(q in C)H=C[q],H!==void 0&&C.hasOwnProperty(q)&&(n[q]=H);return this},r.status=null,r.set=function(C){var q=r.isStarted();C=s(C,n.minimum,1),r.status=C===1?null:C;var H=r.render(!q),Z=H.querySelector(n.barSelector),W=n.speed,K=n.easing;return H.offsetWidth,o(function(B){n.positionUsing===""&&(n.positionUsing=r.getPositioningCSS()),f(Z,a(C,W,K)),C===1?(f(H,{transition:"none",opacity:1}),H.offsetWidth,setTimeout(function(){f(H,{transition:"all "+W+"ms linear",opacity:0}),setTimeout(function(){r.remove(),B()},W)},W)):setTimeout(B,W)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var C=function(){setTimeout(function(){r.status&&(r.trickle(),C())},n.trickleSpeed)};return n.trickle&&C(),this},r.done=function(C){return!C&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(C){var q=r.status;return q?(typeof C!="number"&&(C=(1-q)*s(Math.random()*q,.1,.95)),q=s(q+C,0,.994),r.set(q)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},function(){var C=0,q=0;r.promise=function(H){return!H||H.state()==="resolved"?this:(q===0&&r.start(),C++,q++,H.always(function(){q--,q===0?(C=0,r.done()):r.set((C-q)/C)}),this)}}(),r.render=function(C){if(r.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var q=document.createElement("div");q.id="nprogress",q.innerHTML=n.template;var H=q.querySelector(n.barSelector),Z=C?"-100":i(r.status||0),W=document.querySelector(n.parent),K;return f(H,{transition:"all 0 linear",transform:"translate3d("+Z+"%,0,0)"}),n.showSpinner||(K=q.querySelector(n.spinnerSelector),K&&D(K)),W!=document.body&&l(W,"nprogress-custom-parent"),W.appendChild(q),q},r.remove=function(){v(document.documentElement,"nprogress-busy"),v(document.querySelector(n.parent),"nprogress-custom-parent");var C=document.getElementById("nprogress");C&&D(C)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var C=document.body.style,q="WebkitTransform"in C?"Webkit":"MozTransform"in C?"Moz":"msTransform"in C?"ms":"OTransform"in C?"O":"";return q+"Perspective"in C?"translate3d":q+"Transform"in C?"translate":"margin"};function s(C,q,H){return C<q?q:C>H?H:C}function i(C){return(-1+C)*100}function a(C,q,H){var Z;return n.positionUsing==="translate3d"?Z={transform:"translate3d("+i(C)+"%,0,0)"}:n.positionUsing==="translate"?Z={transform:"translate("+i(C)+"%,0)"}:Z={"margin-left":i(C)+"%"},Z.transition="all "+q+"ms "+H,Z}var o=function(){var C=[];function q(){var H=C.shift();H&&H(q)}return function(H){C.push(H),C.length==1&&q()}}(),f=function(){var C=["Webkit","O","Moz","ms"],q={};function H(B){return B.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(z,P){return P.toUpperCase()})}function Z(B){var z=document.body.style;if(B in z)return B;for(var P=C.length,g=B.charAt(0).toUpperCase()+B.slice(1),$;P--;)if($=C[P]+g,$ in z)return $;return B}function W(B){return B=H(B),q[B]||(q[B]=Z(B))}function K(B,z,P){z=W(z),B.style[z]=P}return function(B,z){var P=arguments,g,$;if(P.length==2)for(g in z)$=z[g],$!==void 0&&z.hasOwnProperty(g)&&K(B,g,$);else K(B,P[1],P[2])}}();function c(C,q){var H=typeof C=="string"?C:S(C);return H.indexOf(" "+q+" ")>=0}function l(C,q){var H=S(C),Z=H+q;c(H,q)||(C.className=Z.substring(1))}function v(C,q){var H=S(C),Z;c(C,q)&&(Z=H.replace(" "+q+" "," "),C.className=Z.substring(1,Z.length-1))}function S(C){return(" "+(C.className||"")+" ").replace(/\s+/gi," ")}function D(C){C&&C.parentNode&&C.parentNode.removeChild(C)}return r})})(By);var Y9=By.exports;const Vu=Oa(Y9),Ll=Ni("idle"),$y=Ni(0),yc=Ni(1);Ni(new Set);async function J9(e){var r;const t=J0();try{Vu.start();const{getProvider:n}=Ry(),s=n();if(!(s!=null&&s.signer)){console.warn("Could not find available signer");return}const i=(r=Ny("mainnet").contracts.VendingMachine)==null?void 0:r.contractInstance.contractId;if(!i){console.error("Failed to find deployment");return}console.log(`Minting ${X0[e]} with amount ${yc.value}`),Ll.value="idle";const a=await O9.execute(s.signer,{initialFields:{vendingMachine:i,foodTypeId:BigInt(e),mintAmount:BigInt(yc.value)},attoAlphAmount:BigInt(yc.value)*(He.ONE_ALPH+He.ONE_ALPH+He.DUST_AMOUNT)});t("Mint Successful"),$y.value=e,Ll.value="minted",Vu.done()}catch(n){Vu.done(),console.error(n)}}function Uy(){return{state:Ll,mint:J9,selection:$y,amount:yc}}const Ly=Ni(new Array(20).fill(0));function X9(e){Ly.value=e}function Fy(){return{amounts:Ly,setAmounts:X9}}const Z9={class:"inside_glass"},Q9={class:"drinks",style:{display:"grid","grid-template-columns":"repeat(5, minmax(0, 1fr))"}},eA=["onClick"],tA=["src"],rA={key:1,class:"pacifico-regular",style:{"text-align":"center",width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","font-size":"1rem",color:"black"}},nA={style:{display:"grid",color:"black","grid-template-columns":"repeat(5, minmax(0, 1fr))","text-align":"center","justify-content":"center","align-items":"center"}},iA={class:"label",style:{width:"100%"}},sA=bt("div",{class:"glass-overlay"},null,-1),ac=Cn({__name:"Glass",props:{labelIndex:{}},setup(e){const t=J0();console.log({toast:t});const{mint:r}=Uy(),{amounts:n}=Fy();function s(i){n.value[i]<50?r(i):t.error(`${Rc[i]} is sold out!`)}return(i,a)=>(at(),St("div",null,[bt("div",Z9,[bt("div",Q9,[(at(!0),St(Nt,null,Cc(i.labelIndex,o=>(at(),St("div",{class:"drink bounce",onClick:f=>s(o),style:{display:"flex",height:"100%"}},[Kt(n)[o]<50?(at(),St("img",{key:0,src:`/images/${Kt(X0)[o]}.svg`,style:{margin:"0 auto",width:"70%"}},null,8,tA)):(at(),St("div",rA," Sold Out "))],8,eA))),256))])]),bt("div",nA,[(at(!0),St(Nt,null,Cc(i.labelIndex,o=>(at(),St("div",iA,fa(Kt(Rc)[o])+" "+fa(Math.max(50-Kt(n)[o],0))+"/50 ",1))),256))]),sA]))}});var gd={},Fl=function(e,t){return Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Fl(e,t)};function ky(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Fc=function(){return Fc=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fc.apply(this,arguments)};function jy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function qy(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Hy(e,t){return function(r,n){t(r,n,e)}}function oA(e,t,r,n,s,i){function a(Z){if(Z!==void 0&&typeof Z!="function")throw new TypeError("Function expected");return Z}for(var o=n.kind,f=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,l=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),v,S=!1,D=r.length-1;D>=0;D--){var C={};for(var q in n)C[q]=q==="access"?{}:n[q];for(var q in n.access)C.access[q]=n.access[q];C.addInitializer=function(Z){if(S)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(Z||null))};var H=(0,r[D])(o==="accessor"?{get:l.get,set:l.set}:l[f],C);if(o==="accessor"){if(H===void 0)continue;if(H===null||typeof H!="object")throw new TypeError("Object expected");(v=a(H.get))&&(l.get=v),(v=a(H.set))&&(l.set=v),(v=a(H.init))&&s.unshift(v)}else(v=a(H))&&(o==="field"?s.unshift(v):l[f]=v)}c&&Object.defineProperty(c,n.name,l),S=!0}function aA(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function cA(e){return typeof e=="symbol"?e:"".concat(e)}function fA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function zy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Vy(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(v){a(v)}}function f(l){try{c(n.throw(l))}catch(v){a(v)}}function c(l){l.done?i(l.value):s(l.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function Ky(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Bf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Gy(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bf(t,e,r)}function kc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function md(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Wy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(md(arguments[t]));return e}function Yy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function Jy(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function Xy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(S){n[S]&&(s[S]=function(D){return new Promise(function(C,q){i.push([S,D,C,q])>1||o(S,D)})})}function o(S,D){try{f(n[S](D))}catch(C){v(i[0][3],C)}}function f(S){S.value instanceof Qs?Promise.resolve(S.value.v).then(c,l):v(i[0][2],S)}function c(S){o("next",S)}function l(S){o("throw",S)}function v(S,D){S(D),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Zy(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:Qs(e[s](a)),done:!1}:i?i(a):a}:i}}function Qy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof kc=="function"?kc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,f){a=e[i](a),s(o,f,a.done,a.value)})}}function s(i,a,o,f){Promise.resolve(f).then(function(c){i({value:c,done:o})},a)}}function ev(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var uA=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function tv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Bf(t,e,r);return uA(t,e),t}function rv(e){return e&&e.__esModule?e:{default:e}}function nv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function iv(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function sv(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ov(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var lA=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function av(e){function t(n){e.error=e.hasError?new lA(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}const dA={__extends:ky,__assign:Fc,__rest:jy,__decorate:qy,__param:Hy,__metadata:zy,__awaiter:Vy,__generator:Ky,__createBinding:Bf,__exportStar:Gy,__values:kc,__read:md,__spread:Wy,__spreadArrays:Yy,__spreadArray:Jy,__await:Qs,__asyncGenerator:Xy,__asyncDelegator:Zy,__asyncValues:Qy,__makeTemplateObject:ev,__importStar:tv,__importDefault:rv,__classPrivateFieldGet:nv,__classPrivateFieldSet:iv,__classPrivateFieldIn:sv,__addDisposableResource:ov,__disposeResources:av},hA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ov,get __assign(){return Fc},__asyncDelegator:Zy,__asyncGenerator:Xy,__asyncValues:Qy,__await:Qs,__awaiter:Vy,__classPrivateFieldGet:nv,__classPrivateFieldIn:sv,__classPrivateFieldSet:iv,__createBinding:Bf,__decorate:qy,__disposeResources:av,__esDecorate:oA,__exportStar:Gy,__extends:ky,__generator:Ky,__importDefault:rv,__importStar:tv,__makeTemplateObject:ev,__metadata:zy,__param:Hy,__propKey:cA,__read:md,__rest:jy,__runInitializers:aA,__setFunctionName:fA,__spread:Wy,__spreadArray:Jy,__spreadArrays:Yy,__values:kc,default:dA},Symbol.toStringTag,{value:"Module"})),cv=Ar(hA);var Ht={},bd={exports:{}},Vs=typeof Reflect=="object"?Reflect:null,Zp=Vs&&typeof Vs.apply=="function"?Vs.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},vc;Vs&&typeof Vs.ownKeys=="function"?vc=Vs.ownKeys:Object.getOwnPropertySymbols?vc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:vc=function(t){return Object.getOwnPropertyNames(t)};function pA(e){console&&console.warn&&console.warn(e)}var fv=Number.isNaN||function(t){return t!==t};function pt(){pt.init.call(this)}bd.exports=pt;bd.exports.once=yA;pt.EventEmitter=pt;pt.prototype._events=void 0;pt.prototype._eventsCount=0;pt.prototype._maxListeners=void 0;var Qp=10;function $f(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(pt,"defaultMaxListeners",{enumerable:!0,get:function(){return Qp},set:function(e){if(typeof e!="number"||e<0||fv(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Qp=e}});pt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};pt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||fv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function uv(e){return e._maxListeners===void 0?pt.defaultMaxListeners:e._maxListeners}pt.prototype.getMaxListeners=function(){return uv(this)};pt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var f=i[t];if(f===void 0)return!1;if(typeof f=="function")Zp(f,this,r);else for(var c=f.length,l=gv(f,c),n=0;n<c;++n)Zp(l[n],this,r);return!0};function lv(e,t,r,n){var s,i,a;if($f(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),a===void 0)a=i[t]=r,++e._eventsCount;else if(typeof a=="function"?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=uv(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,pA(o)}return e}pt.prototype.addListener=function(t,r){return lv(this,t,r,!1)};pt.prototype.on=pt.prototype.addListener;pt.prototype.prependListener=function(t,r){return lv(this,t,r,!0)};function gA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dv(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=gA.bind(n);return s.listener=r,n.wrapFn=s,s}pt.prototype.once=function(t,r){return $f(r),this.on(t,dv(this,t,r)),this};pt.prototype.prependOnceListener=function(t,r){return $f(r),this.prependListener(t,dv(this,t,r)),this};pt.prototype.removeListener=function(t,r){var n,s,i,a,o;if($f(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():mA(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,o||r)}return this};pt.prototype.off=pt.prototype.removeListener;pt.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function hv(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?bA(s):gv(s,s.length)}pt.prototype.listeners=function(t){return hv(this,t,!0)};pt.prototype.rawListeners=function(t){return hv(this,t,!1)};pt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):pv.call(e,t)};pt.prototype.listenerCount=pv;function pv(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}pt.prototype.eventNames=function(){return this._eventsCount>0?vc(this._events):[]};function gv(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function mA(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function bA(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function yA(e,t){return new Promise(function(r,n){function s(a){e.removeListener(t,i),n(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}mv(e,t,i,{once:!0}),t!=="error"&&vA(e,s,{once:!0})})}function vA(e,t,r){typeof e.on=="function"&&mv(e,"error",t,r)}function mv(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var un=bd.exports;const bv=Oa(un),wA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_A=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,EA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function xA(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){SA(e);return}return t}function SA(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function cc(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!EA.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(wA.test(e)||_A.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,xA)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function AA(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Ut(e,...t){try{return AA(e(...t))}catch(r){return Promise.reject(r)}}function IA(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function TA(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function wc(e){if(IA(e))return String(e);if(TA(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return wc(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function yv(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const kl="base64:";function MA(e){if(typeof e=="string")return e;yv();const t=Buffer.from(e).toString("base64");return kl+t}function CA(e){return typeof e!="string"||!e.startsWith(kl)?e:(yv(),Buffer.from(e.slice(kl.length),"base64"))}function yr(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function OA(...e){return yr(e.join(":"))}function fc(e){return e=yr(e),e?e+":":""}const PA="memory",DA=()=>{const e=new Map;return{name:PA,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function NA(e={}){const t={mounts:{"":e.driver||DA()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const l of t.mountpoints)if(c.startsWith(l))return{base:l,relativeKey:c.slice(l.length),driver:t.mounts[l]};return{base:"",relativeKey:c,driver:t.mounts[""]}},n=(c,l)=>t.mountpoints.filter(v=>v.startsWith(c)||l&&c.startsWith(v)).map(v=>({relativeBase:c.length>v.length?c.slice(v.length):void 0,mountpoint:v,driver:t.mounts[v]})),s=(c,l)=>{if(t.watching){l=yr(l);for(const v of t.watchListeners)v(c,l)}},i=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await e1(t.mounts[c],s,c)}},a=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},o=(c,l,v)=>{const S=new Map,D=C=>{let q=S.get(C.base);return q||(q={driver:C.driver,base:C.base,items:[]},S.set(C.base,q)),q};for(const C of c){const q=typeof C=="string",H=yr(q?C:C.key),Z=q?void 0:C.value,W=q||!C.options?l:{...l,...C.options},K=r(H);D(K).items.push({key:H,value:Z,relativeKey:K.relativeKey,options:W})}return Promise.all([...S.values()].map(C=>v(C))).then(C=>C.flat())},f={hasItem(c,l={}){c=yr(c);const{relativeKey:v,driver:S}=r(c);return Ut(S.hasItem,v,l)},getItem(c,l={}){c=yr(c);const{relativeKey:v,driver:S}=r(c);return Ut(S.getItem,v,l).then(D=>cc(D))},getItems(c,l){return o(c,l,v=>v.driver.getItems?Ut(v.driver.getItems,v.items.map(S=>({key:S.relativeKey,options:S.options})),l).then(S=>S.map(D=>({key:OA(v.base,D.key),value:cc(D.value)}))):Promise.all(v.items.map(S=>Ut(v.driver.getItem,S.relativeKey,S.options).then(D=>({key:S.key,value:cc(D)})))))},getItemRaw(c,l={}){c=yr(c);const{relativeKey:v,driver:S}=r(c);return S.getItemRaw?Ut(S.getItemRaw,v,l):Ut(S.getItem,v,l).then(D=>CA(D))},async setItem(c,l,v={}){if(l===void 0)return f.removeItem(c);c=yr(c);const{relativeKey:S,driver:D}=r(c);D.setItem&&(await Ut(D.setItem,S,wc(l),v),D.watch||s("update",c))},async setItems(c,l){await o(c,l,async v=>{v.driver.setItems&&await Ut(v.driver.setItems,v.items.map(S=>({key:S.relativeKey,value:wc(S.value),options:S.options})),l),v.driver.setItem&&await Promise.all(v.items.map(S=>Ut(v.driver.setItem,S.relativeKey,wc(S.value),S.options)))})},async setItemRaw(c,l,v={}){if(l===void 0)return f.removeItem(c,v);c=yr(c);const{relativeKey:S,driver:D}=r(c);if(D.setItemRaw)await Ut(D.setItemRaw,S,l,v);else if(D.setItem)await Ut(D.setItem,S,MA(l),v);else return;D.watch||s("update",c)},async removeItem(c,l={}){typeof l=="boolean"&&(l={removeMeta:l}),c=yr(c);const{relativeKey:v,driver:S}=r(c);S.removeItem&&(await Ut(S.removeItem,v,l),(l.removeMeta||l.removeMata)&&await Ut(S.removeItem,v+"$",l),S.watch||s("remove",c))},async getMeta(c,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),c=yr(c);const{relativeKey:v,driver:S}=r(c),D=Object.create(null);if(S.getMeta&&Object.assign(D,await Ut(S.getMeta,v,l)),!l.nativeOnly){const C=await Ut(S.getItem,v+"$",l).then(q=>cc(q));C&&typeof C=="object"&&(typeof C.atime=="string"&&(C.atime=new Date(C.atime)),typeof C.mtime=="string"&&(C.mtime=new Date(C.mtime)),Object.assign(D,C))}return D},setMeta(c,l,v={}){return this.setItem(c+"$",l,v)},removeMeta(c,l={}){return this.removeItem(c+"$",l)},async getKeys(c,l={}){c=fc(c);const v=n(c,!0);let S=[];const D=[];for(const C of v){const H=(await Ut(C.driver.getKeys,C.relativeBase,l)).map(Z=>C.mountpoint+yr(Z)).filter(Z=>!S.some(W=>Z.startsWith(W)));D.push(...H),S=[C.mountpoint,...S.filter(Z=>!Z.startsWith(C.mountpoint))]}return c?D.filter(C=>C.startsWith(c)&&!C.endsWith("$")):D.filter(C=>!C.endsWith("$"))},async clear(c,l={}){c=fc(c),await Promise.all(n(c,!1).map(async v=>{if(v.driver.clear)return Ut(v.driver.clear,v.relativeBase,l);if(v.driver.removeItem){const S=await v.driver.getKeys(v.relativeBase||"",l);return Promise.all(S.map(D=>v.driver.removeItem(D,l)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>t1(c)))},async watch(c){return await i(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(l=>l!==c),t.watchListeners.length===0&&await a()}},async unwatch(){t.watchListeners=[],await a()},mount(c,l){if(c=fc(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((v,S)=>S.length-v.length)),t.mounts[c]=l,t.watching&&Promise.resolve(e1(l,s,c)).then(v=>{t.unwatch[c]=v}).catch(console.error),f},async unmount(c,l=!0){c=fc(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&(t.unwatch[c](),delete t.unwatch[c]),l&&await t1(t.mounts[c]),t.mountpoints=t.mountpoints.filter(v=>v!==c),delete t.mounts[c])},getMount(c=""){c=yr(c)+":";const l=r(c);return{driver:l.driver,base:l.base}},getMounts(c="",l={}){return c=yr(c),n(c,l.parents).map(S=>({driver:S.driver,base:S.mountpoint}))}};return f}function e1(e,t,r){return e.watch?e.watch((n,s)=>t(n,r+s)):()=>{}}async function t1(e){typeof e.dispose=="function"&&await Ut(e.dispose)}function vs(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function vv(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=vs(r);return(s,i)=>n.then(a=>i(a.transaction(t,s).objectStore(t)))}let Ku;function $a(){return Ku||(Ku=vv("keyval-store","keyval")),Ku}function r1(e,t=$a()){return t("readonly",r=>vs(r.get(e)))}function RA(e,t,r=$a()){return r("readwrite",n=>(n.put(t,e),vs(n.transaction)))}function BA(e,t=$a()){return t("readwrite",r=>(r.delete(e),vs(r.transaction)))}function $A(e=$a()){return e("readwrite",t=>(t.clear(),vs(t.transaction)))}function UA(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},vs(e.transaction)}function LA(e=$a()){return e("readonly",t=>{if(t.getAllKeys)return vs(t.getAllKeys());const r=[];return UA(t,n=>r.push(n.key)).then(()=>r)})}const FA=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),kA=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Uf(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return kA(e)}catch{return e}}function Ua(e){return typeof e=="string"?e:FA(e)||""}const jA="idb-keyval";var qA=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s;let n;return e.dbName&&e.storeName&&(n=vv(e.dbName,e.storeName)),{name:jA,options:e,async hasItem(s){return!(typeof await r1(r(s),n)>"u")},async getItem(s){return await r1(r(s),n)??null},setItem(s,i){return RA(r(s),i,n)},removeItem(s){return BA(r(s),n)},getKeys(){return LA(n)},clear(){return $A(n)}}};const HA="WALLET_CONNECT_V2_INDEXED_DB",zA="keyvaluestorage";let VA=class{constructor(){this.indexedDb=NA({driver:qA({dbName:HA,storeName:zA})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,Ua(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_c={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Gu<"u"&&Gu.localStorage?_c.exports=Gu.localStorage:typeof window<"u"&&window.localStorage?_c.exports=window.localStorage:_c.exports=new t})();function KA(e){var t;return[e[0],Uf((t=e[1])!=null?t:"")]}let GA=class{constructor(){this.localStorage=_c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(KA)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return Uf(r)}async setItem(t,r){this.localStorage.setItem(t,Ua(r))}async removeItem(t){this.localStorage.removeItem(t)}};const WA="wc_storage_version",n1=1,YA=async(e,t,r)=>{const n=WA,s=await t.getItem(n);if(s&&s>=n1){r(t);return}const i=await e.getKeys();if(!i.length){r(t);return}const a=[];for(;i.length;){const o=i.shift();if(!o)continue;const f=o.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const c=await e.getItem(o);await t.setItem(o,c),a.push(o)}}await t.setItem(n,n1),r(t),JA(e,a)},JA=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let jl=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new GA;this.storage=t;try{const r=new VA;YA(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};const XA=Object.freeze(Object.defineProperty({__proto__:null,KeyValueStorage:jl,default:jl},Symbol.toStringTag,{value:"Module"}));var yo={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ql=function(e,t){return ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},ql(e,t)};function ZA(e,t){ql(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Hl=function(){return Hl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Hl.apply(this,arguments)};function QA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function eI(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function tI(e,t){return function(r,n){t(r,n,e)}}function rI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function nI(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(v){a(v)}}function f(l){try{c(n.throw(l))}catch(v){a(v)}}function c(l){l.done?i(l.value):s(l.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function iI(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function sI(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function oI(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function zl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function aI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wv(arguments[t]));return e}function cI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function ga(e){return this instanceof ga?(this.v=e,this):new ga(e)}function fI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(S){n[S]&&(s[S]=function(D){return new Promise(function(C,q){i.push([S,D,C,q])>1||o(S,D)})})}function o(S,D){try{f(n[S](D))}catch(C){v(i[0][3],C)}}function f(S){S.value instanceof ga?Promise.resolve(S.value.v).then(c,l):v(i[0][2],S)}function c(S){o("next",S)}function l(S){o("throw",S)}function v(S,D){S(D),i.shift(),i.length&&o(i[0][0],i[0][1])}}function uI(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:ga(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function lI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof zl=="function"?zl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,f){a=e[i](a),s(o,f,a.done,a.value)})}}function s(i,a,o,f){Promise.resolve(f).then(function(c){i({value:c,done:o})},a)}}function dI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function hI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function pI(e){return e&&e.__esModule?e:{default:e}}function gI(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function mI(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const bI=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Hl},__asyncDelegator:uI,__asyncGenerator:fI,__asyncValues:lI,__await:ga,__awaiter:nI,__classPrivateFieldGet:gI,__classPrivateFieldSet:mI,__createBinding:sI,__decorate:eI,__exportStar:oI,__extends:ZA,__generator:iI,__importDefault:pI,__importStar:hI,__makeTemplateObject:dI,__metadata:rI,__param:tI,__read:wv,__rest:QA,__spread:aI,__spreadArrays:cI,__values:zl},Symbol.toStringTag,{value:"Module"})),Lf=Ar(bI);var Lo={},Ve={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vl=function(e,t){return Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Vl(e,t)};function yI(e,t){Vl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Kl=function(){return Kl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Kl.apply(this,arguments)};function vI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function wI(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function _I(e,t){return function(r,n){t(r,n,e)}}function EI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xI(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(v){a(v)}}function f(l){try{c(n.throw(l))}catch(v){a(v)}}function c(l){l.done?i(l.value):s(l.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function SI(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function AI(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function II(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Gl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _v(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function TI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_v(arguments[t]));return e}function MI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function ma(e){return this instanceof ma?(this.v=e,this):new ma(e)}function CI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(S){n[S]&&(s[S]=function(D){return new Promise(function(C,q){i.push([S,D,C,q])>1||o(S,D)})})}function o(S,D){try{f(n[S](D))}catch(C){v(i[0][3],C)}}function f(S){S.value instanceof ma?Promise.resolve(S.value.v).then(c,l):v(i[0][2],S)}function c(S){o("next",S)}function l(S){o("throw",S)}function v(S,D){S(D),i.shift(),i.length&&o(i[0][0],i[0][1])}}function OI(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:ma(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function PI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Gl=="function"?Gl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,f){a=e[i](a),s(o,f,a.done,a.value)})}}function s(i,a,o,f){Promise.resolve(f).then(function(c){i({value:c,done:o})},a)}}function DI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function NI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function RI(e){return e&&e.__esModule?e:{default:e}}function BI(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function $I(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const UI=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Kl},__asyncDelegator:OI,__asyncGenerator:CI,__asyncValues:PI,__await:ma,__awaiter:xI,__classPrivateFieldGet:BI,__classPrivateFieldSet:$I,__createBinding:AI,__decorate:wI,__exportStar:II,__extends:yI,__generator:SI,__importDefault:RI,__importStar:NI,__makeTemplateObject:DI,__metadata:EI,__param:_I,__read:_v,__rest:vI,__spread:TI,__spreadArrays:MI,__values:Gl},Symbol.toStringTag,{value:"Module"})),Ff=Ar(UI);var Wu={},Fo={},i1;function LI(){if(i1)return Fo;i1=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Fo.delay=e,Fo}var Ji={},Yu={},Xi={},s1;function FI(){return s1||(s1=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.ONE_THOUSAND=Xi.ONE_HUNDRED=void 0,Xi.ONE_HUNDRED=100,Xi.ONE_THOUSAND=1e3),Xi}var Ju={},o1;function kI(){return o1||(o1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Ju)),Ju}var a1;function Ev(){return a1||(a1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ff;t.__exportStar(FI(),e),t.__exportStar(kI(),e)}(Yu)),Yu}var c1;function jI(){if(c1)return Ji;c1=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.fromMiliseconds=Ji.toMiliseconds=void 0;const e=Ev();function t(n){return n*e.ONE_THOUSAND}Ji.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return Ji.fromMiliseconds=r,Ji}var f1;function qI(){return f1||(f1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ff;t.__exportStar(LI(),e),t.__exportStar(jI(),e)}(Wu)),Wu}var Ds={},u1;function HI(){if(u1)return Ds;u1=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Ds.Watch=e,Ds.default=e,Ds}var Xu={},ko={},l1;function zI(){if(l1)return ko;l1=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.IWatch=void 0;class e{}return ko.IWatch=e,ko}var d1;function VI(){return d1||(d1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Ff.__exportStar(zI(),e)}(Xu)),Xu}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ff;t.__exportStar(qI(),e),t.__exportStar(HI(),e),t.__exportStar(VI(),e),t.__exportStar(Ev(),e)})(Ve);var Zu={},jo={};let ws=class{};const KI=Object.freeze(Object.defineProperty({__proto__:null,IEvents:ws},Symbol.toStringTag,{value:"Module"})),GI=Ar(KI);var h1;function WI(){if(h1)return jo;h1=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.IHeartBeat=void 0;const e=GI;class t extends e.IEvents{constructor(n){super()}}return jo.IHeartBeat=t,jo}var p1;function xv(){return p1||(p1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Lf.__exportStar(WI(),e)}(Zu)),Zu}var Qu={},Zi={},g1;function YI(){if(g1)return Zi;g1=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.HEARTBEAT_EVENTS=Zi.HEARTBEAT_INTERVAL=void 0;const e=Ve;return Zi.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Zi.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Zi}var m1;function Sv(){return m1||(m1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Lf.__exportStar(YI(),e)}(Qu)),Qu}var b1;function JI(){if(b1)return Lo;b1=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.HeartBeat=void 0;const e=Lf,t=un,r=Ve,n=xv(),s=Sv();class i extends n.IHeartBeat{constructor(o){super(o),this.events=new t.EventEmitter,this.interval=s.HEARTBEAT_INTERVAL,this.interval=(o==null?void 0:o.interval)||s.HEARTBEAT_INTERVAL}static init(o){return e.__awaiter(this,void 0,void 0,function*(){const f=new i(o);return yield f.init(),f})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(o,f){this.events.on(o,f)}once(o,f){this.events.once(o,f)}off(o,f){this.events.off(o,f)}removeListener(o,f){this.events.removeListener(o,f)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(s.HEARTBEAT_EVENTS.pulse)}}return Lo.HeartBeat=i,Lo}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Lf;t.__exportStar(JI(),e),t.__exportStar(xv(),e),t.__exportStar(Sv(),e)})(yo);var ct={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wl=function(e,t){return Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Wl(e,t)};function XI(e,t){Wl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yl=function(){return Yl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yl.apply(this,arguments)};function ZI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function QI(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function eT(e,t){return function(r,n){t(r,n,e)}}function tT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rT(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(v){a(v)}}function f(l){try{c(n.throw(l))}catch(v){a(v)}}function c(l){l.done?i(l.value):s(l.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function nT(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function iT(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function sT(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Jl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Av(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function oT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Av(arguments[t]));return e}function aT(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function ba(e){return this instanceof ba?(this.v=e,this):new ba(e)}function cT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(S){n[S]&&(s[S]=function(D){return new Promise(function(C,q){i.push([S,D,C,q])>1||o(S,D)})})}function o(S,D){try{f(n[S](D))}catch(C){v(i[0][3],C)}}function f(S){S.value instanceof ba?Promise.resolve(S.value.v).then(c,l):v(i[0][2],S)}function c(S){o("next",S)}function l(S){o("throw",S)}function v(S,D){S(D),i.shift(),i.length&&o(i[0][0],i[0][1])}}function fT(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:ba(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function uT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Jl=="function"?Jl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,f){a=e[i](a),s(o,f,a.done,a.value)})}}function s(i,a,o,f){Promise.resolve(f).then(function(c){i({value:c,done:o})},a)}}function lT(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function dT(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function hT(e){return e&&e.__esModule?e:{default:e}}function pT(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function gT(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const mT=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Yl},__asyncDelegator:fT,__asyncGenerator:cT,__asyncValues:uT,__await:ba,__awaiter:rT,__classPrivateFieldGet:pT,__classPrivateFieldSet:gT,__createBinding:iT,__decorate:QI,__exportStar:sT,__extends:XI,__generator:nT,__importDefault:hT,__importStar:dT,__makeTemplateObject:lT,__metadata:tT,__param:eT,__read:Av,__rest:ZI,__spread:oT,__spreadArrays:aT,__values:Jl},Symbol.toStringTag,{value:"Module"})),bT=Ar(mT);var el,y1;function yT(){if(y1)return el;y1=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}el=t;function t(r,n,s){var i=s&&s.stringify||e,a=1;if(typeof r=="object"&&r!==null){var o=n.length+a;if(o===1)return r;var f=new Array(o);f[0]=i(r);for(var c=1;c<o;c++)f[c]=i(n[c]);return f.join(" ")}if(typeof r!="string")return r;var l=n.length;if(l===0)return r;for(var v="",S=1-a,D=-1,C=r&&r.length||0,q=0;q<C;){if(r.charCodeAt(q)===37&&q+1<C){switch(D=D>-1?D:0,r.charCodeAt(q+1)){case 100:case 102:if(S>=l||n[S]==null)break;D<q&&(v+=r.slice(D,q)),v+=Number(n[S]),D=q+2,q++;break;case 105:if(S>=l||n[S]==null)break;D<q&&(v+=r.slice(D,q)),v+=Math.floor(Number(n[S])),D=q+2,q++;break;case 79:case 111:case 106:if(S>=l||n[S]===void 0)break;D<q&&(v+=r.slice(D,q));var H=typeof n[S];if(H==="string"){v+="'"+n[S]+"'",D=q+2,q++;break}if(H==="function"){v+=n[S].name||"<anonymous>",D=q+2,q++;break}v+=i(n[S]),D=q+2,q++;break;case 115:if(S>=l)break;D<q&&(v+=r.slice(D,q)),v+=String(n[S]),D=q+2,q++;break;case 37:D<q&&(v+=r.slice(D,q)),v+="%",D=q+2,q++,S--;break}++S}++q}return D===-1?r:(D<C&&(v+=r.slice(D)),v)}return el}var tl,v1;function vT(){if(v1)return tl;v1=1;const e=yT();tl=s;const t=z().console||{},r={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:q,wrapResponseSerializer:q,wrapErrorSerializer:q,req:C,res:C,err:S};function n(P,g){return Array.isArray(P)?P.filter(function(Y){return Y!=="!stdSerializers.err"}):P===!0?Object.keys(g):!1}function s(P){P=P||{},P.browser=P.browser||{};const g=P.browser.transmit;if(g&&typeof g.send!="function")throw Error("pino: transmit option must have a send function");const $=P.browser.write||t;P.browser.write&&(P.browser.asObject=!0);const Y=P.serializers||{},Q=n(P.browser.serialize,Y);let G=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(G=!1);const h=["error","fatal","warn","info","debug","trace"];typeof $=="function"&&($.error=$.fatal=$.warn=$.info=$.debug=$.trace=$),P.enabled===!1&&(P.level="silent");const m=P.level||"info",u=Object.create($);u.log||(u.log=H),Object.defineProperty(u,"levelVal",{get:A}),Object.defineProperty(u,"level",{get:x,set:O});const p={transmit:g,serialize:Q,asObject:P.browser.asObject,levels:h,timestamp:D(P)};u.levels=s.levels,u.level=m,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=H,u.serializers=Y,u._serialize=Q,u._stdErrSerialize=G,u.child=N,g&&(u._logEvent=v());function A(){return this.level==="silent"?1/0:this.levels.values[this.level]}function x(){return this._level}function O(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,i(p,u,"error","log"),i(p,u,"fatal","error"),i(p,u,"warn","error"),i(p,u,"info","log"),i(p,u,"debug","log"),i(p,u,"trace","log")}function N(w,I){if(!w)throw new Error("missing bindings for child Pino");I=I||{},Q&&w.serializers&&(I.serializers=w.serializers);const T=I.serializers;if(Q&&T){var k=Object.assign({},Y,T),ce=P.browser.serialize===!0?Object.keys(k):Q;delete w.serializers,f([w],ce,k,this._stdErrSerialize)}function fe(be){this._childLevel=(be._childLevel|0)+1,this.error=c(be,w,"error"),this.fatal=c(be,w,"fatal"),this.warn=c(be,w,"warn"),this.info=c(be,w,"info"),this.debug=c(be,w,"debug"),this.trace=c(be,w,"trace"),k&&(this.serializers=k,this._serialize=ce),g&&(this._logEvent=v([].concat(be._logEvent.bindings,w)))}return fe.prototype=this,new fe(this)}return u}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:Z,epochTime:W,unixTime:K,isoTime:B});function i(P,g,$,Y){const Q=Object.getPrototypeOf(g);g[$]=g.levelVal>g.levels.values[$]?H:Q[$]?Q[$]:t[$]||t[Y]||H,a(P,g,$)}function a(P,g,$){!P.transmit&&g[$]===H||(g[$]=function(Y){return function(){const G=P.timestamp(),h=new Array(arguments.length),m=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var u=0;u<h.length;u++)h[u]=arguments[u];if(P.serialize&&!P.asObject&&f(h,this._serialize,this.serializers,this._stdErrSerialize),P.asObject?Y.call(m,o(this,$,h,G)):Y.apply(m,h),P.transmit){const p=P.transmit.level||g.level,A=s.levels.values[p],x=s.levels.values[$];if(x<A)return;l(this,{ts:G,methodLevel:$,methodValue:x,transmitLevel:p,transmitValue:s.levels.values[P.transmit.level||g.level],send:P.transmit.send,val:g.levelVal},h)}}}(g[$]))}function o(P,g,$,Y){P._serialize&&f($,P._serialize,P.serializers,P._stdErrSerialize);const Q=$.slice();let G=Q[0];const h={};Y&&(h.time=Y),h.level=s.levels.values[g];let m=(P._childLevel|0)+1;if(m<1&&(m=1),G!==null&&typeof G=="object"){for(;m--&&typeof Q[0]=="object";)Object.assign(h,Q.shift());G=Q.length?e(Q.shift(),Q):void 0}else typeof G=="string"&&(G=e(Q.shift(),Q));return G!==void 0&&(h.msg=G),h}function f(P,g,$,Y){for(const Q in P)if(Y&&P[Q]instanceof Error)P[Q]=s.stdSerializers.err(P[Q]);else if(typeof P[Q]=="object"&&!Array.isArray(P[Q]))for(const G in P[Q])g&&g.indexOf(G)>-1&&G in $&&(P[Q][G]=$[G](P[Q][G]))}function c(P,g,$){return function(){const Y=new Array(1+arguments.length);Y[0]=g;for(var Q=1;Q<Y.length;Q++)Y[Q]=arguments[Q-1];return P[$].apply(this,Y)}}function l(P,g,$){const Y=g.send,Q=g.ts,G=g.methodLevel,h=g.methodValue,m=g.val,u=P._logEvent.bindings;f($,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=Q,P._logEvent.messages=$.filter(function(p){return u.indexOf(p)===-1}),P._logEvent.level.label=G,P._logEvent.level.value=h,Y(G,P._logEvent,m),P._logEvent=v(u)}function v(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function S(P){const g={type:P.constructor.name,msg:P.message,stack:P.stack};for(const $ in P)g[$]===void 0&&(g[$]=P[$]);return g}function D(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?Z:W}function C(){return{}}function q(P){return P}function H(){}function Z(){return!1}function W(){return Date.now()}function K(){return Math.round(Date.now()/1e3)}function B(){return new Date(Date.now()).toISOString()}function z(){function P(g){return typeof g<"u"&&g}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return tl}var Qi={},w1;function Iv(){return w1||(w1=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.PINO_CUSTOM_CONTEXT_KEY=Qi.PINO_LOGGER_DEFAULTS=void 0,Qi.PINO_LOGGER_DEFAULTS={level:"info"},Qi.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Qi}var ur={},_1;function wT(){if(_1)return ur;_1=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.generateChildLogger=ur.formatChildLoggerContext=ur.getLoggerContext=ur.setBrowserLoggerContext=ur.getBrowserLoggerContext=ur.getDefaultLoggerOptions=void 0;const e=Iv();function t(o){return Object.assign(Object.assign({},o),{level:(o==null?void 0:o.level)||e.PINO_LOGGER_DEFAULTS.level})}ur.getDefaultLoggerOptions=t;function r(o,f=e.PINO_CUSTOM_CONTEXT_KEY){return o[f]||""}ur.getBrowserLoggerContext=r;function n(o,f,c=e.PINO_CUSTOM_CONTEXT_KEY){return o[c]=f,o}ur.setBrowserLoggerContext=n;function s(o,f=e.PINO_CUSTOM_CONTEXT_KEY){let c="";return typeof o.bindings>"u"?c=r(o,f):c=o.bindings().context||"",c}ur.getLoggerContext=s;function i(o,f,c=e.PINO_CUSTOM_CONTEXT_KEY){const l=s(o,c);return l.trim()?`${l}/${f}`:f}ur.formatChildLoggerContext=i;function a(o,f,c=e.PINO_CUSTOM_CONTEXT_KEY){const l=i(o,f,c),v=o.child({context:l});return n(v,l,c)}return ur.generateChildLogger=a,ur}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const t=bT,r=t.__importDefault(vT());Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return r.default}}),t.__exportStar(Iv(),e),t.__exportStar(wT(),e)})(ct);let _T=class extends ws{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},ET=class extends ws{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},xT=class{constructor(t,r){this.logger=t,this.core=r}},ST=class extends ws{constructor(t,r){super(),this.relayer=t,this.logger=r}},AT=class extends ws{constructor(t){super()}},IT=class{constructor(t,r,n,s){this.core=t,this.logger=r,this.name=n}},TT=class extends ws{constructor(t,r){super(),this.relayer=t,this.logger=r}},MT=class extends ws{constructor(t,r){super(),this.core=t,this.logger=r}},CT=class{constructor(t,r){this.projectId=t,this.logger=r}},OT=class{constructor(t,r){this.projectId=t,this.logger=r}},PT=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},DT=class{constructor(t){this.client=t}};var yd={},vo={},kf={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.BrowserRandomSource=void 0;const E1=65536;class NT{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=E1)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,E1)));return r}}jf.BrowserRandomSource=NT;function RT(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qf={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});function BT(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Br.wipe=BT;Object.defineProperty(qf,"__esModule",{value:!0});qf.NodeRandomSource=void 0;const $T=Br;class UT{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof RT<"u"){const t=an;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=r[s];return(0,$T.wipe)(r),n}}qf.NodeRandomSource=UT;Object.defineProperty(kf,"__esModule",{value:!0});kf.SystemRandomSource=void 0;const LT=jf,FT=qf;class kT{constructor(){if(this.isAvailable=!1,this.name="",this._source=new LT.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new FT.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}kf.SystemRandomSource=kT;var tt={},Tv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(o,f){var c=o>>>16&65535,l=o&65535,v=f>>>16&65535,S=f&65535;return l*S+(c*S+l*v<<16>>>0)|0}e.mul=Math.imul||t;function r(o,f){return o+f|0}e.add=r;function n(o,f){return o-f|0}e.sub=n;function s(o,f){return o<<f|o>>>32-f}e.rotl=s;function i(o,f){return o<<32-f|o>>>f}e.rotr=i;function a(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}e.isInteger=Number.isInteger||a,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(o){return e.isInteger(o)&&o>=-e.MAX_SAFE_INTEGER&&o<=e.MAX_SAFE_INTEGER}})(Tv);Object.defineProperty(tt,"__esModule",{value:!0});var Mv=Tv;function jT(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}tt.readInt16BE=jT;function qT(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}tt.readUint16BE=qT;function HT(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}tt.readInt16LE=HT;function zT(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}tt.readUint16LE=zT;function Cv(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}tt.writeUint16BE=Cv;tt.writeInt16BE=Cv;function Ov(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}tt.writeUint16LE=Ov;tt.writeInt16LE=Ov;function Xl(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}tt.readInt32BE=Xl;function Zl(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}tt.readUint32BE=Zl;function Ql(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}tt.readInt32LE=Ql;function e0(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}tt.readUint32LE=e0;function jc(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}tt.writeUint32BE=jc;tt.writeInt32BE=jc;function qc(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}tt.writeUint32LE=qc;tt.writeInt32LE=qc;function VT(e,t){t===void 0&&(t=0);var r=Xl(e,t),n=Xl(e,t+4);return r*4294967296+n-(n>>31)*4294967296}tt.readInt64BE=VT;function KT(e,t){t===void 0&&(t=0);var r=Zl(e,t),n=Zl(e,t+4);return r*4294967296+n}tt.readUint64BE=KT;function GT(e,t){t===void 0&&(t=0);var r=Ql(e,t),n=Ql(e,t+4);return n*4294967296+r-(r>>31)*4294967296}tt.readInt64LE=GT;function WT(e,t){t===void 0&&(t=0);var r=e0(e,t),n=e0(e,t+4);return n*4294967296+r}tt.readUint64LE=WT;function Pv(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),jc(e/4294967296>>>0,t,r),jc(e>>>0,t,r+4),t}tt.writeUint64BE=Pv;tt.writeInt64BE=Pv;function Dv(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),qc(e>>>0,t,r),qc(e/4294967296>>>0,t,r+4),t}tt.writeUint64LE=Dv;tt.writeInt64LE=Dv;function YT(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,i=e/8+r-1;i>=r;i--)n+=t[i]*s,s*=256;return n}tt.readUintBE=YT;function JT(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,i=r;i<r+e/8;i++)n+=t[i]*s,s*=256;return n}tt.readUintLE=JT;function XT(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Mv.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var s=1,i=e/8+n-1;i>=n;i--)r[i]=t/s&255,s*=256;return r}tt.writeUintBE=XT;function ZT(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Mv.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var s=1,i=n;i<n+e/8;i++)r[i]=t/s&255,s*=256;return r}tt.writeUintLE=ZT;function QT(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}tt.readFloat32BE=QT;function eM(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}tt.readFloat32LE=eM;function tM(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}tt.readFloat64BE=tM;function rM(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}tt.readFloat64LE=rM;function nM(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}tt.writeFloat32BE=nM;function iM(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}tt.writeFloat32LE=iM;function sM(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}tt.writeFloat64BE=sM;function oM(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}tt.writeFloat64LE=oM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=kf,r=tt,n=Br;e.defaultRandomSource=new t.SystemRandomSource;function s(c,l=e.defaultRandomSource){return l.randomBytes(c)}e.randomBytes=s;function i(c=e.defaultRandomSource){const l=s(4,c),v=(0,r.readUint32LE)(l);return(0,n.wipe)(l),v}e.randomUint32=i;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(c,l=a,v=e.defaultRandomSource){if(l.length<2)throw new Error("randomString charset is too short");if(l.length>256)throw new Error("randomString charset is too long");let S="";const D=l.length,C=256-256%D;for(;c>0;){const q=s(Math.ceil(c*256/C),v);for(let H=0;H<q.length&&c>0;H++){const Z=q[H];Z<C&&(S+=l.charAt(Z%D),c--)}(0,n.wipe)(q)}return S}e.randomString=o;function f(c,l=a,v=e.defaultRandomSource){const S=Math.ceil(c/(Math.log(l.length)/Math.LN2));return o(S,l,v)}e.randomStringForEntropy=f})(vo);var Nv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=tt,r=Br;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function o(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=f[l++],c--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[l++],c--;return this},o.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,v=c/536870912|0,S=c<<3,D=c%128<112?128:256;this._buffer[l]=128;for(var C=l+1;C<D-8;C++)this._buffer[C]=0;t.writeUint32BE(v,this._buffer,D-8),t.writeUint32BE(S,this._buffer,D-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,D),this._finished=!0}for(var C=0;C<this.digestLength/8;C++)t.writeUint32BE(this._stateHi[C],f,C*8),t.writeUint32BE(this._stateLo[C],f,C*8+4);return this},o.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(f){r.wipe(f.stateHi),r.wipe(f.stateLo),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},o}();e.SHA512=n;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(o,f,c,l,v,S,D){for(var C=c[0],q=c[1],H=c[2],Z=c[3],W=c[4],K=c[5],B=c[6],z=c[7],P=l[0],g=l[1],$=l[2],Y=l[3],Q=l[4],G=l[5],h=l[6],m=l[7],u,p,A,x,O,N,w,I;D>=128;){for(var T=0;T<16;T++){var k=8*T+S;o[T]=t.readUint32BE(v,k),f[T]=t.readUint32BE(v,k+4)}for(var T=0;T<80;T++){var ce=C,fe=q,be=H,he=Z,pe=W,le=K,y=B,F=z,re=P,j=g,J=$,te=Y,R=Q,_=G,E=h,L=m;if(u=z,p=m,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=(W>>>14|Q<<18)^(W>>>18|Q<<14)^(Q>>>9|W<<23),p=(Q>>>14|W<<18)^(Q>>>18|W<<14)^(W>>>9|Q<<23),O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,u=W&K^~W&B,p=Q&G^~Q&h,O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,u=s[T*2],p=s[T*2+1],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,u=o[T%16],p=f[T%16],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,A=w&65535|I<<16,x=O&65535|N<<16,u=A,p=x,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=(C>>>28|P<<4)^(P>>>2|C<<30)^(P>>>7|C<<25),p=(P>>>28|C<<4)^(C>>>2|P<<30)^(C>>>7|P<<25),O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,u=C&q^C&H^q&H,p=P&g^P&$^g&$,O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,F=w&65535|I<<16,L=O&65535|N<<16,u=he,p=te,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=A,p=x,O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,he=w&65535|I<<16,te=O&65535|N<<16,q=ce,H=fe,Z=be,W=he,K=pe,B=le,z=y,C=F,g=re,$=j,Y=J,Q=te,G=R,h=_,m=E,P=L,T%16===15)for(var k=0;k<16;k++)u=o[k],p=f[k],O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=o[(k+9)%16],p=f[(k+9)%16],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,A=o[(k+1)%16],x=f[(k+1)%16],u=(A>>>1|x<<31)^(A>>>8|x<<24)^A>>>7,p=(x>>>1|A<<31)^(x>>>8|A<<24)^(x>>>7|A<<25),O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,A=o[(k+14)%16],x=f[(k+14)%16],u=(A>>>19|x<<13)^(x>>>29|A<<3)^A>>>6,p=(x>>>19|A<<13)^(A>>>29|x<<3)^(x>>>6|A<<26),O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,o[k]=w&65535|I<<16,f[k]=O&65535|N<<16}u=C,p=P,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[0],p=l[0],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[0]=C=w&65535|I<<16,l[0]=P=O&65535|N<<16,u=q,p=g,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[1],p=l[1],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[1]=q=w&65535|I<<16,l[1]=g=O&65535|N<<16,u=H,p=$,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[2],p=l[2],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[2]=H=w&65535|I<<16,l[2]=$=O&65535|N<<16,u=Z,p=Y,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[3],p=l[3],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[3]=Z=w&65535|I<<16,l[3]=Y=O&65535|N<<16,u=W,p=Q,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[4],p=l[4],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[4]=W=w&65535|I<<16,l[4]=Q=O&65535|N<<16,u=K,p=G,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[5],p=l[5],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[5]=K=w&65535|I<<16,l[5]=G=O&65535|N<<16,u=B,p=h,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[6],p=l[6],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[6]=B=w&65535|I<<16,l[6]=h=O&65535|N<<16,u=z,p=m,O=p&65535,N=p>>>16,w=u&65535,I=u>>>16,u=c[7],p=l[7],O+=p&65535,N+=p>>>16,w+=u&65535,I+=u>>>16,N+=O>>>16,w+=N>>>16,I+=w>>>16,c[7]=z=w&65535|I<<16,l[7]=m=O&65535|N<<16,S+=128,D-=128}return S}function a(o){var f=new n;f.update(o);var c=f.digest();return f.clean(),c}e.hash=a})(Nv);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=vo,r=Nv,n=Br;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function s(he){const pe=new Float64Array(16);if(he)for(let le=0;le<he.length;le++)pe[le]=he[le];return pe}const i=new Uint8Array(32);i[0]=9;const a=s(),o=s([1]),f=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function D(he,pe){for(let le=0;le<16;le++)he[le]=pe[le]|0}function C(he){let pe=1;for(let le=0;le<16;le++){let y=he[le]+pe+65535;pe=Math.floor(y/65536),he[le]=y-pe*65536}he[0]+=pe-1+37*(pe-1)}function q(he,pe,le){const y=~(le-1);for(let F=0;F<16;F++){const re=y&(he[F]^pe[F]);he[F]^=re,pe[F]^=re}}function H(he,pe){const le=s(),y=s();for(let F=0;F<16;F++)y[F]=pe[F];C(y),C(y),C(y);for(let F=0;F<2;F++){le[0]=y[0]-65517;for(let j=1;j<15;j++)le[j]=y[j]-65535-(le[j-1]>>16&1),le[j-1]&=65535;le[15]=y[15]-32767-(le[14]>>16&1);const re=le[15]>>16&1;le[14]&=65535,q(y,le,1-re)}for(let F=0;F<16;F++)he[2*F]=y[F]&255,he[2*F+1]=y[F]>>8}function Z(he,pe){let le=0;for(let y=0;y<32;y++)le|=he[y]^pe[y];return(1&le-1>>>8)-1}function W(he,pe){const le=new Uint8Array(32),y=new Uint8Array(32);return H(le,he),H(y,pe),Z(le,y)}function K(he){const pe=new Uint8Array(32);return H(pe,he),pe[0]&1}function B(he,pe){for(let le=0;le<16;le++)he[le]=pe[2*le]+(pe[2*le+1]<<8);he[15]&=32767}function z(he,pe,le){for(let y=0;y<16;y++)he[y]=pe[y]+le[y]}function P(he,pe,le){for(let y=0;y<16;y++)he[y]=pe[y]-le[y]}function g(he,pe,le){let y,F,re=0,j=0,J=0,te=0,R=0,_=0,E=0,L=0,V=0,ee=0,ie=0,me=0,ye=0,ve=0,Se=0,M=0,d=0,b=0,U=0,X=0,se=0,oe=0,_e=0,xe=0,Ae=0,Me=0,De=0,Le=0,Ze=0,it=0,je=0,qe=le[0],Ge=le[1],ae=le[2],ne=le[3],ue=le[4],ge=le[5],Ee=le[6],Ie=le[7],Te=le[8],Ce=le[9],Re=le[10],Oe=le[11],$e=le[12],Ue=le[13],Ne=le[14],Ke=le[15];y=pe[0],re+=y*qe,j+=y*Ge,J+=y*ae,te+=y*ne,R+=y*ue,_+=y*ge,E+=y*Ee,L+=y*Ie,V+=y*Te,ee+=y*Ce,ie+=y*Re,me+=y*Oe,ye+=y*$e,ve+=y*Ue,Se+=y*Ne,M+=y*Ke,y=pe[1],j+=y*qe,J+=y*Ge,te+=y*ae,R+=y*ne,_+=y*ue,E+=y*ge,L+=y*Ee,V+=y*Ie,ee+=y*Te,ie+=y*Ce,me+=y*Re,ye+=y*Oe,ve+=y*$e,Se+=y*Ue,M+=y*Ne,d+=y*Ke,y=pe[2],J+=y*qe,te+=y*Ge,R+=y*ae,_+=y*ne,E+=y*ue,L+=y*ge,V+=y*Ee,ee+=y*Ie,ie+=y*Te,me+=y*Ce,ye+=y*Re,ve+=y*Oe,Se+=y*$e,M+=y*Ue,d+=y*Ne,b+=y*Ke,y=pe[3],te+=y*qe,R+=y*Ge,_+=y*ae,E+=y*ne,L+=y*ue,V+=y*ge,ee+=y*Ee,ie+=y*Ie,me+=y*Te,ye+=y*Ce,ve+=y*Re,Se+=y*Oe,M+=y*$e,d+=y*Ue,b+=y*Ne,U+=y*Ke,y=pe[4],R+=y*qe,_+=y*Ge,E+=y*ae,L+=y*ne,V+=y*ue,ee+=y*ge,ie+=y*Ee,me+=y*Ie,ye+=y*Te,ve+=y*Ce,Se+=y*Re,M+=y*Oe,d+=y*$e,b+=y*Ue,U+=y*Ne,X+=y*Ke,y=pe[5],_+=y*qe,E+=y*Ge,L+=y*ae,V+=y*ne,ee+=y*ue,ie+=y*ge,me+=y*Ee,ye+=y*Ie,ve+=y*Te,Se+=y*Ce,M+=y*Re,d+=y*Oe,b+=y*$e,U+=y*Ue,X+=y*Ne,se+=y*Ke,y=pe[6],E+=y*qe,L+=y*Ge,V+=y*ae,ee+=y*ne,ie+=y*ue,me+=y*ge,ye+=y*Ee,ve+=y*Ie,Se+=y*Te,M+=y*Ce,d+=y*Re,b+=y*Oe,U+=y*$e,X+=y*Ue,se+=y*Ne,oe+=y*Ke,y=pe[7],L+=y*qe,V+=y*Ge,ee+=y*ae,ie+=y*ne,me+=y*ue,ye+=y*ge,ve+=y*Ee,Se+=y*Ie,M+=y*Te,d+=y*Ce,b+=y*Re,U+=y*Oe,X+=y*$e,se+=y*Ue,oe+=y*Ne,_e+=y*Ke,y=pe[8],V+=y*qe,ee+=y*Ge,ie+=y*ae,me+=y*ne,ye+=y*ue,ve+=y*ge,Se+=y*Ee,M+=y*Ie,d+=y*Te,b+=y*Ce,U+=y*Re,X+=y*Oe,se+=y*$e,oe+=y*Ue,_e+=y*Ne,xe+=y*Ke,y=pe[9],ee+=y*qe,ie+=y*Ge,me+=y*ae,ye+=y*ne,ve+=y*ue,Se+=y*ge,M+=y*Ee,d+=y*Ie,b+=y*Te,U+=y*Ce,X+=y*Re,se+=y*Oe,oe+=y*$e,_e+=y*Ue,xe+=y*Ne,Ae+=y*Ke,y=pe[10],ie+=y*qe,me+=y*Ge,ye+=y*ae,ve+=y*ne,Se+=y*ue,M+=y*ge,d+=y*Ee,b+=y*Ie,U+=y*Te,X+=y*Ce,se+=y*Re,oe+=y*Oe,_e+=y*$e,xe+=y*Ue,Ae+=y*Ne,Me+=y*Ke,y=pe[11],me+=y*qe,ye+=y*Ge,ve+=y*ae,Se+=y*ne,M+=y*ue,d+=y*ge,b+=y*Ee,U+=y*Ie,X+=y*Te,se+=y*Ce,oe+=y*Re,_e+=y*Oe,xe+=y*$e,Ae+=y*Ue,Me+=y*Ne,De+=y*Ke,y=pe[12],ye+=y*qe,ve+=y*Ge,Se+=y*ae,M+=y*ne,d+=y*ue,b+=y*ge,U+=y*Ee,X+=y*Ie,se+=y*Te,oe+=y*Ce,_e+=y*Re,xe+=y*Oe,Ae+=y*$e,Me+=y*Ue,De+=y*Ne,Le+=y*Ke,y=pe[13],ve+=y*qe,Se+=y*Ge,M+=y*ae,d+=y*ne,b+=y*ue,U+=y*ge,X+=y*Ee,se+=y*Ie,oe+=y*Te,_e+=y*Ce,xe+=y*Re,Ae+=y*Oe,Me+=y*$e,De+=y*Ue,Le+=y*Ne,Ze+=y*Ke,y=pe[14],Se+=y*qe,M+=y*Ge,d+=y*ae,b+=y*ne,U+=y*ue,X+=y*ge,se+=y*Ee,oe+=y*Ie,_e+=y*Te,xe+=y*Ce,Ae+=y*Re,Me+=y*Oe,De+=y*$e,Le+=y*Ue,Ze+=y*Ne,it+=y*Ke,y=pe[15],M+=y*qe,d+=y*Ge,b+=y*ae,U+=y*ne,X+=y*ue,se+=y*ge,oe+=y*Ee,_e+=y*Ie,xe+=y*Te,Ae+=y*Ce,Me+=y*Re,De+=y*Oe,Le+=y*$e,Ze+=y*Ue,it+=y*Ne,je+=y*Ke,re+=38*d,j+=38*b,J+=38*U,te+=38*X,R+=38*se,_+=38*oe,E+=38*_e,L+=38*xe,V+=38*Ae,ee+=38*Me,ie+=38*De,me+=38*Le,ye+=38*Ze,ve+=38*it,Se+=38*je,F=1,y=re+F+65535,F=Math.floor(y/65536),re=y-F*65536,y=j+F+65535,F=Math.floor(y/65536),j=y-F*65536,y=J+F+65535,F=Math.floor(y/65536),J=y-F*65536,y=te+F+65535,F=Math.floor(y/65536),te=y-F*65536,y=R+F+65535,F=Math.floor(y/65536),R=y-F*65536,y=_+F+65535,F=Math.floor(y/65536),_=y-F*65536,y=E+F+65535,F=Math.floor(y/65536),E=y-F*65536,y=L+F+65535,F=Math.floor(y/65536),L=y-F*65536,y=V+F+65535,F=Math.floor(y/65536),V=y-F*65536,y=ee+F+65535,F=Math.floor(y/65536),ee=y-F*65536,y=ie+F+65535,F=Math.floor(y/65536),ie=y-F*65536,y=me+F+65535,F=Math.floor(y/65536),me=y-F*65536,y=ye+F+65535,F=Math.floor(y/65536),ye=y-F*65536,y=ve+F+65535,F=Math.floor(y/65536),ve=y-F*65536,y=Se+F+65535,F=Math.floor(y/65536),Se=y-F*65536,y=M+F+65535,F=Math.floor(y/65536),M=y-F*65536,re+=F-1+37*(F-1),F=1,y=re+F+65535,F=Math.floor(y/65536),re=y-F*65536,y=j+F+65535,F=Math.floor(y/65536),j=y-F*65536,y=J+F+65535,F=Math.floor(y/65536),J=y-F*65536,y=te+F+65535,F=Math.floor(y/65536),te=y-F*65536,y=R+F+65535,F=Math.floor(y/65536),R=y-F*65536,y=_+F+65535,F=Math.floor(y/65536),_=y-F*65536,y=E+F+65535,F=Math.floor(y/65536),E=y-F*65536,y=L+F+65535,F=Math.floor(y/65536),L=y-F*65536,y=V+F+65535,F=Math.floor(y/65536),V=y-F*65536,y=ee+F+65535,F=Math.floor(y/65536),ee=y-F*65536,y=ie+F+65535,F=Math.floor(y/65536),ie=y-F*65536,y=me+F+65535,F=Math.floor(y/65536),me=y-F*65536,y=ye+F+65535,F=Math.floor(y/65536),ye=y-F*65536,y=ve+F+65535,F=Math.floor(y/65536),ve=y-F*65536,y=Se+F+65535,F=Math.floor(y/65536),Se=y-F*65536,y=M+F+65535,F=Math.floor(y/65536),M=y-F*65536,re+=F-1+37*(F-1),he[0]=re,he[1]=j,he[2]=J,he[3]=te,he[4]=R,he[5]=_,he[6]=E,he[7]=L,he[8]=V,he[9]=ee,he[10]=ie,he[11]=me,he[12]=ye,he[13]=ve,he[14]=Se,he[15]=M}function $(he,pe){g(he,pe,pe)}function Y(he,pe){const le=s();let y;for(y=0;y<16;y++)le[y]=pe[y];for(y=253;y>=0;y--)$(le,le),y!==2&&y!==4&&g(le,le,pe);for(y=0;y<16;y++)he[y]=le[y]}function Q(he,pe){const le=s();let y;for(y=0;y<16;y++)le[y]=pe[y];for(y=250;y>=0;y--)$(le,le),y!==1&&g(le,le,pe);for(y=0;y<16;y++)he[y]=le[y]}function G(he,pe){const le=s(),y=s(),F=s(),re=s(),j=s(),J=s(),te=s(),R=s(),_=s();P(le,he[1],he[0]),P(_,pe[1],pe[0]),g(le,le,_),z(y,he[0],he[1]),z(_,pe[0],pe[1]),g(y,y,_),g(F,he[3],pe[3]),g(F,F,c),g(re,he[2],pe[2]),z(re,re,re),P(j,y,le),P(J,re,F),z(te,re,F),z(R,y,le),g(he[0],j,J),g(he[1],R,te),g(he[2],te,J),g(he[3],j,R)}function h(he,pe,le){for(let y=0;y<4;y++)q(he[y],pe[y],le)}function m(he,pe){const le=s(),y=s(),F=s();Y(F,pe[2]),g(le,pe[0],F),g(y,pe[1],F),H(he,y),he[31]^=K(le)<<7}function u(he,pe,le){D(he[0],a),D(he[1],o),D(he[2],o),D(he[3],a);for(let y=255;y>=0;--y){const F=le[y/8|0]>>(y&7)&1;h(he,pe,F),G(pe,he),G(he,he),h(he,pe,F)}}function p(he,pe){const le=[s(),s(),s(),s()];D(le[0],l),D(le[1],v),D(le[2],o),g(le[3],l,v),u(he,le,pe)}function A(he){if(he.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const pe=(0,r.hash)(he);pe[0]&=248,pe[31]&=127,pe[31]|=64;const le=new Uint8Array(32),y=[s(),s(),s(),s()];p(y,pe),m(le,y);const F=new Uint8Array(64);return F.set(he),F.set(le,32),{publicKey:le,secretKey:F}}e.generateKeyPairFromSeed=A;function x(he){const pe=(0,t.randomBytes)(32,he),le=A(pe);return(0,n.wipe)(pe),le}e.generateKeyPair=x;function O(he){if(he.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(he.subarray(32))}e.extractPublicKeyFromSecretKey=O;const N=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function w(he,pe){let le,y,F,re;for(y=63;y>=32;--y){for(le=0,F=y-32,re=y-12;F<re;++F)pe[F]+=le-16*pe[y]*N[F-(y-32)],le=Math.floor((pe[F]+128)/256),pe[F]-=le*256;pe[F]+=le,pe[y]=0}for(le=0,F=0;F<32;F++)pe[F]+=le-(pe[31]>>4)*N[F],le=pe[F]>>8,pe[F]&=255;for(F=0;F<32;F++)pe[F]-=le*N[F];for(y=0;y<32;y++)pe[y+1]+=pe[y]>>8,he[y]=pe[y]&255}function I(he){const pe=new Float64Array(64);for(let le=0;le<64;le++)pe[le]=he[le];for(let le=0;le<64;le++)he[le]=0;w(he,pe)}function T(he,pe){const le=new Float64Array(64),y=[s(),s(),s(),s()],F=(0,r.hash)(he.subarray(0,32));F[0]&=248,F[31]&=127,F[31]|=64;const re=new Uint8Array(64);re.set(F.subarray(32),32);const j=new r.SHA512;j.update(re.subarray(32)),j.update(pe);const J=j.digest();j.clean(),I(J),p(y,J),m(re,y),j.reset(),j.update(re.subarray(0,32)),j.update(he.subarray(32)),j.update(pe);const te=j.digest();I(te);for(let R=0;R<32;R++)le[R]=J[R];for(let R=0;R<32;R++)for(let _=0;_<32;_++)le[R+_]+=te[R]*F[_];return w(re.subarray(32),le),re}e.sign=T;function k(he,pe){const le=s(),y=s(),F=s(),re=s(),j=s(),J=s(),te=s();return D(he[2],o),B(he[1],pe),$(F,he[1]),g(re,F,f),P(F,F,he[2]),z(re,he[2],re),$(j,re),$(J,j),g(te,J,j),g(le,te,F),g(le,le,re),Q(le,le),g(le,le,F),g(le,le,re),g(le,le,re),g(he[0],le,re),$(y,he[0]),g(y,y,re),W(y,F)&&g(he[0],he[0],S),$(y,he[0]),g(y,y,re),W(y,F)?-1:(K(he[0])===pe[31]>>7&&P(he[0],a,he[0]),g(he[3],he[0],he[1]),0)}function ce(he,pe,le){const y=new Uint8Array(32),F=[s(),s(),s(),s()],re=[s(),s(),s(),s()];if(le.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(k(re,he))return!1;const j=new r.SHA512;j.update(le.subarray(0,32)),j.update(he),j.update(pe);const J=j.digest();return I(J),u(F,re,J),p(re,le.subarray(32)),G(F,re),m(y,F),!Z(le,y)}e.verify=ce;function fe(he){let pe=[s(),s(),s(),s()];if(k(pe,he))throw new Error("Ed25519: invalid public key");let le=s(),y=s(),F=pe[1];z(le,o,F),P(y,o,F),Y(y,y),g(le,le,y);let re=new Uint8Array(32);return H(re,le),re}e.convertPublicKeyToX25519=fe;function be(he){const pe=(0,r.hash)(he.subarray(0,32));pe[0]&=248,pe[31]&=127,pe[31]|=64;const le=new Uint8Array(pe.subarray(0,32));return(0,n.wipe)(pe),le}e.convertSecretKeyToX25519=be})(yd);const aM="EdDSA",cM="JWT",Rv=".",Bv="base64url",fM="utf8",uM="utf8",lM=":",dM="did",hM="key",x1="base58btc",pM="z",gM="K36",mM=32;function vd(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function $v(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?vd(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function t0(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const r=$v(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return vd(r)}function bM(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=e.length,f=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function v(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var q=0,H=0,Z=0,W=C.length;Z!==W&&C[Z]===0;)Z++,q++;for(var K=(W-Z)*l+1>>>0,B=new Uint8Array(K);Z!==W;){for(var z=C[Z],P=0,g=K-1;(z!==0||P<H)&&g!==-1;g--,P++)z+=256*B[g]>>>0,B[g]=z%o>>>0,z=z/o>>>0;if(z!==0)throw new Error("Non-zero carry");H=P,Z++}for(var $=K-H;$!==K&&B[$]===0;)$++;for(var Y=f.repeat(q);$<K;++$)Y+=e.charAt(B[$]);return Y}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var q=0;if(C[q]!==" "){for(var H=0,Z=0;C[q]===f;)H++,q++;for(var W=(C.length-q)*c+1>>>0,K=new Uint8Array(W);C[q];){var B=r[C.charCodeAt(q)];if(B===255)return;for(var z=0,P=W-1;(B!==0||z<Z)&&P!==-1;P--,z++)B+=o*K[P]>>>0,K[P]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");Z=z,q++}if(C[q]!==" "){for(var g=W-Z;g!==W&&K[g]===0;)g++;for(var $=new Uint8Array(H+(W-g)),Y=H;g!==W;)$[Y++]=K[g++];return $}}}function D(C){var q=S(C);if(q)return q;throw new Error(`Non-${t} character`)}return{encode:v,decodeUnsafe:S,decode:D}}var yM=bM,vM=yM;const wM=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},_M=e=>new TextEncoder().encode(e),EM=e=>new TextDecoder().decode(e);class xM{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class SM{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Uv(this,t)}}class AM{constructor(t){this.decoders=t}or(t){return Uv(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Uv=(e,t)=>new AM({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class IM{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new xM(t,r,n),this.decoder=new SM(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Hf=({name:e,prefix:t,encode:r,decode:n})=>new IM(e,t,r,n),La=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:s}=vM(r,t);return Hf({prefix:e,name:t,encode:n,decode:i=>wM(s(i))})},TM=(e,t,r,n)=>{const s={};for(let l=0;l<t.length;++l)s[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,f=0,c=0;for(let l=0;l<i;++l){const v=s[e[l]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|v,o+=r,o>=8&&(o-=8,a[c++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return a},MM=(e,t,r)=>{const n=t[t.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let f=0;f<e.length;++f)for(o=o<<8|e[f],a+=8;a>r;)a-=r,i+=t[s&o>>a];if(a&&(i+=t[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},Xt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Hf({prefix:t,name:e,encode(s){return MM(s,n,r)},decode(s){return TM(s,n,r,e)}}),CM=Hf({prefix:"\0",name:"identity",encode:e=>EM(e),decode:e=>_M(e)}),OM=Object.freeze(Object.defineProperty({__proto__:null,identity:CM},Symbol.toStringTag,{value:"Module"})),PM=Xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),DM=Object.freeze(Object.defineProperty({__proto__:null,base2:PM},Symbol.toStringTag,{value:"Module"})),NM=Xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),RM=Object.freeze(Object.defineProperty({__proto__:null,base8:NM},Symbol.toStringTag,{value:"Module"})),BM=La({prefix:"9",name:"base10",alphabet:"0123456789"}),$M=Object.freeze(Object.defineProperty({__proto__:null,base10:BM},Symbol.toStringTag,{value:"Module"})),UM=Xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),LM=Xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),FM=Object.freeze(Object.defineProperty({__proto__:null,base16:UM,base16upper:LM},Symbol.toStringTag,{value:"Module"})),kM=Xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jM=Xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qM=Xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),HM=Xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zM=Xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VM=Xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),KM=Xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),GM=Xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WM=Xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),YM=Object.freeze(Object.defineProperty({__proto__:null,base32:kM,base32hex:zM,base32hexpad:KM,base32hexpadupper:GM,base32hexupper:VM,base32pad:qM,base32padupper:HM,base32upper:jM,base32z:WM},Symbol.toStringTag,{value:"Module"})),JM=La({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),XM=La({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ZM=Object.freeze(Object.defineProperty({__proto__:null,base36:JM,base36upper:XM},Symbol.toStringTag,{value:"Module"})),QM=La({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eC=La({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),tC=Object.freeze(Object.defineProperty({__proto__:null,base58btc:QM,base58flickr:eC},Symbol.toStringTag,{value:"Module"})),rC=Xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nC=Xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),iC=Xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sC=Xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),oC=Object.freeze(Object.defineProperty({__proto__:null,base64:rC,base64pad:nC,base64url:iC,base64urlpad:sC},Symbol.toStringTag,{value:"Module"})),Lv=Array.from(""),aC=Lv.reduce((e,t,r)=>(e[r]=t,e),[]),cC=Lv.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function fC(e){return e.reduce((t,r)=>(t+=aC[r],t),"")}function uC(e){const t=[];for(const r of e){const n=cC[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const lC=Hf({prefix:"",name:"base256emoji",encode:fC,decode:uC}),dC=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:lC},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const S1={...OM,...DM,...RM,...$M,...FM,...YM,...ZM,...tC,...oC,...dC};function Fv(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const A1=Fv("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rl=Fv("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=$v(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),kv={utf8:A1,"utf-8":A1,hex:S1.base16,latin1:rl,ascii:rl,binary:rl,...S1};function gr(e,t="utf8"){const r=kv[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function wr(e,t="utf8"){const r=kv[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?vd(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Hc(e){return gr(wr(Ua(e),fM),Bv)}function jv(e){const t=wr(gM,x1),r=pM+gr(t0([t,e]),x1);return[dM,hM,r].join(lM)}function hC(e){return gr(e,Bv)}function pC(e){return wr([Hc(e.header),Hc(e.payload)].join(Rv),uM)}function gC(e){return[Hc(e.header),Hc(e.payload),hC(e.signature)].join(Rv)}function I1(e=vo.randomBytes(mM)){return yd.generateKeyPairFromSeed(e)}async function mC(e,t,r,n,s=Ve.fromMiliseconds(Date.now())){const i={alg:aM,typ:cM},a=jv(n.publicKey),o=s+r,f={iss:a,sub:e,aud:t,iat:s,exp:o},c=pC({header:i,payload:f}),l=yd.sign(n.secretKey,c);return gC({header:i,payload:f,signature:l})}var wd={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});var nr=tt,r0=Br,bC=20;function yC(e,t,r){for(var n=1634760805,s=857760878,i=2036477234,a=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],v=r[19]<<24|r[18]<<16|r[17]<<8|r[16],S=r[23]<<24|r[22]<<16|r[21]<<8|r[20],D=r[27]<<24|r[26]<<16|r[25]<<8|r[24],C=r[31]<<24|r[30]<<16|r[29]<<8|r[28],q=t[3]<<24|t[2]<<16|t[1]<<8|t[0],H=t[7]<<24|t[6]<<16|t[5]<<8|t[4],Z=t[11]<<24|t[10]<<16|t[9]<<8|t[8],W=t[15]<<24|t[14]<<16|t[13]<<8|t[12],K=n,B=s,z=i,P=a,g=o,$=f,Y=c,Q=l,G=v,h=S,m=D,u=C,p=q,A=H,x=Z,O=W,N=0;N<bC;N+=2)K=K+g|0,p^=K,p=p>>>16|p<<16,G=G+p|0,g^=G,g=g>>>20|g<<12,B=B+$|0,A^=B,A=A>>>16|A<<16,h=h+A|0,$^=h,$=$>>>20|$<<12,z=z+Y|0,x^=z,x=x>>>16|x<<16,m=m+x|0,Y^=m,Y=Y>>>20|Y<<12,P=P+Q|0,O^=P,O=O>>>16|O<<16,u=u+O|0,Q^=u,Q=Q>>>20|Q<<12,z=z+Y|0,x^=z,x=x>>>24|x<<8,m=m+x|0,Y^=m,Y=Y>>>25|Y<<7,P=P+Q|0,O^=P,O=O>>>24|O<<8,u=u+O|0,Q^=u,Q=Q>>>25|Q<<7,B=B+$|0,A^=B,A=A>>>24|A<<8,h=h+A|0,$^=h,$=$>>>25|$<<7,K=K+g|0,p^=K,p=p>>>24|p<<8,G=G+p|0,g^=G,g=g>>>25|g<<7,K=K+$|0,O^=K,O=O>>>16|O<<16,m=m+O|0,$^=m,$=$>>>20|$<<12,B=B+Y|0,p^=B,p=p>>>16|p<<16,u=u+p|0,Y^=u,Y=Y>>>20|Y<<12,z=z+Q|0,A^=z,A=A>>>16|A<<16,G=G+A|0,Q^=G,Q=Q>>>20|Q<<12,P=P+g|0,x^=P,x=x>>>16|x<<16,h=h+x|0,g^=h,g=g>>>20|g<<12,z=z+Q|0,A^=z,A=A>>>24|A<<8,G=G+A|0,Q^=G,Q=Q>>>25|Q<<7,P=P+g|0,x^=P,x=x>>>24|x<<8,h=h+x|0,g^=h,g=g>>>25|g<<7,B=B+Y|0,p^=B,p=p>>>24|p<<8,u=u+p|0,Y^=u,Y=Y>>>25|Y<<7,K=K+$|0,O^=K,O=O>>>24|O<<8,m=m+O|0,$^=m,$=$>>>25|$<<7;nr.writeUint32LE(K+n|0,e,0),nr.writeUint32LE(B+s|0,e,4),nr.writeUint32LE(z+i|0,e,8),nr.writeUint32LE(P+a|0,e,12),nr.writeUint32LE(g+o|0,e,16),nr.writeUint32LE($+f|0,e,20),nr.writeUint32LE(Y+c|0,e,24),nr.writeUint32LE(Q+l|0,e,28),nr.writeUint32LE(G+v|0,e,32),nr.writeUint32LE(h+S|0,e,36),nr.writeUint32LE(m+D|0,e,40),nr.writeUint32LE(u+C|0,e,44),nr.writeUint32LE(p+q|0,e,48),nr.writeUint32LE(A+H|0,e,52),nr.writeUint32LE(x+Z|0,e,56),nr.writeUint32LE(O+W|0,e,60)}function qv(e,t,r,n,s){if(s===void 0&&(s=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var i,a;if(s===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),a=i.length-t.length,i.set(t,a)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=t,a=s}for(var o=new Uint8Array(64),f=0;f<r.length;f+=64){yC(o,i,e);for(var c=f;c<f+64&&c<r.length;c++)n[c]=r[c]^o[c-f];wC(i,0,a)}return r0.wipe(o),s===0&&r0.wipe(i),n}zf.streamXOR=qv;function vC(e,t,r,n){return n===void 0&&(n=0),r0.wipe(r),qv(e,t,r,r,n)}zf.stream=vC;function wC(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var Hv={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});function _C(e,t,r){return~(e-1)&t|e-1&r}Bi.select=_C;function EC(e,t){return(e|0)-(t|0)-1>>>31&1}Bi.lessOrEqual=EC;function zv(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Bi.compare=zv;function xC(e,t){return e.length===0||t.length===0?!1:zv(e,t)!==0}Bi.equal=xC;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Bi,r=Br;e.DIGEST_LENGTH=16;var n=function(){function a(o){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=o[0]|o[1]<<8;this._r[0]=f&8191;var c=o[2]|o[3]<<8;this._r[1]=(f>>>13|c<<3)&8191;var l=o[4]|o[5]<<8;this._r[2]=(c>>>10|l<<6)&7939;var v=o[6]|o[7]<<8;this._r[3]=(l>>>7|v<<9)&8191;var S=o[8]|o[9]<<8;this._r[4]=(v>>>4|S<<12)&255,this._r[5]=S>>>1&8190;var D=o[10]|o[11]<<8;this._r[6]=(S>>>14|D<<2)&8191;var C=o[12]|o[13]<<8;this._r[7]=(D>>>11|C<<5)&8065;var q=o[14]|o[15]<<8;this._r[8]=(C>>>8|q<<8)&8191,this._r[9]=q>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return a.prototype._blocks=function(o,f,c){for(var l=this._fin?0:2048,v=this._h[0],S=this._h[1],D=this._h[2],C=this._h[3],q=this._h[4],H=this._h[5],Z=this._h[6],W=this._h[7],K=this._h[8],B=this._h[9],z=this._r[0],P=this._r[1],g=this._r[2],$=this._r[3],Y=this._r[4],Q=this._r[5],G=this._r[6],h=this._r[7],m=this._r[8],u=this._r[9];c>=16;){var p=o[f+0]|o[f+1]<<8;v+=p&8191;var A=o[f+2]|o[f+3]<<8;S+=(p>>>13|A<<3)&8191;var x=o[f+4]|o[f+5]<<8;D+=(A>>>10|x<<6)&8191;var O=o[f+6]|o[f+7]<<8;C+=(x>>>7|O<<9)&8191;var N=o[f+8]|o[f+9]<<8;q+=(O>>>4|N<<12)&8191,H+=N>>>1&8191;var w=o[f+10]|o[f+11]<<8;Z+=(N>>>14|w<<2)&8191;var I=o[f+12]|o[f+13]<<8;W+=(w>>>11|I<<5)&8191;var T=o[f+14]|o[f+15]<<8;K+=(I>>>8|T<<8)&8191,B+=T>>>5|l;var k=0,ce=k;ce+=v*z,ce+=S*(5*u),ce+=D*(5*m),ce+=C*(5*h),ce+=q*(5*G),k=ce>>>13,ce&=8191,ce+=H*(5*Q),ce+=Z*(5*Y),ce+=W*(5*$),ce+=K*(5*g),ce+=B*(5*P),k+=ce>>>13,ce&=8191;var fe=k;fe+=v*P,fe+=S*z,fe+=D*(5*u),fe+=C*(5*m),fe+=q*(5*h),k=fe>>>13,fe&=8191,fe+=H*(5*G),fe+=Z*(5*Q),fe+=W*(5*Y),fe+=K*(5*$),fe+=B*(5*g),k+=fe>>>13,fe&=8191;var be=k;be+=v*g,be+=S*P,be+=D*z,be+=C*(5*u),be+=q*(5*m),k=be>>>13,be&=8191,be+=H*(5*h),be+=Z*(5*G),be+=W*(5*Q),be+=K*(5*Y),be+=B*(5*$),k+=be>>>13,be&=8191;var he=k;he+=v*$,he+=S*g,he+=D*P,he+=C*z,he+=q*(5*u),k=he>>>13,he&=8191,he+=H*(5*m),he+=Z*(5*h),he+=W*(5*G),he+=K*(5*Q),he+=B*(5*Y),k+=he>>>13,he&=8191;var pe=k;pe+=v*Y,pe+=S*$,pe+=D*g,pe+=C*P,pe+=q*z,k=pe>>>13,pe&=8191,pe+=H*(5*u),pe+=Z*(5*m),pe+=W*(5*h),pe+=K*(5*G),pe+=B*(5*Q),k+=pe>>>13,pe&=8191;var le=k;le+=v*Q,le+=S*Y,le+=D*$,le+=C*g,le+=q*P,k=le>>>13,le&=8191,le+=H*z,le+=Z*(5*u),le+=W*(5*m),le+=K*(5*h),le+=B*(5*G),k+=le>>>13,le&=8191;var y=k;y+=v*G,y+=S*Q,y+=D*Y,y+=C*$,y+=q*g,k=y>>>13,y&=8191,y+=H*P,y+=Z*z,y+=W*(5*u),y+=K*(5*m),y+=B*(5*h),k+=y>>>13,y&=8191;var F=k;F+=v*h,F+=S*G,F+=D*Q,F+=C*Y,F+=q*$,k=F>>>13,F&=8191,F+=H*g,F+=Z*P,F+=W*z,F+=K*(5*u),F+=B*(5*m),k+=F>>>13,F&=8191;var re=k;re+=v*m,re+=S*h,re+=D*G,re+=C*Q,re+=q*Y,k=re>>>13,re&=8191,re+=H*$,re+=Z*g,re+=W*P,re+=K*z,re+=B*(5*u),k+=re>>>13,re&=8191;var j=k;j+=v*u,j+=S*m,j+=D*h,j+=C*G,j+=q*Q,k=j>>>13,j&=8191,j+=H*Y,j+=Z*$,j+=W*g,j+=K*P,j+=B*z,k+=j>>>13,j&=8191,k=(k<<2)+k|0,k=k+ce|0,ce=k&8191,k=k>>>13,fe+=k,v=ce,S=fe,D=be,C=he,q=pe,H=le,Z=y,W=F,K=re,B=j,f+=16,c-=16}this._h[0]=v,this._h[1]=S,this._h[2]=D,this._h[3]=C,this._h[4]=q,this._h[5]=H,this._h[6]=Z,this._h[7]=W,this._h[8]=K,this._h[9]=B},a.prototype.finish=function(o,f){f===void 0&&(f=0);var c=new Uint16Array(10),l,v,S,D;if(this._leftover){for(D=this._leftover,this._buffer[D++]=1;D<16;D++)this._buffer[D]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(l=this._h[1]>>>13,this._h[1]&=8191,D=2;D<10;D++)this._h[D]+=l,l=this._h[D]>>>13,this._h[D]&=8191;for(this._h[0]+=l*5,l=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=l,l=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=l,c[0]=this._h[0]+5,l=c[0]>>>13,c[0]&=8191,D=1;D<10;D++)c[D]=this._h[D]+l,l=c[D]>>>13,c[D]&=8191;for(c[9]-=8192,v=(l^1)-1,D=0;D<10;D++)c[D]&=v;for(v=~v,D=0;D<10;D++)this._h[D]=this._h[D]&v|c[D];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,S=this._h[0]+this._pad[0],this._h[0]=S&65535,D=1;D<8;D++)S=(this._h[D]+this._pad[D]|0)+(S>>>16)|0,this._h[D]=S&65535;return o[f+0]=this._h[0]>>>0,o[f+1]=this._h[0]>>>8,o[f+2]=this._h[1]>>>0,o[f+3]=this._h[1]>>>8,o[f+4]=this._h[2]>>>0,o[f+5]=this._h[2]>>>8,o[f+6]=this._h[3]>>>0,o[f+7]=this._h[3]>>>8,o[f+8]=this._h[4]>>>0,o[f+9]=this._h[4]>>>8,o[f+10]=this._h[5]>>>0,o[f+11]=this._h[5]>>>8,o[f+12]=this._h[6]>>>0,o[f+13]=this._h[6]>>>8,o[f+14]=this._h[7]>>>0,o[f+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(o){var f=0,c=o.length,l;if(this._leftover){l=16-this._leftover,l>c&&(l=c);for(var v=0;v<l;v++)this._buffer[this._leftover+v]=o[f+v];if(c-=l,f+=l,this._leftover+=l,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(l=c-c%16,this._blocks(o,f,l),f+=l,c-=l),c){for(var v=0;v<c;v++)this._buffer[this._leftover+v]=o[f+v];this._leftover+=c}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();e.Poly1305=n;function s(a,o){var f=new n(a);f.update(o);var c=f.digest();return f.clean(),c}e.oneTimeAuth=s;function i(a,o){return a.length!==e.DIGEST_LENGTH||o.length!==e.DIGEST_LENGTH?!1:t.equal(a,o)}e.equal=i})(Hv);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=zf,r=Hv,n=Br,s=tt,i=Bi;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var a=new Uint8Array(16),o=function(){function f(c){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,c.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return f.prototype.seal=function(c,l,v,S){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var D=new Uint8Array(16);D.set(c,D.length-c.length);var C=new Uint8Array(32);t.stream(this._key,D,C,4);var q=l.length+this.tagLength,H;if(S){if(S.length!==q)throw new Error("ChaCha20Poly1305: incorrect destination length");H=S}else H=new Uint8Array(q);return t.streamXOR(this._key,D,l,H,4),this._authenticate(H.subarray(H.length-this.tagLength,H.length),C,H.subarray(0,H.length-this.tagLength),v),n.wipe(D),H},f.prototype.open=function(c,l,v,S){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(l.length<this.tagLength)return null;var D=new Uint8Array(16);D.set(c,D.length-c.length);var C=new Uint8Array(32);t.stream(this._key,D,C,4);var q=new Uint8Array(this.tagLength);if(this._authenticate(q,C,l.subarray(0,l.length-this.tagLength),v),!i.equal(q,l.subarray(l.length-this.tagLength,l.length)))return null;var H=l.length-this.tagLength,Z;if(S){if(S.length!==H)throw new Error("ChaCha20Poly1305: incorrect destination length");Z=S}else Z=new Uint8Array(H);return t.streamXOR(this._key,D,l.subarray(0,l.length-this.tagLength),Z,4),n.wipe(D),Z},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(c,l,v,S){var D=new r.Poly1305(l);S&&(D.update(S),S.length%16>0&&D.update(a.subarray(S.length%16))),D.update(v),v.length%16>0&&D.update(a.subarray(v.length%16));var C=new Uint8Array(8);S&&s.writeUint64LE(S.length,C),D.update(C),s.writeUint64LE(v.length,C),D.update(C);for(var q=D.digest(),H=0;H<q.length;H++)c[H]=q[H];D.clean(),n.wipe(q),n.wipe(C)},f}();e.ChaCha20Poly1305=o})(wd);var Vv={},Fa={},_d={};Object.defineProperty(_d,"__esModule",{value:!0});function SC(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}_d.isSerializableHash=SC;Object.defineProperty(Fa,"__esModule",{value:!0});var hn=_d,AC=Bi,IC=Br,Kv=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(var s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),hn.isSerializableHash(this._inner)&&hn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),IC.wipe(n)}return e.prototype.reset=function(){if(!hn.isSerializableHash(this._inner)||!hn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){hn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!hn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!hn.isSerializableHash(this._inner)||!hn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!hn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Fa.HMAC=Kv;function TC(e,t,r){var n=new Kv(e,t);n.update(r);var s=n.digest();return n.clean(),s}Fa.hmac=TC;Fa.equal=AC.equal;Object.defineProperty(Vv,"__esModule",{value:!0});var T1=Fa,M1=Br,MC=function(){function e(t,r,n,s){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=s;var i=T1.hmac(this._hash,n,r);this._hmac=new T1.HMAC(t,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),M1.wipe(this._buffer),M1.wipe(this._counter),this._bufpos=0},e}(),CC=Vv.HKDF=MC,Vf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=tt,r=Br;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},o.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=f[l++],c--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=i(this._temp,this._state,f,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[l++],c--;return this},o.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,l=this._bufferLength,v=c/536870912|0,S=c<<3,D=c%64<56?64:128;this._buffer[l]=128;for(var C=l+1;C<D-8;C++)this._buffer[C]=0;t.writeUint32BE(v,this._buffer,D-8),t.writeUint32BE(S,this._buffer,D-4),i(this._temp,this._state,this._buffer,0,D),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)t.writeUint32BE(this._state[C],f,C*4);return this},o.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(f){r.wipe(f.state),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},o}();e.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(o,f,c,l,v){for(;v>=64;){for(var S=f[0],D=f[1],C=f[2],q=f[3],H=f[4],Z=f[5],W=f[6],K=f[7],B=0;B<16;B++){var z=l+B*4;o[B]=t.readUint32BE(c,z)}for(var B=16;B<64;B++){var P=o[B-2],g=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10;P=o[B-15];var $=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3;o[B]=(g+o[B-7]|0)+($+o[B-16]|0)}for(var B=0;B<64;B++){var g=(((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(H&Z^~H&W)|0)+(K+(s[B]+o[B]|0)|0)|0,$=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&D^S&C^D&C)|0;K=W,W=Z,Z=H,H=q+g|0,q=C,C=D,D=S,S=g+$|0}f[0]+=S,f[1]+=D,f[2]+=C,f[3]+=q,f[4]+=H,f[5]+=Z,f[6]+=W,f[7]+=K,l+=64,v-=64}return l}function a(o){var f=new n;f.update(o);var c=f.digest();return f.clean(),c}e.hash=a})(Vf);var Ed={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=vo,r=Br;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(B){const z=new Float64Array(16);if(B)for(let P=0;P<B.length;P++)z[P]=B[P];return z}const s=new Uint8Array(32);s[0]=9;const i=n([56129,1]);function a(B){let z=1;for(let P=0;P<16;P++){let g=B[P]+z+65535;z=Math.floor(g/65536),B[P]=g-z*65536}B[0]+=z-1+37*(z-1)}function o(B,z,P){const g=~(P-1);for(let $=0;$<16;$++){const Y=g&(B[$]^z[$]);B[$]^=Y,z[$]^=Y}}function f(B,z){const P=n(),g=n();for(let $=0;$<16;$++)g[$]=z[$];a(g),a(g),a(g);for(let $=0;$<2;$++){P[0]=g[0]-65517;for(let Q=1;Q<15;Q++)P[Q]=g[Q]-65535-(P[Q-1]>>16&1),P[Q-1]&=65535;P[15]=g[15]-32767-(P[14]>>16&1);const Y=P[15]>>16&1;P[14]&=65535,o(g,P,1-Y)}for(let $=0;$<16;$++)B[2*$]=g[$]&255,B[2*$+1]=g[$]>>8}function c(B,z){for(let P=0;P<16;P++)B[P]=z[2*P]+(z[2*P+1]<<8);B[15]&=32767}function l(B,z,P){for(let g=0;g<16;g++)B[g]=z[g]+P[g]}function v(B,z,P){for(let g=0;g<16;g++)B[g]=z[g]-P[g]}function S(B,z,P){let g,$,Y=0,Q=0,G=0,h=0,m=0,u=0,p=0,A=0,x=0,O=0,N=0,w=0,I=0,T=0,k=0,ce=0,fe=0,be=0,he=0,pe=0,le=0,y=0,F=0,re=0,j=0,J=0,te=0,R=0,_=0,E=0,L=0,V=P[0],ee=P[1],ie=P[2],me=P[3],ye=P[4],ve=P[5],Se=P[6],M=P[7],d=P[8],b=P[9],U=P[10],X=P[11],se=P[12],oe=P[13],_e=P[14],xe=P[15];g=z[0],Y+=g*V,Q+=g*ee,G+=g*ie,h+=g*me,m+=g*ye,u+=g*ve,p+=g*Se,A+=g*M,x+=g*d,O+=g*b,N+=g*U,w+=g*X,I+=g*se,T+=g*oe,k+=g*_e,ce+=g*xe,g=z[1],Q+=g*V,G+=g*ee,h+=g*ie,m+=g*me,u+=g*ye,p+=g*ve,A+=g*Se,x+=g*M,O+=g*d,N+=g*b,w+=g*U,I+=g*X,T+=g*se,k+=g*oe,ce+=g*_e,fe+=g*xe,g=z[2],G+=g*V,h+=g*ee,m+=g*ie,u+=g*me,p+=g*ye,A+=g*ve,x+=g*Se,O+=g*M,N+=g*d,w+=g*b,I+=g*U,T+=g*X,k+=g*se,ce+=g*oe,fe+=g*_e,be+=g*xe,g=z[3],h+=g*V,m+=g*ee,u+=g*ie,p+=g*me,A+=g*ye,x+=g*ve,O+=g*Se,N+=g*M,w+=g*d,I+=g*b,T+=g*U,k+=g*X,ce+=g*se,fe+=g*oe,be+=g*_e,he+=g*xe,g=z[4],m+=g*V,u+=g*ee,p+=g*ie,A+=g*me,x+=g*ye,O+=g*ve,N+=g*Se,w+=g*M,I+=g*d,T+=g*b,k+=g*U,ce+=g*X,fe+=g*se,be+=g*oe,he+=g*_e,pe+=g*xe,g=z[5],u+=g*V,p+=g*ee,A+=g*ie,x+=g*me,O+=g*ye,N+=g*ve,w+=g*Se,I+=g*M,T+=g*d,k+=g*b,ce+=g*U,fe+=g*X,be+=g*se,he+=g*oe,pe+=g*_e,le+=g*xe,g=z[6],p+=g*V,A+=g*ee,x+=g*ie,O+=g*me,N+=g*ye,w+=g*ve,I+=g*Se,T+=g*M,k+=g*d,ce+=g*b,fe+=g*U,be+=g*X,he+=g*se,pe+=g*oe,le+=g*_e,y+=g*xe,g=z[7],A+=g*V,x+=g*ee,O+=g*ie,N+=g*me,w+=g*ye,I+=g*ve,T+=g*Se,k+=g*M,ce+=g*d,fe+=g*b,be+=g*U,he+=g*X,pe+=g*se,le+=g*oe,y+=g*_e,F+=g*xe,g=z[8],x+=g*V,O+=g*ee,N+=g*ie,w+=g*me,I+=g*ye,T+=g*ve,k+=g*Se,ce+=g*M,fe+=g*d,be+=g*b,he+=g*U,pe+=g*X,le+=g*se,y+=g*oe,F+=g*_e,re+=g*xe,g=z[9],O+=g*V,N+=g*ee,w+=g*ie,I+=g*me,T+=g*ye,k+=g*ve,ce+=g*Se,fe+=g*M,be+=g*d,he+=g*b,pe+=g*U,le+=g*X,y+=g*se,F+=g*oe,re+=g*_e,j+=g*xe,g=z[10],N+=g*V,w+=g*ee,I+=g*ie,T+=g*me,k+=g*ye,ce+=g*ve,fe+=g*Se,be+=g*M,he+=g*d,pe+=g*b,le+=g*U,y+=g*X,F+=g*se,re+=g*oe,j+=g*_e,J+=g*xe,g=z[11],w+=g*V,I+=g*ee,T+=g*ie,k+=g*me,ce+=g*ye,fe+=g*ve,be+=g*Se,he+=g*M,pe+=g*d,le+=g*b,y+=g*U,F+=g*X,re+=g*se,j+=g*oe,J+=g*_e,te+=g*xe,g=z[12],I+=g*V,T+=g*ee,k+=g*ie,ce+=g*me,fe+=g*ye,be+=g*ve,he+=g*Se,pe+=g*M,le+=g*d,y+=g*b,F+=g*U,re+=g*X,j+=g*se,J+=g*oe,te+=g*_e,R+=g*xe,g=z[13],T+=g*V,k+=g*ee,ce+=g*ie,fe+=g*me,be+=g*ye,he+=g*ve,pe+=g*Se,le+=g*M,y+=g*d,F+=g*b,re+=g*U,j+=g*X,J+=g*se,te+=g*oe,R+=g*_e,_+=g*xe,g=z[14],k+=g*V,ce+=g*ee,fe+=g*ie,be+=g*me,he+=g*ye,pe+=g*ve,le+=g*Se,y+=g*M,F+=g*d,re+=g*b,j+=g*U,J+=g*X,te+=g*se,R+=g*oe,_+=g*_e,E+=g*xe,g=z[15],ce+=g*V,fe+=g*ee,be+=g*ie,he+=g*me,pe+=g*ye,le+=g*ve,y+=g*Se,F+=g*M,re+=g*d,j+=g*b,J+=g*U,te+=g*X,R+=g*se,_+=g*oe,E+=g*_e,L+=g*xe,Y+=38*fe,Q+=38*be,G+=38*he,h+=38*pe,m+=38*le,u+=38*y,p+=38*F,A+=38*re,x+=38*j,O+=38*J,N+=38*te,w+=38*R,I+=38*_,T+=38*E,k+=38*L,$=1,g=Y+$+65535,$=Math.floor(g/65536),Y=g-$*65536,g=Q+$+65535,$=Math.floor(g/65536),Q=g-$*65536,g=G+$+65535,$=Math.floor(g/65536),G=g-$*65536,g=h+$+65535,$=Math.floor(g/65536),h=g-$*65536,g=m+$+65535,$=Math.floor(g/65536),m=g-$*65536,g=u+$+65535,$=Math.floor(g/65536),u=g-$*65536,g=p+$+65535,$=Math.floor(g/65536),p=g-$*65536,g=A+$+65535,$=Math.floor(g/65536),A=g-$*65536,g=x+$+65535,$=Math.floor(g/65536),x=g-$*65536,g=O+$+65535,$=Math.floor(g/65536),O=g-$*65536,g=N+$+65535,$=Math.floor(g/65536),N=g-$*65536,g=w+$+65535,$=Math.floor(g/65536),w=g-$*65536,g=I+$+65535,$=Math.floor(g/65536),I=g-$*65536,g=T+$+65535,$=Math.floor(g/65536),T=g-$*65536,g=k+$+65535,$=Math.floor(g/65536),k=g-$*65536,g=ce+$+65535,$=Math.floor(g/65536),ce=g-$*65536,Y+=$-1+37*($-1),$=1,g=Y+$+65535,$=Math.floor(g/65536),Y=g-$*65536,g=Q+$+65535,$=Math.floor(g/65536),Q=g-$*65536,g=G+$+65535,$=Math.floor(g/65536),G=g-$*65536,g=h+$+65535,$=Math.floor(g/65536),h=g-$*65536,g=m+$+65535,$=Math.floor(g/65536),m=g-$*65536,g=u+$+65535,$=Math.floor(g/65536),u=g-$*65536,g=p+$+65535,$=Math.floor(g/65536),p=g-$*65536,g=A+$+65535,$=Math.floor(g/65536),A=g-$*65536,g=x+$+65535,$=Math.floor(g/65536),x=g-$*65536,g=O+$+65535,$=Math.floor(g/65536),O=g-$*65536,g=N+$+65535,$=Math.floor(g/65536),N=g-$*65536,g=w+$+65535,$=Math.floor(g/65536),w=g-$*65536,g=I+$+65535,$=Math.floor(g/65536),I=g-$*65536,g=T+$+65535,$=Math.floor(g/65536),T=g-$*65536,g=k+$+65535,$=Math.floor(g/65536),k=g-$*65536,g=ce+$+65535,$=Math.floor(g/65536),ce=g-$*65536,Y+=$-1+37*($-1),B[0]=Y,B[1]=Q,B[2]=G,B[3]=h,B[4]=m,B[5]=u,B[6]=p,B[7]=A,B[8]=x,B[9]=O,B[10]=N,B[11]=w,B[12]=I,B[13]=T,B[14]=k,B[15]=ce}function D(B,z){S(B,z,z)}function C(B,z){const P=n();for(let g=0;g<16;g++)P[g]=z[g];for(let g=253;g>=0;g--)D(P,P),g!==2&&g!==4&&S(P,P,z);for(let g=0;g<16;g++)B[g]=P[g]}function q(B,z){const P=new Uint8Array(32),g=new Float64Array(80),$=n(),Y=n(),Q=n(),G=n(),h=n(),m=n();for(let x=0;x<31;x++)P[x]=B[x];P[31]=B[31]&127|64,P[0]&=248,c(g,z);for(let x=0;x<16;x++)Y[x]=g[x];$[0]=G[0]=1;for(let x=254;x>=0;--x){const O=P[x>>>3]>>>(x&7)&1;o($,Y,O),o(Q,G,O),l(h,$,Q),v($,$,Q),l(Q,Y,G),v(Y,Y,G),D(G,h),D(m,$),S($,Q,$),S(Q,Y,h),l(h,$,Q),v($,$,Q),D(Y,$),v(Q,G,m),S($,Q,i),l($,$,G),S(Q,Q,$),S($,G,m),S(G,Y,g),D(Y,h),o($,Y,O),o(Q,G,O)}for(let x=0;x<16;x++)g[x+16]=$[x],g[x+32]=Q[x],g[x+48]=Y[x],g[x+64]=G[x];const u=g.subarray(32),p=g.subarray(16);C(u,u),S(p,p,u);const A=new Uint8Array(32);return f(A,p),A}e.scalarMult=q;function H(B){return q(B,s)}e.scalarMultBase=H;function Z(B){if(B.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const z=new Uint8Array(B);return{publicKey:H(z),secretKey:z}}e.generateKeyPairFromSeed=Z;function W(B){const z=(0,t.randomBytes)(32,B),P=Z(z);return(0,r.wipe)(z),P}e.generateKeyPair=W;function K(B,z,P=!1){if(B.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(z.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const g=q(B,z);if(P){let $=0;for(let Y=0;Y<g.length;Y++)$|=g[Y];if($===0)throw new Error("X25519: invalid shared key")}return g}e.sharedKey=K})(Ed);var C1=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},OC=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),PC=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),DC=function(){function e(t,r,n,s){this.name=t,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return e}(),NC=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),RC=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),BC=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,$C=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O1=3,UC=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",BC]],P1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function LC(e){return e?D1(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new RC:typeof navigator<"u"?D1(navigator.userAgent):jC()}function FC(e){return e!==""&&UC.reduce(function(t,r){var n=r[0],s=r[1];if(t)return t;var i=s.exec(e);return!!i&&[n,i]},!1)}function D1(e){var t=FC(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new NC;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<O1&&(s=C1(C1([],s,!0),qC(O1-s.length),!0)):s=[];var i=s.join("."),a=kC(e),o=$C.exec(e);return o&&o[1]?new DC(r,i,a,o[1]):new OC(r,i,a)}function kC(e){for(var t=0,r=P1.length;t<r;t++){var n=P1[t],s=n[0],i=n[1],a=i.exec(e);if(a)return s}return null}function jC(){var e=typeof process<"u"&&process.version;return e?new PC(process.version.slice(1)):null}function qC(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.getLocalStorage=gt.getLocalStorageOrThrow=gt.getCrypto=gt.getCryptoOrThrow=Ad=gt.getLocation=gt.getLocationOrThrow=Sd=gt.getNavigator=gt.getNavigatorOrThrow=xd=gt.getDocument=gt.getDocumentOrThrow=gt.getFromWindowOrThrow=gt.getFromWindow=void 0;function _s(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}gt.getFromWindow=_s;function wo(e){const t=_s(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}gt.getFromWindowOrThrow=wo;function HC(){return wo("document")}gt.getDocumentOrThrow=HC;function zC(){return _s("document")}var xd=gt.getDocument=zC;function VC(){return wo("navigator")}gt.getNavigatorOrThrow=VC;function KC(){return _s("navigator")}var Sd=gt.getNavigator=KC;function GC(){return wo("location")}gt.getLocationOrThrow=GC;function WC(){return _s("location")}var Ad=gt.getLocation=WC;function YC(){return wo("crypto")}gt.getCryptoOrThrow=YC;function JC(){return _s("crypto")}gt.getCrypto=JC;function XC(){return wo("localStorage")}gt.getLocalStorageOrThrow=XC;function ZC(){return _s("localStorage")}gt.getLocalStorage=ZC;var Id={};Object.defineProperty(Id,"__esModule",{value:!0});var Gv=Id.getWindowMetadata=void 0;const N1=gt;function QC(){let e,t;try{e=N1.getDocumentOrThrow(),t=N1.getLocationOrThrow()}catch{return null}function r(){const v=e.getElementsByTagName("link"),S=[];for(let D=0;D<v.length;D++){const C=v[D],q=C.getAttribute("rel");if(q&&q.toLowerCase().indexOf("icon")>-1){const H=C.getAttribute("href");if(H)if(H.toLowerCase().indexOf("https:")===-1&&H.toLowerCase().indexOf("http:")===-1&&H.indexOf("//")!==0){let Z=t.protocol+"//"+t.host;if(H.indexOf("/")===0)Z+=H;else{const W=t.pathname.split("/");W.pop();const K=W.join("/");Z+=K+"/"+H}S.push(Z)}else if(H.indexOf("//")===0){const Z=t.protocol+H;S.push(Z)}else S.push(H)}}return S}function n(...v){const S=e.getElementsByTagName("meta");for(let D=0;D<S.length;D++){const C=S[D],q=["itemprop","property","name"].map(H=>C.getAttribute(H)).filter(H=>H?v.includes(H):!1);if(q.length&&q){const H=C.getAttribute("content");if(H)return H}}return""}function s(){let v=n("name","og:site_name","og:title","twitter:title");return v||(v=e.title),v}function i(){return n("description","og:description","twitter:description","keywords")}const a=s(),o=i(),f=t.origin,c=r();return{description:o,url:f,icons:c,name:a}}Gv=Id.getWindowMetadata=QC;var ya={},eO=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Wv="%[a-f0-9]{2}",R1=new RegExp("("+Wv+")|([^%]+?)","gi"),B1=new RegExp("("+Wv+")+","gi");function n0(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],n0(r),n0(n))}function tO(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(R1)||[],r=1;r<t.length;r++)e=n0(t,r).join(""),t=e.match(R1)||[];return e}}function rO(e){for(var t={"%FE%FF":"","%FF%FE":""},r=B1.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=tO(r[0]);n!==r[0]&&(t[r[0]]=n)}r=B1.exec(e)}t["%C2"]="";for(var s=Object.keys(t),i=0;i<s.length;i++){var a=s[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}var nO=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return rO(e)}},iO=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},sO=function(e,t){for(var r={},n=Object.keys(e),s=Array.isArray(t),i=0;i<n.length;i++){var a=n[i],o=e[a];(s?t.indexOf(a)!==-1:t(a,o,e))&&(r[a]=o)}return r};(function(e){const t=eO,r=nO,n=iO,s=sO,i=W=>W==null,a=Symbol("encodeFragmentIdentifier");function o(W){switch(W.arrayFormat){case"index":return K=>(B,z)=>{const P=B.length;return z===void 0||W.skipNull&&z===null||W.skipEmptyString&&z===""?B:z===null?[...B,[l(K,W),"[",P,"]"].join("")]:[...B,[l(K,W),"[",l(P,W),"]=",l(z,W)].join("")]};case"bracket":return K=>(B,z)=>z===void 0||W.skipNull&&z===null||W.skipEmptyString&&z===""?B:z===null?[...B,[l(K,W),"[]"].join("")]:[...B,[l(K,W),"[]=",l(z,W)].join("")];case"colon-list-separator":return K=>(B,z)=>z===void 0||W.skipNull&&z===null||W.skipEmptyString&&z===""?B:z===null?[...B,[l(K,W),":list="].join("")]:[...B,[l(K,W),":list=",l(z,W)].join("")];case"comma":case"separator":case"bracket-separator":{const K=W.arrayFormat==="bracket-separator"?"[]=":"=";return B=>(z,P)=>P===void 0||W.skipNull&&P===null||W.skipEmptyString&&P===""?z:(P=P===null?"":P,z.length===0?[[l(B,W),K,l(P,W)].join("")]:[[z,l(P,W)].join(W.arrayFormatSeparator)])}default:return K=>(B,z)=>z===void 0||W.skipNull&&z===null||W.skipEmptyString&&z===""?B:z===null?[...B,l(K,W)]:[...B,[l(K,W),"=",l(z,W)].join("")]}}function f(W){let K;switch(W.arrayFormat){case"index":return(B,z,P)=>{if(K=/\[(\d*)\]$/.exec(B),B=B.replace(/\[\d*\]$/,""),!K){P[B]=z;return}P[B]===void 0&&(P[B]={}),P[B][K[1]]=z};case"bracket":return(B,z,P)=>{if(K=/(\[\])$/.exec(B),B=B.replace(/\[\]$/,""),!K){P[B]=z;return}if(P[B]===void 0){P[B]=[z];return}P[B]=[].concat(P[B],z)};case"colon-list-separator":return(B,z,P)=>{if(K=/(:list)$/.exec(B),B=B.replace(/:list$/,""),!K){P[B]=z;return}if(P[B]===void 0){P[B]=[z];return}P[B]=[].concat(P[B],z)};case"comma":case"separator":return(B,z,P)=>{const g=typeof z=="string"&&z.includes(W.arrayFormatSeparator),$=typeof z=="string"&&!g&&v(z,W).includes(W.arrayFormatSeparator);z=$?v(z,W):z;const Y=g||$?z.split(W.arrayFormatSeparator).map(Q=>v(Q,W)):z===null?z:v(z,W);P[B]=Y};case"bracket-separator":return(B,z,P)=>{const g=/(\[\])$/.test(B);if(B=B.replace(/\[\]$/,""),!g){P[B]=z&&v(z,W);return}const $=z===null?[]:z.split(W.arrayFormatSeparator).map(Y=>v(Y,W));if(P[B]===void 0){P[B]=$;return}P[B]=[].concat(P[B],$)};default:return(B,z,P)=>{if(P[B]===void 0){P[B]=z;return}P[B]=[].concat(P[B],z)}}}function c(W){if(typeof W!="string"||W.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function l(W,K){return K.encode?K.strict?t(W):encodeURIComponent(W):W}function v(W,K){return K.decode?r(W):W}function S(W){return Array.isArray(W)?W.sort():typeof W=="object"?S(Object.keys(W)).sort((K,B)=>Number(K)-Number(B)).map(K=>W[K]):W}function D(W){const K=W.indexOf("#");return K!==-1&&(W=W.slice(0,K)),W}function C(W){let K="";const B=W.indexOf("#");return B!==-1&&(K=W.slice(B)),K}function q(W){W=D(W);const K=W.indexOf("?");return K===-1?"":W.slice(K+1)}function H(W,K){return K.parseNumbers&&!Number.isNaN(Number(W))&&typeof W=="string"&&W.trim()!==""?W=Number(W):K.parseBooleans&&W!==null&&(W.toLowerCase()==="true"||W.toLowerCase()==="false")&&(W=W.toLowerCase()==="true"),W}function Z(W,K){K=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},K),c(K.arrayFormatSeparator);const B=f(K),z=Object.create(null);if(typeof W!="string"||(W=W.trim().replace(/^[?#&]/,""),!W))return z;for(const P of W.split("&")){if(P==="")continue;let[g,$]=n(K.decode?P.replace(/\+/g," "):P,"=");$=$===void 0?null:["comma","separator","bracket-separator"].includes(K.arrayFormat)?$:v($,K),B(v(g,K),$,z)}for(const P of Object.keys(z)){const g=z[P];if(typeof g=="object"&&g!==null)for(const $ of Object.keys(g))g[$]=H(g[$],K);else z[P]=H(g,K)}return K.sort===!1?z:(K.sort===!0?Object.keys(z).sort():Object.keys(z).sort(K.sort)).reduce((P,g)=>{const $=z[g];return $&&typeof $=="object"&&!Array.isArray($)?P[g]=S($):P[g]=$,P},Object.create(null))}e.extract=q,e.parse=Z,e.stringify=(W,K)=>{if(!W)return"";K=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},K),c(K.arrayFormatSeparator);const B=$=>K.skipNull&&i(W[$])||K.skipEmptyString&&W[$]==="",z=o(K),P={};for(const $ of Object.keys(W))B($)||(P[$]=W[$]);const g=Object.keys(P);return K.sort!==!1&&g.sort(K.sort),g.map($=>{const Y=W[$];return Y===void 0?"":Y===null?l($,K):Array.isArray(Y)?Y.length===0&&K.arrayFormat==="bracket-separator"?l($,K)+"[]":Y.reduce(z($),[]).join("&"):l($,K)+"="+l(Y,K)}).filter($=>$.length>0).join("&")},e.parseUrl=(W,K)=>{K=Object.assign({decode:!0},K);const[B,z]=n(W,"#");return Object.assign({url:B.split("?")[0]||"",query:Z(q(W),K)},K&&K.parseFragmentIdentifier&&z?{fragmentIdentifier:v(z,K)}:{})},e.stringifyUrl=(W,K)=>{K=Object.assign({encode:!0,strict:!0,[a]:!0},K);const B=D(W.url).split("?")[0]||"",z=e.extract(W.url),P=e.parse(z,{sort:!1}),g=Object.assign(P,W.query);let $=e.stringify(g,K);$&&($=`?${$}`);let Y=C(W.url);return W.fragmentIdentifier&&(Y=`#${K[a]?l(W.fragmentIdentifier,K):W.fragmentIdentifier}`),`${B}${$}${Y}`},e.pick=(W,K,B)=>{B=Object.assign({parseFragmentIdentifier:!0,[a]:!1},B);const{url:z,query:P,fragmentIdentifier:g}=e.parseUrl(W,B);return e.stringifyUrl({url:z,query:s(P,K),fragmentIdentifier:g},B)},e.exclude=(W,K,B)=>{const z=Array.isArray(K)?P=>!K.includes(P):(P,g)=>!K(P,g);return e.pick(W,z,B)}})(ya);const oO={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},Kf=":";function Yv(e){const[t,r]=e.split(Kf);return{namespace:t,reference:r}}function Jv(e){const{namespace:t,reference:r}=e;return[t,r].join(Kf)}function Td(e){const[t,r,n]=e.split(Kf);return{namespace:t,reference:r,address:n}}function Xv(e){const{namespace:t,reference:r,address:n}=e;return[t,r,n].join(Kf)}function Md(e,t){const r=[];return e.forEach(n=>{const s=t(n);r.includes(s)||r.push(s)}),r}function Zv(e){const{address:t}=Td(e);return t}function Qv(e){const{namespace:t,reference:r}=Td(e);return Jv({namespace:t,reference:r})}function aO(e,t){const{namespace:r,reference:n}=Yv(t);return Xv({namespace:r,reference:n,address:e})}function cO(e){return Md(e,Zv)}function e2(e){return Md(e,Qv)}function fO(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const s=e[n];r.push(...s.accounts)}),r}function uO(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const s=e[n];r.push(...e2(s.accounts))}),r}function lO(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const s=e[n];r.push(...Gf(n,s))}),r}function Gf(e,t){return e.includes(":")?[e]:t.chains||[]}const Wf=e=>e==null?void 0:e.split(":"),t2=e=>{const t=e&&Wf(e);if(t)return t[3]},dO=e=>{const t=e&&Wf(e);if(t)return t[2]+":"+t[3]},r2=e=>{const t=e&&Wf(e);if(t)return t.pop()},hO=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=r2(t),s=e.statement,i=`URI: ${e.aud}`,a=`Version: ${e.version}`,o=`Chain ID: ${t2(t)}`,f=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,l=e.resources&&e.resources.length>0?`Resources:
${e.resources.map(v=>`- ${v}`).join(`
`)}`:void 0;return[r,n,"",s,"",i,a,o,f,c,l].filter(v=>v!=null).join(`
`)},Cd="base10",ar="base16",zc="base64pad",Yf="utf8",Od=0,$i=1,pO=0,$1=1,i0=12,Pd=32;function n2(){const e=Ed.generateKeyPair();return{privateKey:gr(e.secretKey,ar),publicKey:gr(e.publicKey,ar)}}function Vc(){const e=vo.randomBytes(Pd);return gr(e,ar)}function i2(e,t){const r=Ed.sharedKey(wr(e,ar),wr(t,ar),!0),n=new CC(Vf.SHA256,r).expand(Pd);return gr(n,ar)}function s2(e){const t=Vf.hash(wr(e,ar));return gr(t,ar)}function ls(e){const t=Vf.hash(wr(e,Yf));return gr(t,ar)}function o2(e){return wr(`${e}`,Cd)}function _o(e){return Number(gr(e,Cd))}function a2(e){const t=o2(typeof e.type<"u"?e.type:Od);if(_o(t)===$i&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?wr(e.senderPublicKey,ar):void 0,n=typeof e.iv<"u"?wr(e.iv,ar):vo.randomBytes(i0),s=new wd.ChaCha20Poly1305(wr(e.symKey,ar)).seal(n,wr(e.message,Yf));return f2({type:t,sealed:s,iv:n,senderPublicKey:r})}function c2(e){const t=new wd.ChaCha20Poly1305(wr(e.symKey,ar)),{sealed:r,iv:n}=va(e.encoded),s=t.open(n,r);if(s===null)throw new Error("Failed to decrypt");return gr(s,Yf)}function f2(e){if(_o(e.type)===$i){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return gr(t0([e.type,e.senderPublicKey,e.iv,e.sealed]),zc)}return gr(t0([e.type,e.iv,e.sealed]),zc)}function va(e){const t=wr(e,zc),r=t.slice(pO,$1),n=$1;if(_o(r)===$i){const o=n+Pd,f=o+i0,c=t.slice(n,o),l=t.slice(o,f),v=t.slice(f);return{type:r,sealed:v,iv:l,senderPublicKey:c}}const s=n+i0,i=t.slice(n,s),a=t.slice(s);return{type:r,sealed:a,iv:i}}function u2(e,t){const r=va(e);return Dd({type:_o(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?gr(r.senderPublicKey,ar):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Dd(e){const t=(e==null?void 0:e.type)||Od;if(t===$i){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function s0(e){return e.type===$i&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var gO=Object.defineProperty,U1=Object.getOwnPropertySymbols,mO=Object.prototype.hasOwnProperty,bO=Object.prototype.propertyIsEnumerable,L1=(e,t,r)=>t in e?gO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F1=(e,t)=>{for(var r in t||(t={}))mO.call(t,r)&&L1(e,r,t[r]);if(U1)for(var r of U1(t))bO.call(t,r)&&L1(e,r,t[r]);return e};const l2="ReactNative",hr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Kc=" ",yO=":",d2="/",Nd=2,vO=1e3,h2="js";function Jf(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Es(){return!xd()&&!!Sd()&&navigator.product===l2}function xs(){return!Jf()&&!!Sd()&&!!xd()}function Ss(){return Es()?hr.reactNative:Jf()?hr.node:xs()?hr.browser:hr.unknown}function p2(){var e;try{return Es()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function g2(e,t){let r=ya.parse(e);return r=F1(F1({},r),t),e=ya.stringify(r),e}function m2(){return Gv()||{name:"",description:"",url:"",icons:[""]}}function wO(e,t){var r;const n=Ss(),s={protocol:e,version:t,env:n};return n==="browser"&&(s.host=((r=Ad())==null?void 0:r.host)||"unknown"),s}function b2(){if(Ss()===hr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=LC();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function y2(){var e;const t=Ss();return t===hr.browser?[t,((e=Ad())==null?void 0:e.host)||"unknown"].join(":"):t}function v2(e,t,r){const n=b2(),s=y2();return[[e,t].join("-"),[h2,r].join("-"),n,s].join("/")}function w2({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const f=r.split("?"),c=v2(e,t,n),l={auth:s,ua:c,projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},v=g2(f[1]||"",l);return f[0]+"?"+v}function _O(e){let t=(e.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const r=typeof t<"u"?e.split("://")[1]:e;return t=t==="wss"?"https":"http",[t,r].join("://")}function EO(e,t,r){if(!e[t]||typeof e[t]!==r)throw new Error(`Missing or invalid "${t}" param`)}function _2(e,t=Nd){return E2(e.split(d2),t)}function xO(e){return _2(e).join(Kc)}function Si(e,t){return e.filter(r=>t.includes(r)).length===e.length}function E2(e,t=Nd){return e.slice(Math.max(e.length-t,0))}function Rd(e){return Object.fromEntries(e.entries())}function Bd(e){return new Map(Object.entries(e))}function SO(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=t(e[n])}),r}const AO=e=>e;function x2(e){return e.trim().replace(/^\w/,t=>t.toUpperCase())}function IO(e){return e.split(Kc).map(t=>x2(t)).join(Kc)}function rs(e=Ve.FIVE_MINUTES,t){const r=Ve.toMiliseconds(e||Ve.FIVE_MINUTES);let n,s,i;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,o)=>{i=setTimeout(()=>{o(new Error(t))},r),n=a,s=o})}}function eo(e,t,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),t);try{const a=await e;n(a)}catch(a){s(a)}clearTimeout(i)})}function $d(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function S2(e){return $d("topic",e)}function A2(e){return $d("id",e)}function Ud(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function Hr(e,t){return Ve.fromMiliseconds((t||Date.now())+Ve.toMiliseconds(e))}function Wn(e){return Date.now()>=Ve.toMiliseconds(e)}function Ct(e,t){return`${e}${t?`:${t}`:""}`}function Ai(e=[],t=[]){return[...new Set([...e,...t])]}async function I2({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let s=n==null?void 0:n.href;if(typeof s!="string")return;s.endsWith("/")&&(s=s.slice(0,-1));const i=`${s}/wc?requestId=${e}&sessionTopic=${t}`,a=Ss();a===hr.browser?i.startsWith("https://")?window.open(i,"_blank","noreferrer noopener"):window.open(i,"_self","noreferrer noopener"):a===hr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(i)}catch(n){console.error(n)}}async function T2(e,t){try{return await e.getItem(t)||(xs()?localStorage.getItem(t):void 0)}catch(r){console.error(r)}}const M2="irn";function Gc(e){return(e==null?void 0:e.relay)||{protocol:M2}}function na(e){const t=oO[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var TO=Object.defineProperty,k1=Object.getOwnPropertySymbols,MO=Object.prototype.hasOwnProperty,CO=Object.prototype.propertyIsEnumerable,j1=(e,t,r)=>t in e?TO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,OO=(e,t)=>{for(var r in t||(t={}))MO.call(t,r)&&j1(e,r,t[r]);if(k1)for(var r of k1(t))CO.call(t,r)&&j1(e,r,t[r]);return e};function C2(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),a=e[s];r[i]=a}}),r}function o0(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),s=e.substring(t+1,r).split("@"),i=typeof r<"u"?e.substring(r):"",a=ya.parse(i);return{protocol:n,topic:O2(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:C2(a)}}function O2(e){return e.startsWith("//")?e.substring(2):e}function P2(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(s=>{const i=r+t+s;e[s]&&(n[i]=e[s])}),n}function D2(e){return`${e.protocol}:${e.topic}@${e.version}?`+ya.stringify(OO({symKey:e.symKey},P2(e.relay)))}var PO=Object.defineProperty,DO=Object.defineProperties,NO=Object.getOwnPropertyDescriptors,q1=Object.getOwnPropertySymbols,RO=Object.prototype.hasOwnProperty,BO=Object.prototype.propertyIsEnumerable,H1=(e,t,r)=>t in e?PO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$O=(e,t)=>{for(var r in t||(t={}))RO.call(t,r)&&H1(e,r,t[r]);if(q1)for(var r of q1(t))BO.call(t,r)&&H1(e,r,t[r]);return e},UO=(e,t)=>DO(e,NO(t));function As(e){const t=[];return e.forEach(r=>{const[n,s]=r.split(":");t.push(`${n}:${s}`)}),t}function N2(e){const t=[];return Object.values(e).forEach(r=>{t.push(...As(r.accounts))}),t}function R2(e,t){const r=[];return Object.values(e).forEach(n=>{As(n.accounts).includes(t)&&r.push(...n.methods)}),r}function B2(e,t){const r=[];return Object.values(e).forEach(n=>{As(n.accounts).includes(t)&&r.push(...n.events)}),r}function $2(e,t){const r=ia(e,t);if(r)throw new Error(r.message);const n={};for(const[s,i]of Object.entries(e))n[s]={methods:i.methods,events:i.events,chains:i.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return n}function LO(e){const{proposal:{requiredNamespaces:t,optionalNamespaces:r={}},supportedNamespaces:n}=e,s=a0(t),i=a0(r),a={};Object.keys(n).forEach(c=>{const l=n[c].chains,v=n[c].methods,S=n[c].events,D=n[c].accounts;l.forEach(C=>{if(!D.some(q=>q.includes(C)))throw new Error(`No accounts provided for chain ${C} in namespace ${c}`)}),a[c]={chains:l,methods:v,events:S,accounts:D}});const o=Wc(t,a,"approve()");if(o)throw new Error(o.message);const f={};return!Object.keys(t).length&&!Object.keys(r).length?a:(Object.keys(s).forEach(c=>{const l=n[c].chains.filter(C=>{var q,H;return(H=(q=s[c])==null?void 0:q.chains)==null?void 0:H.includes(C)}),v=n[c].methods.filter(C=>{var q,H;return(H=(q=s[c])==null?void 0:q.methods)==null?void 0:H.includes(C)}),S=n[c].events.filter(C=>{var q,H;return(H=(q=s[c])==null?void 0:q.events)==null?void 0:H.includes(C)}),D=l.map(C=>n[c].accounts.filter(q=>q.includes(`${C}:`))).flat();f[c]={chains:l,methods:v,events:S,accounts:D}}),Object.keys(i).forEach(c=>{var l,v,S,D,C,q;if(!n[c])return;const H=(v=(l=i[c])==null?void 0:l.chains)==null?void 0:v.filter(B=>n[c].chains.includes(B)),Z=n[c].methods.filter(B=>{var z,P;return(P=(z=i[c])==null?void 0:z.methods)==null?void 0:P.includes(B)}),W=n[c].events.filter(B=>{var z,P;return(P=(z=i[c])==null?void 0:z.events)==null?void 0:P.includes(B)}),K=H==null?void 0:H.map(B=>n[c].accounts.filter(z=>z.includes(`${B}:`))).flat();f[c]={chains:Ai((S=f[c])==null?void 0:S.chains,H),methods:Ai((D=f[c])==null?void 0:D.methods,Z),events:Ai((C=f[c])==null?void 0:C.events,W),accounts:Ai((q=f[c])==null?void 0:q.accounts,K)}}),f)}function Ld(e){return e.includes(":")}function U2(e){return Ld(e)?e.split(":")[0]:e}function a0(e){var t,r,n;const s={};if(!ds(e))return s;for(const[i,a]of Object.entries(e)){const o=Ld(i)?[i]:a.chains,f=a.methods||[],c=a.events||[],l=U2(i);s[l]=UO($O({},s[l]),{chains:Ai(o,(t=s[l])==null?void 0:t.chains),methods:Ai(f,(r=s[l])==null?void 0:r.methods),events:Ai(c,(n=s[l])==null?void 0:n.events)})}return s}const L2={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},F2={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Fe(e,t){const{message:r,code:n}=F2[e];return{message:t?`${r} ${t}`:r,code:n}}function Pt(e,t){const{message:r,code:n}=L2[e];return{message:t?`${r} ${t}`:r,code:n}}function Eo(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function ds(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function sr(e){return typeof e>"u"}function Rt(e,t){return t&&sr(e)?!0:typeof e=="string"&&!!e.trim().length}function Xf(e,t){return t&&sr(e)?!0:typeof e=="number"&&!isNaN(e)}function k2(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),s=Object.keys(r);let i=!0;return Si(s,n)?(n.forEach(a=>{const{accounts:o,methods:f,events:c}=e.namespaces[a],l=As(o),v=r[a];(!Si(Gf(a,v),l)||!Si(v.methods,f)||!Si(v.events,c))&&(i=!1)}),i):!1}function wa(e){return Rt(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function j2(e){if(Rt(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&wa(r)}}return!1}function q2(e){if(Rt(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function H2(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function z2(e){return e==null?void 0:e.topic}function V2(e,t){let r=null;return Rt(e==null?void 0:e.publicKey,!1)||(r=Fe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function c0(e){let t=!0;return Eo(e)?e.length&&(t=e.every(r=>Rt(r,!1))):t=!1,t}function K2(e,t,r){let n=null;return Eo(t)&&t.length?t.forEach(s=>{n||wa(s)||(n=Pt("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):wa(e)||(n=Pt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function G2(e,t,r){let n=null;return Object.entries(e).forEach(([s,i])=>{if(n)return;const a=K2(s,Gf(s,i),`${t} ${r}`);a&&(n=a)}),n}function W2(e,t){let r=null;return Eo(e)?e.forEach(n=>{r||j2(n)||(r=Pt("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Pt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Y2(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const s=W2(n==null?void 0:n.accounts,`${t} namespace`);s&&(r=s)}),r}function J2(e,t){let r=null;return c0(e==null?void 0:e.methods)?c0(e==null?void 0:e.events)||(r=Pt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Pt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function Fd(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const s=J2(n,`${t}, namespace`);s&&(r=s)}),r}function X2(e,t,r){let n=null;if(e&&ds(e)){const s=Fd(e,t);s&&(n=s);const i=G2(e,t,r);i&&(n=i)}else n=Fe("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function ia(e,t){let r=null;if(e&&ds(e)){const n=Fd(e,t);n&&(r=n);const s=Y2(e,t);s&&(r=s)}else r=Fe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function kd(e){return Rt(e.protocol,!0)}function Z2(e,t){let r=!1;return t&&!e?r=!0:e&&Eo(e)&&e.length&&e.forEach(n=>{r=kd(n)}),r}function Q2(e){return typeof e=="number"}function dr(e){return typeof e<"u"&&typeof e!==null}function ew(e){return!(!e||typeof e!="object"||!e.code||!Xf(e.code,!1)||!e.message||!Rt(e.message,!1))}function tw(e){return!(sr(e)||!Rt(e.method,!1))}function rw(e){return!(sr(e)||sr(e.result)&&sr(e.error)||!Xf(e.id,!1)||!Rt(e.jsonrpc,!1))}function nw(e){return!(sr(e)||!Rt(e.name,!1))}function f0(e,t){return!(!wa(t)||!N2(e).includes(t))}function iw(e,t,r){return Rt(r,!1)?R2(e,t).includes(r):!1}function sw(e,t,r){return Rt(r,!1)?B2(e,t).includes(r):!1}function Wc(e,t,r){let n=null;const s=FO(e),i=kO(t),a=Object.keys(s),o=Object.keys(i),f=z1(Object.keys(e)),c=z1(Object.keys(t)),l=f.filter(v=>!c.includes(v));return l.length&&(n=Fe("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),Si(a,o)||(n=Fe("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(t).forEach(v=>{if(!v.includes(":")||n)return;const S=As(t[v].accounts);S.includes(v)||(n=Fe("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${v}
        Required: ${v}
        Approved: ${S.toString()}`))}),a.forEach(v=>{n||(Si(s[v].methods,i[v].methods)?Si(s[v].events,i[v].events)||(n=Fe("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${v}`)):n=Fe("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${v}`))}),n}function FO(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(s=>{t[s]={methods:e[r].methods,events:e[r].events}})}),t}function z1(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function kO(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=As(e[r].accounts);n==null||n.forEach(s=>{t[s]={accounts:e[r].accounts.filter(i=>i.includes(`${s}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function ow(e,t){return Xf(e,!1)&&e<=t.max&&e>=t.min}function u0(){const e=Ss();return new Promise(t=>{switch(e){case hr.browser:t(aw());break;case hr.reactNative:t(cw());break;case hr.node:t(fw());break;default:t(!0)}})}function aw(){return xs()&&(navigator==null?void 0:navigator.onLine)}async function cw(){if(Es()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function fw(){return!0}function uw(e){switch(Ss()){case hr.browser:lw(e);break;case hr.reactNative:dw(e);break;case hr.node:break}}function lw(e){!Es()&&xs()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function dw(e){Es()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const nl={};let Wo=class{static get(t){return nl[t]}static set(t,r){nl[t]=r}static delete(t){delete nl[t]}};const jO=Object.freeze(Object.defineProperty({__proto__:null,BASE10:Cd,BASE16:ar,BASE64:zc,COLON:yO,DEFAULT_DEPTH:Nd,EMPTY_SPACE:Kc,ENV_MAP:hr,INTERNAL_ERRORS:F2,MemoryStore:Wo,ONE_THOUSAND:vO,REACT_NATIVE_PRODUCT:l2,RELAYER_DEFAULT_PROTOCOL:M2,SDK_ERRORS:L2,SDK_TYPE:h2,SLASH:d2,TYPE_0:Od,TYPE_1:$i,UTF8:Yf,appendToQueryString:g2,assertType:EO,buildApprovedNamespaces:LO,calcExpiry:Hr,capitalize:IO,capitalizeWord:x2,createDelayedPromise:rs,createExpiringPromise:eo,decodeTypeByte:_o,decrypt:c2,deriveSymKey:i2,deserialize:va,encodeTypeByte:o2,encrypt:a2,engineEvent:Ct,enumify:AO,formatAccountId:Xv,formatAccountWithChain:aO,formatChainId:Jv,formatExpirerTarget:$d,formatIdTarget:A2,formatMessage:hO,formatMessageContext:xO,formatRelayParams:P2,formatRelayRpcUrl:w2,formatTopicTarget:S2,formatUA:v2,formatUri:D2,generateKeyPair:n2,generateRandomBytes32:Vc,getAccountsChains:As,getAccountsFromNamespaces:fO,getAddressFromAccount:Zv,getAddressesFromAccounts:cO,getAppMetadata:m2,getBrowserOnlineStatus:aw,getBundleId:p2,getChainFromAccount:Qv,getChainsFromAccounts:e2,getChainsFromNamespace:Gf,getChainsFromNamespaces:uO,getChainsFromRequiredNamespaces:lO,getDeepLink:T2,getDidAddress:r2,getDidAddressSegments:Wf,getDidChainId:t2,getEnvironment:Ss,getHttpUrl:_O,getInternalError:Fe,getJavascriptID:y2,getJavascriptOS:b2,getLastItems:E2,getNamespacedDidChainId:dO,getNamespacesChains:N2,getNamespacesEventsForChainId:B2,getNamespacesMethodsForChainId:R2,getNodeOnlineStatus:fw,getReactNativeOnlineStatus:cw,getRelayClientMetadata:wO,getRelayProtocolApi:na,getRelayProtocolName:Gc,getRequiredNamespacesFromNamespaces:$2,getSdkError:Pt,getUniqueValues:Md,handleDeeplinkRedirect:I2,hasOverlap:Si,hashKey:s2,hashMessage:ls,isBrowser:xs,isCaipNamespace:Ld,isConformingNamespaces:Wc,isExpired:Wn,isNode:Jf,isOnline:u0,isProposalStruct:H2,isReactNative:Es,isSessionCompatible:k2,isSessionStruct:z2,isTypeOneEnvelope:s0,isUndefined:sr,isValidAccountId:j2,isValidAccounts:W2,isValidActions:J2,isValidArray:Eo,isValidChainId:wa,isValidChains:K2,isValidController:V2,isValidErrorReason:ew,isValidEvent:nw,isValidId:Q2,isValidNamespaceAccounts:Y2,isValidNamespaceActions:Fd,isValidNamespaceChains:G2,isValidNamespaceMethodsOrEvents:c0,isValidNamespaces:ia,isValidNamespacesChainId:f0,isValidNamespacesEvent:sw,isValidNamespacesRequest:iw,isValidNumber:Xf,isValidObject:ds,isValidParams:dr,isValidRelay:kd,isValidRelays:Z2,isValidRequest:tw,isValidRequestExpiry:ow,isValidRequiredNamespaces:X2,isValidResponse:rw,isValidString:Rt,isValidUrl:q2,mapEntries:SO,mapToObj:Rd,mergeArrays:Ai,normalizeNamespaces:a0,objToMap:Bd,parseAccountId:Td,parseChainId:Yv,parseContextNames:_2,parseExpirerTarget:Ud,parseNamespaceKey:U2,parseRelayParams:C2,parseTopic:O2,parseUri:o0,serialize:f2,subscribeToBrowserNetworkChange:lw,subscribeToNetworkChange:uw,subscribeToReactNativeNetworkChange:dw,validateDecoding:u2,validateEncoding:Dd},Symbol.toStringTag,{value:"Module"})),qO="PARSE_ERROR",HO="INVALID_REQUEST",zO="METHOD_NOT_FOUND",VO="INVALID_PARAMS",hw="INTERNAL_ERROR",jd="SERVER_ERROR",KO=[-32700,-32600,-32601,-32602,-32603],sa={[qO]:{code:-32700,message:"Parse error"},[HO]:{code:-32600,message:"Invalid Request"},[zO]:{code:-32601,message:"Method not found"},[VO]:{code:-32602,message:"Invalid params"},[hw]:{code:-32603,message:"Internal error"},[jd]:{code:-32e3,message:"Server error"}},pw=jd;function GO(e){return KO.includes(e)}function V1(e){return Object.keys(sa).includes(e)?sa[e]:sa[pw]}function WO(e){const t=Object.values(sa).find(r=>r.code===e);return t||sa[pw]}function YO(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var gw={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l0=function(e,t){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},l0(e,t)};function JO(e,t){l0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var d0=function(){return d0=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},d0.apply(this,arguments)};function XO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ZO(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function QO(e,t){return function(r,n){t(r,n,e)}}function eP(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function tP(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(v){a(v)}}function f(l){try{c(n.throw(l))}catch(v){a(v)}}function c(l){l.done?i(l.value):s(l.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function rP(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function nP(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function iP(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function h0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mw(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function sP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mw(arguments[t]));return e}function oP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function _a(e){return this instanceof _a?(this.v=e,this):new _a(e)}function aP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(S){n[S]&&(s[S]=function(D){return new Promise(function(C,q){i.push([S,D,C,q])>1||o(S,D)})})}function o(S,D){try{f(n[S](D))}catch(C){v(i[0][3],C)}}function f(S){S.value instanceof _a?Promise.resolve(S.value.v).then(c,l):v(i[0][2],S)}function c(S){o("next",S)}function l(S){o("throw",S)}function v(S,D){S(D),i.shift(),i.length&&o(i[0][0],i[0][1])}}function cP(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:_a(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function fP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof h0=="function"?h0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,f){a=e[i](a),s(o,f,a.done,a.value)})}}function s(i,a,o,f){Promise.resolve(f).then(function(c){i({value:c,done:o})},a)}}function uP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function lP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function dP(e){return e&&e.__esModule?e:{default:e}}function hP(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function pP(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const gP=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return d0},__asyncDelegator:cP,__asyncGenerator:aP,__asyncValues:fP,__await:_a,__awaiter:tP,__classPrivateFieldGet:hP,__classPrivateFieldSet:pP,__createBinding:nP,__decorate:ZO,__exportStar:iP,__extends:JO,__generator:rP,__importDefault:dP,__importStar:lP,__makeTemplateObject:uP,__metadata:eP,__param:QO,__read:mw,__rest:XO,__spread:sP,__spreadArrays:oP,__values:h0},Symbol.toStringTag,{value:"Module"})),mP=Ar(gP);var zn={},K1;function bP(){if(K1)return zn;K1=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.isBrowserCryptoAvailable=zn.getSubtleCrypto=zn.getBrowerCrypto=void 0;function e(){return(Be==null?void 0:Be.crypto)||(Be==null?void 0:Be.msCrypto)||{}}zn.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}zn.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return zn.isBrowserCryptoAvailable=r,zn}var Vn={},G1;function yP(){if(G1)return Vn;G1=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.isBrowser=Vn.isNode=Vn.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Vn.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Vn.isNode=t;function r(){return!e()&&!t()}return Vn.isBrowser=r,Vn}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=mP;t.__exportStar(bP(),e),t.__exportStar(yP(),e)})(gw);function qd(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function bw(e=6){return BigInt(qd(e))}function Ks(e,t,r){return{id:r||qd(),jsonrpc:"2.0",method:e,params:t}}function Hd(e,t){return{id:e,jsonrpc:"2.0",result:t}}function zd(e,t,r){return{id:e,jsonrpc:"2.0",error:vP(t,r)}}function vP(e,t){return typeof e>"u"?V1(hw):(typeof e=="string"&&(e=Object.assign(Object.assign({},V1(jd)),{message:e})),typeof t<"u"&&(e.data=t),GO(e.code)&&(e=WO(e.code)),e)}class wP{}class _P extends wP{constructor(){super()}}class EP extends _P{constructor(t){super()}}const xP="^wss?:";function SP(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function AP(e,t){const r=SP(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function W1(e){return AP(e,xP)}function IP(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function yw(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Vd(e){return yw(e)&&"method"in e}function Zf(e){return yw(e)&&(Gn(e)||rn(e))}function Gn(e){return"result"in e}function rn(e){return"error"in e}class TP extends EP{constructor(t){super(t),this.events=new un.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Ks(t.method,t.params||[],t.id||bw().toString()),r)}async requestStrict(t,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{rn(i)?s(i.error):n(i.result)});try{await this.connection.send(t,r)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Zf(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const MP=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),CP=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Y1=e=>e.split("?")[0],J1=10,OP=MP();let PP=class{constructor(t){if(this.url=t,this.events=new un.EventEmitter,this.registering=!1,!W1(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ua(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!W1(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const s=new URLSearchParams(t).get("origin"),i=gw.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!IP(t)},a=new OP(t,[],i);CP()?a.onerror=o=>{const f=o;n(this.emitError(f.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?Uf(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),s=n.message||n.toString(),i=zd(t,s);this.events.emit("payload",i)}parseError(t,r=this.url){return YO(t,Y1(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>J1&&this.events.setMaxListeners(J1)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Y1(this.url)}`));return this.events.emit("register_error",r),r}};var Yc={exports:{}};Yc.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",v="[object Date]",S="[object Error]",D="[object Function]",C="[object GeneratorFunction]",q="[object Map]",H="[object Number]",Z="[object Null]",W="[object Object]",K="[object Promise]",B="[object Proxy]",z="[object RegExp]",P="[object Set]",g="[object String]",$="[object Symbol]",Y="[object Undefined]",Q="[object WeakMap]",G="[object ArrayBuffer]",h="[object DataView]",m="[object Float32Array]",u="[object Float64Array]",p="[object Int8Array]",A="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",w="[object Uint16Array]",I="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,fe={};fe[m]=fe[u]=fe[p]=fe[A]=fe[x]=fe[O]=fe[N]=fe[w]=fe[I]=!0,fe[o]=fe[f]=fe[G]=fe[l]=fe[h]=fe[v]=fe[S]=fe[D]=fe[q]=fe[H]=fe[W]=fe[z]=fe[P]=fe[g]=fe[Q]=!1;var be=typeof Be=="object"&&Be&&Be.Object===Object&&Be,he=typeof self=="object"&&self&&self.Object===Object&&self,pe=be||he||Function("return this")(),le=t&&!t.nodeType&&t,y=le&&!0&&e&&!e.nodeType&&e,F=y&&y.exports===le,re=F&&be.process,j=function(){try{return re&&re.binding&&re.binding("util")}catch{}}(),J=j&&j.isTypedArray;function te(de,we){for(var Pe=-1,ze=de==null?0:de.length,vt=0,nt=[];++Pe<ze;){var Tt=de[Pe];we(Tt,Pe,de)&&(nt[vt++]=Tt)}return nt}function R(de,we){for(var Pe=-1,ze=we.length,vt=de.length;++Pe<ze;)de[vt+Pe]=we[Pe];return de}function _(de,we){for(var Pe=-1,ze=de==null?0:de.length;++Pe<ze;)if(we(de[Pe],Pe,de))return!0;return!1}function E(de,we){for(var Pe=-1,ze=Array(de);++Pe<de;)ze[Pe]=we(Pe);return ze}function L(de){return function(we){return de(we)}}function V(de,we){return de.has(we)}function ee(de,we){return de==null?void 0:de[we]}function ie(de){var we=-1,Pe=Array(de.size);return de.forEach(function(ze,vt){Pe[++we]=[vt,ze]}),Pe}function me(de,we){return function(Pe){return de(we(Pe))}}function ye(de){var we=-1,Pe=Array(de.size);return de.forEach(function(ze){Pe[++we]=ze}),Pe}var ve=Array.prototype,Se=Function.prototype,M=Object.prototype,d=pe["__core-js_shared__"],b=Se.toString,U=M.hasOwnProperty,X=function(){var de=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return de?"Symbol(src)_1."+de:""}(),se=M.toString,oe=RegExp("^"+b.call(U).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=F?pe.Buffer:void 0,xe=pe.Symbol,Ae=pe.Uint8Array,Me=M.propertyIsEnumerable,De=ve.splice,Le=xe?xe.toStringTag:void 0,Ze=Object.getOwnPropertySymbols,it=_e?_e.isBuffer:void 0,je=me(Object.keys,Object),qe=Cs(pe,"DataView"),Ge=Cs(pe,"Map"),ae=Cs(pe,"Promise"),ne=Cs(pe,"Set"),ue=Cs(pe,"WeakMap"),ge=Cs(Object,"create"),Ee=Fi(qe),Ie=Fi(Ge),Te=Fi(ae),Ce=Fi(ne),Re=Fi(ue),Oe=xe?xe.prototype:void 0,$e=Oe?Oe.valueOf:void 0;function Ue(de){var we=-1,Pe=de==null?0:de.length;for(this.clear();++we<Pe;){var ze=de[we];this.set(ze[0],ze[1])}}function Ne(){this.__data__=ge?ge(null):{},this.size=0}function Ke(de){var we=this.has(de)&&delete this.__data__[de];return this.size-=we?1:0,we}function Xe(de){var we=this.__data__;if(ge){var Pe=we[de];return Pe===n?void 0:Pe}return U.call(we,de)?we[de]:void 0}function We(de){var we=this.__data__;return ge?we[de]!==void 0:U.call(we,de)}function dt(de,we){var Pe=this.__data__;return this.size+=this.has(de)?0:1,Pe[de]=ge&&we===void 0?n:we,this}Ue.prototype.clear=Ne,Ue.prototype.delete=Ke,Ue.prototype.get=Xe,Ue.prototype.has=We,Ue.prototype.set=dt;function rt(de){var we=-1,Pe=de==null?0:de.length;for(this.clear();++we<Pe;){var ze=de[we];this.set(ze[0],ze[1])}}function ft(){this.__data__=[],this.size=0}function mr(de){var we=this.__data__,Pe=Va(we,de);if(Pe<0)return!1;var ze=we.length-1;return Pe==ze?we.pop():De.call(we,Pe,1),--this.size,!0}function Ir(de){var we=this.__data__,Pe=Va(we,de);return Pe<0?void 0:we[Pe][1]}function cr(de){return Va(this.__data__,de)>-1}function ln(de,we){var Pe=this.__data__,ze=Va(Pe,de);return ze<0?(++this.size,Pe.push([de,we])):Pe[ze][1]=we,this}rt.prototype.clear=ft,rt.prototype.delete=mr,rt.prototype.get=Ir,rt.prototype.has=cr,rt.prototype.set=ln;function fr(de){var we=-1,Pe=de==null?0:de.length;for(this.clear();++we<Pe;){var ze=de[we];this.set(ze[0],ze[1])}}function Nn(){this.size=0,this.__data__={hash:new Ue,map:new(Ge||rt),string:new Ue}}function Rn(de){var we=Ka(this,de).delete(de);return this.size-=we?1:0,we}function Bn(de){return Ka(this,de).get(de)}function $n(de){return Ka(this,de).has(de)}function Un(de,we){var Pe=Ka(this,de),ze=Pe.size;return Pe.set(de,we),this.size+=Pe.size==ze?0:1,this}fr.prototype.clear=Nn,fr.prototype.delete=Rn,fr.prototype.get=Bn,fr.prototype.has=$n,fr.prototype.set=Un;function Ur(de){var we=-1,Pe=de==null?0:de.length;for(this.__data__=new fr;++we<Pe;)this.add(de[we])}function Ln(de){return this.__data__.set(de,n),this}function Fn(de){return this.__data__.has(de)}Ur.prototype.add=Ur.prototype.push=Ln,Ur.prototype.has=Fn;function Qt(de){var we=this.__data__=new rt(de);this.size=we.size}function kn(){this.__data__=new rt,this.size=0}function jn(de){var we=this.__data__,Pe=we.delete(de);return this.size=we.size,Pe}function qn(de){return this.__data__.get(de)}function Io(de){return this.__data__.has(de)}function To(de,we){var Pe=this.__data__;if(Pe instanceof rt){var ze=Pe.__data__;if(!Ge||ze.length<r-1)return ze.push([de,we]),this.size=++Pe.size,this;Pe=this.__data__=new fr(ze)}return Pe.set(de,we),this.size=Pe.size,this}Qt.prototype.clear=kn,Qt.prototype.delete=jn,Qt.prototype.get=qn,Qt.prototype.has=Io,Qt.prototype.set=To;function d3(de,we){var Pe=Ga(de),ze=!Pe&&T3(de),vt=!Pe&&!ze&&hu(de),nt=!Pe&&!ze&&!vt&&Ih(de),Tt=Pe||ze||vt||nt,$t=Tt?E(de.length,String):[],jt=$t.length;for(var It in de)(we||U.call(de,It))&&!(Tt&&(It=="length"||vt&&(It=="offset"||It=="parent")||nt&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||E3(It,jt)))&&$t.push(It);return $t}function Va(de,we){for(var Pe=de.length;Pe--;)if(Eh(de[Pe][0],we))return Pe;return-1}function h3(de,we,Pe){var ze=we(de);return Ga(de)?ze:R(ze,Pe(de))}function Mo(de){return de==null?de===void 0?Y:Z:Le&&Le in Object(de)?w3(de):I3(de)}function yh(de){return Co(de)&&Mo(de)==o}function vh(de,we,Pe,ze,vt){return de===we?!0:de==null||we==null||!Co(de)&&!Co(we)?de!==de&&we!==we:p3(de,we,Pe,ze,vh,vt)}function p3(de,we,Pe,ze,vt,nt){var Tt=Ga(de),$t=Ga(we),jt=Tt?f:fi(de),It=$t?f:fi(we);jt=jt==o?W:jt,It=It==o?W:It;var Tr=jt==W,Jr=It==W,er=jt==It;if(er&&hu(de)){if(!hu(we))return!1;Tt=!0,Tr=!1}if(er&&!Tr)return nt||(nt=new Qt),Tt||Ih(de)?wh(de,we,Pe,ze,vt,nt):y3(de,we,jt,Pe,ze,vt,nt);if(!(Pe&s)){var Lr=Tr&&U.call(de,"__wrapped__"),Fr=Jr&&U.call(we,"__wrapped__");if(Lr||Fr){var ui=Lr?de.value():de,Hn=Fr?we.value():we;return nt||(nt=new Qt),vt(ui,Hn,Pe,ze,nt)}}return er?(nt||(nt=new Qt),v3(de,we,Pe,ze,vt,nt)):!1}function g3(de){if(!Ah(de)||S3(de))return!1;var we=xh(de)?oe:k;return we.test(Fi(de))}function m3(de){return Co(de)&&Sh(de.length)&&!!fe[Mo(de)]}function b3(de){if(!A3(de))return je(de);var we=[];for(var Pe in Object(de))U.call(de,Pe)&&Pe!="constructor"&&we.push(Pe);return we}function wh(de,we,Pe,ze,vt,nt){var Tt=Pe&s,$t=de.length,jt=we.length;if($t!=jt&&!(Tt&&jt>$t))return!1;var It=nt.get(de);if(It&&nt.get(we))return It==we;var Tr=-1,Jr=!0,er=Pe&i?new Ur:void 0;for(nt.set(de,we),nt.set(we,de);++Tr<$t;){var Lr=de[Tr],Fr=we[Tr];if(ze)var ui=Tt?ze(Fr,Lr,Tr,we,de,nt):ze(Lr,Fr,Tr,de,we,nt);if(ui!==void 0){if(ui)continue;Jr=!1;break}if(er){if(!_(we,function(Hn,ki){if(!V(er,ki)&&(Lr===Hn||vt(Lr,Hn,Pe,ze,nt)))return er.push(ki)})){Jr=!1;break}}else if(!(Lr===Fr||vt(Lr,Fr,Pe,ze,nt))){Jr=!1;break}}return nt.delete(de),nt.delete(we),Jr}function y3(de,we,Pe,ze,vt,nt,Tt){switch(Pe){case h:if(de.byteLength!=we.byteLength||de.byteOffset!=we.byteOffset)return!1;de=de.buffer,we=we.buffer;case G:return!(de.byteLength!=we.byteLength||!nt(new Ae(de),new Ae(we)));case l:case v:case H:return Eh(+de,+we);case S:return de.name==we.name&&de.message==we.message;case z:case g:return de==we+"";case q:var $t=ie;case P:var jt=ze&s;if($t||($t=ye),de.size!=we.size&&!jt)return!1;var It=Tt.get(de);if(It)return It==we;ze|=i,Tt.set(de,we);var Tr=wh($t(de),$t(we),ze,vt,nt,Tt);return Tt.delete(de),Tr;case $:if($e)return $e.call(de)==$e.call(we)}return!1}function v3(de,we,Pe,ze,vt,nt){var Tt=Pe&s,$t=_h(de),jt=$t.length,It=_h(we),Tr=It.length;if(jt!=Tr&&!Tt)return!1;for(var Jr=jt;Jr--;){var er=$t[Jr];if(!(Tt?er in we:U.call(we,er)))return!1}var Lr=nt.get(de);if(Lr&&nt.get(we))return Lr==we;var Fr=!0;nt.set(de,we),nt.set(we,de);for(var ui=Tt;++Jr<jt;){er=$t[Jr];var Hn=de[er],ki=we[er];if(ze)var Th=Tt?ze(ki,Hn,er,we,de,nt):ze(Hn,ki,er,de,we,nt);if(!(Th===void 0?Hn===ki||vt(Hn,ki,Pe,ze,nt):Th)){Fr=!1;break}ui||(ui=er=="constructor")}if(Fr&&!ui){var Wa=de.constructor,Ya=we.constructor;Wa!=Ya&&"constructor"in de&&"constructor"in we&&!(typeof Wa=="function"&&Wa instanceof Wa&&typeof Ya=="function"&&Ya instanceof Ya)&&(Fr=!1)}return nt.delete(de),nt.delete(we),Fr}function _h(de){return h3(de,O3,_3)}function Ka(de,we){var Pe=de.__data__;return x3(we)?Pe[typeof we=="string"?"string":"hash"]:Pe.map}function Cs(de,we){var Pe=ee(de,we);return g3(Pe)?Pe:void 0}function w3(de){var we=U.call(de,Le),Pe=de[Le];try{de[Le]=void 0;var ze=!0}catch{}var vt=se.call(de);return ze&&(we?de[Le]=Pe:delete de[Le]),vt}var _3=Ze?function(de){return de==null?[]:(de=Object(de),te(Ze(de),function(we){return Me.call(de,we)}))}:P3,fi=Mo;(qe&&fi(new qe(new ArrayBuffer(1)))!=h||Ge&&fi(new Ge)!=q||ae&&fi(ae.resolve())!=K||ne&&fi(new ne)!=P||ue&&fi(new ue)!=Q)&&(fi=function(de){var we=Mo(de),Pe=we==W?de.constructor:void 0,ze=Pe?Fi(Pe):"";if(ze)switch(ze){case Ee:return h;case Ie:return q;case Te:return K;case Ce:return P;case Re:return Q}return we});function E3(de,we){return we=we??a,!!we&&(typeof de=="number"||ce.test(de))&&de>-1&&de%1==0&&de<we}function x3(de){var we=typeof de;return we=="string"||we=="number"||we=="symbol"||we=="boolean"?de!=="__proto__":de===null}function S3(de){return!!X&&X in de}function A3(de){var we=de&&de.constructor,Pe=typeof we=="function"&&we.prototype||M;return de===Pe}function I3(de){return se.call(de)}function Fi(de){if(de!=null){try{return b.call(de)}catch{}try{return de+""}catch{}}return""}function Eh(de,we){return de===we||de!==de&&we!==we}var T3=yh(function(){return arguments}())?yh:function(de){return Co(de)&&U.call(de,"callee")&&!Me.call(de,"callee")},Ga=Array.isArray;function M3(de){return de!=null&&Sh(de.length)&&!xh(de)}var hu=it||D3;function C3(de,we){return vh(de,we)}function xh(de){if(!Ah(de))return!1;var we=Mo(de);return we==D||we==C||we==c||we==B}function Sh(de){return typeof de=="number"&&de>-1&&de%1==0&&de<=a}function Ah(de){var we=typeof de;return de!=null&&(we=="object"||we=="function")}function Co(de){return de!=null&&typeof de=="object"}var Ih=J?L(J):m3;function O3(de){return M3(de)?d3(de):b3(de)}function P3(){return[]}function D3(){return!1}e.exports=C3})(Yc,Yc.exports);var DP=Yc.exports;const NP=Oa(DP);function RP(e,t){return t=t||{},new Promise(function(r,n){var s=new XMLHttpRequest,i=[],a=[],o={},f=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:f,headers:{keys:function(){return i},entries:function(){return a},get:function(l){return o[l.toLowerCase()]},has:function(l){return l.toLowerCase()in o}}}};for(var c in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,v,S){i.push(v=v.toLowerCase()),a.push([v,S]),o[v]=o[v]?o[v]+","+S:S}),r(f())},s.onerror=n,s.withCredentials=t.credentials=="include",t.headers)s.setRequestHeader(c,t.headers[c]);s.send(t.body||null)})}const BP=Object.freeze(Object.defineProperty({__proto__:null,default:RP},Symbol.toStringTag,{value:"Module"})),X1=Ar(BP);var $P=self.fetch||(self.fetch=X1.default||X1);const UP=Oa($P);var LP={};function FP(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=s}var o=e.length,f=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function v(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var q=0,H=0,Z=0,W=C.length;Z!==W&&C[Z]===0;)Z++,q++;for(var K=(W-Z)*l+1>>>0,B=new Uint8Array(K);Z!==W;){for(var z=C[Z],P=0,g=K-1;(z!==0||P<H)&&g!==-1;g--,P++)z+=256*B[g]>>>0,B[g]=z%o>>>0,z=z/o>>>0;if(z!==0)throw new Error("Non-zero carry");H=P,Z++}for(var $=K-H;$!==K&&B[$]===0;)$++;for(var Y=f.repeat(q);$<K;++$)Y+=e.charAt(B[$]);return Y}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var q=0;if(C[q]!==" "){for(var H=0,Z=0;C[q]===f;)H++,q++;for(var W=(C.length-q)*c+1>>>0,K=new Uint8Array(W);C[q];){var B=r[C.charCodeAt(q)];if(B===255)return;for(var z=0,P=W-1;(B!==0||z<Z)&&P!==-1;P--,z++)B+=o*K[P]>>>0,K[P]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");Z=z,q++}if(C[q]!==" "){for(var g=W-Z;g!==W&&K[g]===0;)g++;for(var $=new Uint8Array(H+(W-g)),Y=H;g!==W;)$[Y++]=K[g++];return $}}}function D(C){var q=S(C);if(q)return q;throw new Error(`Non-${t} character`)}return{encode:v,decodeUnsafe:S,decode:D}}var kP=FP,jP=kP;const vw=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},qP=e=>new TextEncoder().encode(e),HP=e=>new TextDecoder().decode(e);class zP{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}let VP=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ww(this,t)}},KP=class{constructor(t){this.decoders=t}or(t){return ww(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ww=(e,t)=>new KP({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let GP=class{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new zP(t,r,n),this.decoder=new VP(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const Qf=({name:e,prefix:t,encode:r,decode:n})=>new GP(e,t,r,n),ka=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:s}=jP(r,t);return Qf({prefix:e,name:t,encode:n,decode:i=>vw(s(i))})},WP=(e,t,r,n)=>{const s={};for(let l=0;l<t.length;++l)s[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let o=0,f=0,c=0;for(let l=0;l<i;++l){const v=s[e[l]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|v,o+=r,o>=8&&(o-=8,a[c++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return a},YP=(e,t,r)=>{const n=t[t.length-1]==="=",s=(1<<r)-1;let i="",a=0,o=0;for(let f=0;f<e.length;++f)for(o=o<<8|e[f],a+=8;a>r;)a-=r,i+=t[s&o>>a];if(a&&(i+=t[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i},Zt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Qf({prefix:t,name:e,encode(s){return YP(s,n,r)},decode(s){return WP(s,n,r,e)}}),JP=Qf({prefix:"\0",name:"identity",encode:e=>HP(e),decode:e=>qP(e)});var XP=Object.freeze({__proto__:null,identity:JP});const ZP=Zt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var QP=Object.freeze({__proto__:null,base2:ZP});const eD=Zt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tD=Object.freeze({__proto__:null,base8:eD});const rD=ka({prefix:"9",name:"base10",alphabet:"0123456789"});var nD=Object.freeze({__proto__:null,base10:rD});const iD=Zt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sD=Zt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var oD=Object.freeze({__proto__:null,base16:iD,base16upper:sD});const aD=Zt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cD=Zt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fD=Zt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uD=Zt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lD=Zt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dD=Zt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hD=Zt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pD=Zt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gD=Zt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var mD=Object.freeze({__proto__:null,base32:aD,base32upper:cD,base32pad:fD,base32padupper:uD,base32hex:lD,base32hexupper:dD,base32hexpad:hD,base32hexpadupper:pD,base32z:gD});const bD=ka({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yD=ka({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var vD=Object.freeze({__proto__:null,base36:bD,base36upper:yD});const wD=ka({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_D=ka({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ED=Object.freeze({__proto__:null,base58btc:wD,base58flickr:_D});const xD=Zt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),SD=Zt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),AD=Zt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ID=Zt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var TD=Object.freeze({__proto__:null,base64:xD,base64pad:SD,base64url:AD,base64urlpad:ID});const _w=Array.from(""),MD=_w.reduce((e,t,r)=>(e[r]=t,e),[]),CD=_w.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function OD(e){return e.reduce((t,r)=>(t+=MD[r],t),"")}function PD(e){const t=[];for(const r of e){const n=CD[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const DD=Qf({prefix:"",name:"base256emoji",encode:OD,decode:PD});var ND=Object.freeze({__proto__:null,base256emoji:DD}),RD=Ew,Z1=128,BD=127,$D=~BD,UD=Math.pow(2,31);function Ew(e,t,r){t=t||[],r=r||0;for(var n=r;e>=UD;)t[r++]=e&255|Z1,e/=128;for(;e&$D;)t[r++]=e&255|Z1,e>>>=7;return t[r]=e|0,Ew.bytes=r-n+1,t}var LD=p0,FD=128,Q1=127;function p0(e,n){var r=0,n=n||0,s=0,i=n,a,o=e.length;do{if(i>=o)throw p0.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=s<28?(a&Q1)<<s:(a&Q1)*Math.pow(2,s),s+=7}while(a>=FD);return p0.bytes=i-n,r}var kD=Math.pow(2,7),jD=Math.pow(2,14),qD=Math.pow(2,21),HD=Math.pow(2,28),zD=Math.pow(2,35),VD=Math.pow(2,42),KD=Math.pow(2,49),GD=Math.pow(2,56),WD=Math.pow(2,63),YD=function(e){return e<kD?1:e<jD?2:e<qD?3:e<HD?4:e<zD?5:e<VD?6:e<KD?7:e<GD?8:e<WD?9:10},JD={encode:RD,decode:LD,encodingLength:YD},xw=JD;const eg=(e,t,r=0)=>(xw.encode(e,t,r),t),tg=e=>xw.encodingLength(e),g0=(e,t)=>{const r=t.byteLength,n=tg(e),s=n+tg(r),i=new Uint8Array(s+r);return eg(e,i,0),eg(r,i,n),i.set(t,s),new XD(e,r,t,i)};class XD{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}}const Sw=({name:e,code:t,encode:r})=>new ZD(e,t,r);class ZD{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?g0(this.code,r):r.then(n=>g0(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Aw=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),QD=Sw({name:"sha2-256",code:18,encode:Aw("SHA-256")}),eN=Sw({name:"sha2-512",code:19,encode:Aw("SHA-512")});var tN=Object.freeze({__proto__:null,sha256:QD,sha512:eN});const Iw=0,rN="identity",Tw=vw,nN=e=>g0(Iw,Tw(e)),iN={code:Iw,name:rN,encode:Tw,digest:nN};var sN=Object.freeze({__proto__:null,identity:iN});new TextEncoder,new TextDecoder;const rg={...XP,...QP,...tD,...nD,...oD,...mD,...vD,...ED,...TD,...ND};({...tN,...sN});function Mw(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function oN(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Mw(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Cw(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const ng=Cw("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),il=Cw("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=oN(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),aN={utf8:ng,"utf-8":ng,hex:rg.base16,latin1:il,ascii:il,binary:il,...rg};function cN(e,t="utf8"){const r=aN[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Mw(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const Kd="wc",Ow=2,eu="core",ii=`${Kd}@2:${eu}:`,Pw={name:eu,logger:"error"},Dw={database:":memory:"},Nw="crypto",m0="client_ed25519_seed",Rw=Ve.ONE_DAY,Bw="keychain",$w="0.3",Uw="messages",Lw="0.3",Fw=Ve.SIX_HOURS,kw="publisher",Gd="irn",jw="error",Wd="wss://relay.walletconnect.com",b0="wss://relay.walletconnect.org",qw="relayer",Gt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Hw="_subscription",pn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},zw=Ve.ONE_SECOND,fN={database:":memory:"},Vw="2.11.0",Kw=1e4,Gw="0.3",Ww="WALLETCONNECT_CLIENT_ID",qr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},uN=Ve.THIRTY_DAYS,Yw="subscription",Jw="0.3",Xw=Ve.FIVE_SECONDS*1e3,Zw="pairing",Qw="0.3",lN=Ve.THIRTY_DAYS,Bs={wc_pairingDelete:{req:{ttl:Ve.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ve.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ve.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ve.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ve.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ve.ONE_DAY,prompt:!1,tag:0}}},Ls={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Qr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},e_="history",t_="0.3",r_="expirer",Or={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},n_="0.3",dN=Ve.ONE_DAY,Ec="verify-api",ss="https://verify.walletconnect.com",Jc="https://verify.walletconnect.org",i_=[ss,Jc],s_="echo",o_="https://echo.walletconnect.com";class a_{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=Bw,this.version=$w,this.initialized=!1,this.storagePrefix=ii,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=Fe("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=ct.generateChildLogger(r,this.name)}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Rd(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Bd(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class c_{constructor(t,r,n){this.core=t,this.logger=r,this.name=Nw,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=I1(s);return jv(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=n2();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),a=I1(i),o=Vc();return await mC(o,s,Rw,a)},this.generateSharedKey=(s,i,a)=>{this.isInitialized();const o=this.getPrivateKey(s),f=i2(o,i);return this.setSymKey(f,a)},this.setSymKey=async(s,i)=>{this.isInitialized();const a=i||s2(s);return await this.keychain.set(a,s),a},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,a)=>{this.isInitialized();const o=Dd(a),f=Ua(i);if(s0(o)){const S=o.senderPublicKey,D=o.receiverPublicKey;s=await this.generateSharedKey(S,D)}const c=this.getSymKey(s),{type:l,senderPublicKey:v}=o;return a2({type:l,symKey:c,message:f,senderPublicKey:v})},this.decode=async(s,i,a)=>{this.isInitialized();const o=u2(i,a);if(s0(o)){const f=o.receiverPublicKey,c=o.senderPublicKey;s=await this.generateSharedKey(f,c)}try{const f=this.getSymKey(s),c=c2({symKey:f,encoded:i});return Uf(c)}catch(f){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}},this.getPayloadType=s=>{const i=va(s);return _o(i.type)},this.getPayloadSenderPublicKey=s=>{const i=va(s);return i.senderPublicKey?gr(i.senderPublicKey,ar):void 0},this.core=t,this.logger=ct.generateChildLogger(r,this.name),this.keychain=n||new a_(this.core,this.logger)}get context(){return ct.getLoggerContext(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(m0)}catch{t=Vc(),await this.keychain.set(m0,t)}return cN(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class f_ extends xT{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=Uw,this.version=Lw,this.initialized=!1,this.storagePrefix=ii,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=ls(s);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[i]<"u"||(a[i]=s,this.messages.set(n,a),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),a=ls(s);return typeof i[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=ct.generateChildLogger(t,this.name),this.core=r}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Rd(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Bd(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class hN extends ST{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new un.EventEmitter,this.name=kw,this.queue=new Map,this.publishTimeout=Ve.toMiliseconds(Ve.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});try{const o=(i==null?void 0:i.ttl)||Fw,f=Gc(i),c=(i==null?void 0:i.prompt)||!1,l=(i==null?void 0:i.tag)||0,v=(i==null?void 0:i.id)||bw().toString(),S={topic:n,message:s,opts:{ttl:o,relay:f,prompt:c,tag:l,id:v}},D=setTimeout(()=>this.queue.set(v,S),this.publishTimeout);try{await await eo(this.rpcPublish(n,s,o,f,c,l,v),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(v),this.relayer.events.emit(Gt.publish,S)}catch(C){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(a=i==null?void 0:i.internal)!=null&&a.throwOnFailedPublish)throw this.removeRequestFromQueue(v),C;return}finally{clearTimeout(D)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=t,this.logger=ct.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return ct.getLoggerContext(this.logger)}rpcPublish(t,r,n,s,i,a,o){var f,c,l,v;const S={method:na(s.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:i,tag:a},id:o};return sr((f=S.params)==null?void 0:f.prompt)&&((c=S.params)==null||delete c.prompt),sr((l=S.params)==null?void 0:l.tag)&&((v=S.params)==null||delete v.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:S}),this.relayer.request(S)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:s}=t;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(yo.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Gt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Gt.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class pN{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(t);return}this.map.set(t,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var gN=Object.defineProperty,mN=Object.defineProperties,bN=Object.getOwnPropertyDescriptors,ig=Object.getOwnPropertySymbols,yN=Object.prototype.hasOwnProperty,vN=Object.prototype.propertyIsEnumerable,sg=(e,t,r)=>t in e?gN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qo=(e,t)=>{for(var r in t||(t={}))yN.call(t,r)&&sg(e,r,t[r]);if(ig)for(var r of ig(t))vN.call(t,r)&&sg(e,r,t[r]);return e},sl=(e,t)=>mN(e,bN(t));class u_ extends TT{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new pN,this.events=new un.EventEmitter,this.name=Yw,this.version=Jw,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ii,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=Gc(s),a={topic:n,relay:i};this.pending.set(n,a);const o=await this.rpcSubscribe(n,i);return this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}}),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((s,i)=>{const a=new Ve.Watch;a.start(this.pendingSubscriptionWatchLabel);const o=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(o),a.stop(this.pendingSubscriptionWatchLabel),s(!0)),a.elapsed(this.pendingSubscriptionWatchLabel)>=Xw&&(clearInterval(o),a.stop(this.pendingSubscriptionWatchLabel),i(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=ct.generateChildLogger(r,this.name),this.clientId=""}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async s=>await this.unsubscribeById(t,s,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const s=Gc(n);await this.rpcUnsubscribe(t,r,s);const i=Pt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,r){const n={method:na(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await eo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Gt.connection_stalled)}return ls(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:na(r.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await eo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Gt.connection_stalled)}}rpcUnsubscribe(t,r,n){const s={method:na(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,r){this.setSubscription(t,sl(qo({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,qo({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,qo({},r)),this.topicMap.set(r.topic,t),this.events.emit(qr.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=Fe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(qr.deleted,sl(qo({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(qr.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(qr.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);Eo(r)&&this.onBatchSubscribe(r.map((n,s)=>sl(qo({},t[s]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(yo.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Gt.connect,async()=>{await this.onConnect()}),this.relayer.on(Gt.disconnect,()=>{this.onDisconnect()}),this.events.on(qr.created,async t=>{const r=qr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(qr.deleted,async t=>{const r=qr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var wN=Object.defineProperty,og=Object.getOwnPropertySymbols,_N=Object.prototype.hasOwnProperty,EN=Object.prototype.propertyIsEnumerable,ag=(e,t,r)=>t in e?wN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xN=(e,t)=>{for(var r in t||(t={}))_N.call(t,r)&&ag(e,r,t[r]);if(og)for(var r of og(t))EN.call(t,r)&&ag(e,r,t[r]);return e};class l_ extends AT{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new un.EventEmitter,this.name=qw,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(Gt.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Gt.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(pn.payload,this.onPayloadHandler),this.provider.on(pn.connect,this.onConnectHandler),this.provider.on(pn.disconnect,this.onDisconnectHandler),this.provider.on(pn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ct.generateChildLogger(t.logger,this.name):ct.pino(ct.getDefaultLoggerOptions({level:t.logger||jw})),this.messages=new f_(this.logger,t.core),this.subscriber=new u_(this,this.logger),this.publisher=new hN(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||Wd,this.projectId=t.projectId,this.bundleId=p2(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${b0}...`),await this.restartTransport(b0)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},Kw)}get context(){return ct.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var n;this.isInitialized();let s=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"";if(s)return s;let i;const a=o=>{o.topic===t&&(this.subscriber.off(qr.created,a),i())};return await Promise.all([new Promise(o=>{i=o,this.subscriber.on(qr.created,a)}),new Promise(async o=>{s=await this.subscriber.subscribe(t,r),o()})]),s}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await eo(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(t){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(qr.resubscribed,()=>{r()})}),new Promise(async(r,n)=>{try{await eo(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(s){n(s);return}r()})])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.provider.events.emit(pn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(t){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await u0())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new TP(new PP(w2({sdkVersion:Vw,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Vd(t)){if(!t.method.endsWith(Hw))return;const r=t.params,{topic:n,message:s,publishedAt:i}=r.data,a={topic:n,message:s,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xN({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Zf(t)&&this.events.emit(Gt.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Gt.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Hd(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(pn.payload,this.onPayloadHandler),this.provider.off(pn.connect,this.onConnectHandler),this.provider.off(pn.disconnect,this.onDisconnectHandler),this.provider.off(pn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Gt.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let t=await u0();uw(async r=>{this.initialized&&t!==r&&(t=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(Gt.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(t=>this.logger.error(t))},Ve.toMiliseconds(zw)))}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var SN=Object.defineProperty,cg=Object.getOwnPropertySymbols,AN=Object.prototype.hasOwnProperty,IN=Object.prototype.propertyIsEnumerable,fg=(e,t,r)=>t in e?SN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ug=(e,t)=>{for(var r in t||(t={}))AN.call(t,r)&&fg(e,r,t[r]);if(cg)for(var r of cg(t))IN.call(t,r)&&fg(e,r,t[r]);return e};class ja extends IT{constructor(t,r,n,s=ii,i=void 0){super(t,r,n,s),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=Gw,this.cached=[],this.initialized=!1,this.storagePrefix=ii,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!sr(a)?this.map.set(this.getKey(a),a):H2(a)?this.map.set(a.id,a):z2(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(f=>NP(o[f],a[f]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const f=ug(ug({},this.getData(a)),o);this.map.set(a,f),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),await this.persist())},this.logger=ct.generateChildLogger(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){const{message:n}=Fe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class d_{constructor(t,r){this.core=t,this.logger=r,this.name=Zw,this.version=Qw,this.events=new bv,this.initialized=!1,this.storagePrefix=ii,this.ignoredPayloadTypes=[$i],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Vc(),s=await this.core.crypto.setSymKey(n),i=Hr(Ve.FIVE_MINUTES),a={protocol:Gd},o={topic:s,expiry:i,relay:a,active:!1},f=D2({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:a});return await this.pairings.set(s,o),await this.core.relayer.subscribe(s),this.core.expirer.set(s,i),{topic:s,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:s,symKey:i,relay:a}=o0(n.uri);let o;if(this.pairings.keys.includes(s)&&(o=this.pairings.get(s),o.active))throw new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);const f=Hr(Ve.FIVE_MINUTES),c={topic:s,relay:a,expiry:f,active:!1};return await this.pairings.set(s,c),this.core.expirer.set(s,f),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Ls.create,c),this.core.crypto.keychain.has(s)||(await this.core.crypto.setSymKey(i,s),await this.core.relayer.subscribe(s,{relay:a})),c},this.activate=async({topic:n})=>{this.isInitialized();const s=Hr(Ve.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:s}),this.core.expirer.set(n,s)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:o,reject:f}=rs();this.events.once(Ct("pairing_ping",i),({error:c})=>{c?f(c):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Pt("USER_DISCONNECTED")),await this.deletePairing(s))},this.sendRequest=async(n,s,i)=>{const a=Ks(s,i),o=await this.core.crypto.encode(n,a),f=Bs[s].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,f),a.id},this.sendResult=async(n,s,i)=>{const a=Hd(n,i),o=await this.core.crypto.encode(s,a),f=await this.core.history.get(s,n),c=Bs[f.request.method].res;await this.core.relayer.publish(s,o,c),await this.core.history.resolve(a)},this.sendError=async(n,s,i)=>{const a=zd(n,i),o=await this.core.crypto.encode(s,a),f=await this.core.history.get(s,n),c=Bs[f.request.method]?Bs[f.request.method].res:Bs.unregistered_method.res;await this.core.relayer.publish(s,o,c),await this.core.history.resolve(a)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Pt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>Wn(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(Ls.ping,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{Gn(s)?this.events.emit(Ct("pairing_ping",i),{}):rn(s)&&this.events.emit(Ct("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Ls.delete,{id:i,topic:n})}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const o=Pt("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Pt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var s;if(!dr(n)){const{message:a}=Fe("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(a)}if(!q2(n.uri)){const{message:a}=Fe("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(a)}const i=o0(n.uri);if(!((s=i==null?void 0:i.relay)!=null&&s.protocol)){const{message:a}=Fe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(a)}if(!(i!=null&&i.symKey)){const{message:a}=Fe("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(a)}},this.isValidPing=async n=>{if(!dr(n)){const{message:i}=Fe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!dr(n)){const{message:i}=Fe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!Rt(n,!1)){const{message:s}=Fe("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Wn(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Fe("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=t,this.logger=ct.generateChildLogger(r,this.name),this.pairings=new ja(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ct.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Gt.message,async t=>{const{topic:r,message:n}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{Vd(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Zf(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Or.expired,async t=>{const{topic:r}=Ud(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Ls.expire,{topic:r}))})}}class h_ extends ET{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new un.EventEmitter,this.name=e_,this.version=t_,this.cached=[],this.initialized=!1,this.storagePrefix=ii,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:Hr(Ve.THIRTY_DAYS)};this.records.set(a.id,a),this.events.emit(Qr.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=rn(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.events.emit(Qr.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Qr.deleted,i)}})},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ct.generateChildLogger(r,this.name)}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ks(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=Fe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Qr.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Qr.created,t=>{const r=Qr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(Qr.updated,t=>{const r=Qr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(Qr.deleted,t=>{const r=Qr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.core.heartbeat.on(yo.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{Ve.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class p_ extends MT{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new un.EventEmitter,this.name=r_,this.version=n_,this.cached=[],this.initialized=!1,this.storagePrefix=ii,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(Or.created,{target:i,expiration:a})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Or.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ct.generateChildLogger(r,this.name)}get context(){return ct.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return S2(t);if(typeof t=="number")return A2(t);const{message:r}=Fe("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Or.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=Fe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=Fe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;Ve.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Or.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(yo.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Or.created,t=>{const r=Or.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Or.expired,t=>{const r=Or.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Or.deleted,t=>{const r=Or.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class g_ extends CT{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Ec,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||Es()||!xs())return;const s=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==s&&this.removeIframe(),this.verifyUrl=s;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Jc;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const s=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let i;try{i=await this.fetchAttestation(n.attestationId,s)}catch(a){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${s}`),this.logger.info(a),i=await this.fetchAttestation(n.attestationId,Jc)}return i},this.fetchAttestation=async(n,s)=>{this.logger.info(`resolving attestation: ${n} from url: ${s}`);const i=this.startAbortTimer(Ve.ONE_SECOND*2),a=await fetch(`${s}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(i),a.status===200?await a.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var s;try{if(!this.iframe)return;(s=this.iframe.contentWindow)==null||s.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const s=i=>{i.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",s),n())};await Promise.race([new Promise(i=>{if(document.getElementById(Ec))return i();window.addEventListener("message",s);const a=document.createElement("iframe");a.id=Ec,a.src=`${this.verifyUrl}/${this.projectId}`,a.style.display="none",document.body.append(a),this.iframe=a,n=i}),new Promise((i,a)=>setTimeout(()=>{window.removeEventListener("message",s),a("verify iframe load timeout")},Ve.toMiliseconds(Ve.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let s=n||ss;return i_.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${ss}`),s=ss),s},this.logger=ct.generateChildLogger(r,this.name),this.verifyUrl=ss,this.abortController=new AbortController,this.isDevEnv=Jf()&&LP.IS_VITEST}get context(){return ct.getLoggerContext(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ve.toMiliseconds(t))}}class m_ extends OT{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=s_,this.registerDeviceToken=async n=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:o=!1}=n,f=`${o_}/${this.projectId}/clients`;await UP(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:o})})},this.logger=ct.generateChildLogger(r,this.context)}}var TN=Object.defineProperty,lg=Object.getOwnPropertySymbols,MN=Object.prototype.hasOwnProperty,CN=Object.prototype.propertyIsEnumerable,dg=(e,t,r)=>t in e?TN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hg=(e,t)=>{for(var r in t||(t={}))MN.call(t,r)&&dg(e,r,t[r]);if(lg)for(var r of lg(t))CN.call(t,r)&&dg(e,r,t[r]);return e};class tu extends _T{constructor(t){super(t),this.protocol=Kd,this.version=Ow,this.name=eu,this.events=new un.EventEmitter,this.initialized=!1,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||Wd,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:ct.pino(ct.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||Pw.logger}));this.logger=ct.generateChildLogger(r,this.name),this.heartbeat=new yo.HeartBeat,this.crypto=new c_(this,this.logger,t==null?void 0:t.keychain),this.history=new h_(this,this.logger),this.expirer=new p_(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new jl(hg(hg({},Dw),t==null?void 0:t.storageOptions)),this.relayer=new l_({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new d_(this,this.logger),this.verify=new g_(this.projectId||"",this.logger),this.echoClient=new m_(this.projectId||"",this.logger)}static async init(t){const r=new tu(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Ww,n),r}get context(){return ct.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const b_=tu,ON=Object.freeze(Object.defineProperty({__proto__:null,CORE_CONTEXT:eu,CORE_DEFAULT:Pw,CORE_PROTOCOL:Kd,CORE_STORAGE_OPTIONS:Dw,CORE_STORAGE_PREFIX:ii,CORE_VERSION:Ow,CRYPTO_CLIENT_SEED:m0,CRYPTO_CONTEXT:Nw,CRYPTO_JWT_TTL:Rw,Core:b_,Crypto:c_,ECHO_CONTEXT:s_,ECHO_URL:o_,EXPIRER_CONTEXT:r_,EXPIRER_DEFAULT_TTL:dN,EXPIRER_EVENTS:Or,EXPIRER_STORAGE_VERSION:n_,EchoClient:m_,Expirer:p_,HISTORY_CONTEXT:e_,HISTORY_EVENTS:Qr,HISTORY_STORAGE_VERSION:t_,JsonRpcHistory:h_,KEYCHAIN_CONTEXT:Bw,KEYCHAIN_STORAGE_VERSION:$w,KeyChain:a_,MESSAGES_CONTEXT:Uw,MESSAGES_STORAGE_VERSION:Lw,MessageTracker:f_,PAIRING_CONTEXT:Zw,PAIRING_DEFAULT_TTL:lN,PAIRING_EVENTS:Ls,PAIRING_RPC_OPTS:Bs,PAIRING_STORAGE_VERSION:Qw,PENDING_SUB_RESOLUTION_TIMEOUT:Xw,PUBLISHER_CONTEXT:kw,PUBLISHER_DEFAULT_TTL:Fw,Pairing:d_,RELAYER_CONTEXT:qw,RELAYER_DEFAULT_LOGGER:jw,RELAYER_DEFAULT_PROTOCOL:Gd,RELAYER_DEFAULT_RELAY_URL:Wd,RELAYER_EVENTS:Gt,RELAYER_FAILOVER_RELAY_URL:b0,RELAYER_PROVIDER_EVENTS:pn,RELAYER_RECONNECT_TIMEOUT:zw,RELAYER_SDK_VERSION:Vw,RELAYER_STORAGE_OPTIONS:fN,RELAYER_SUBSCRIBER_SUFFIX:Hw,RELAYER_TRANSPORT_CUTOFF:Kw,Relayer:l_,STORE_STORAGE_VERSION:Gw,SUBSCRIBER_CONTEXT:Yw,SUBSCRIBER_DEFAULT_TTL:uN,SUBSCRIBER_EVENTS:qr,SUBSCRIBER_STORAGE_VERSION:Jw,Store:ja,Subscriber:u_,TRUSTED_VERIFY_URLS:i_,VERIFY_CONTEXT:Ec,VERIFY_FALLBACK_SERVER:Jc,VERIFY_SERVER:ss,Verify:g_,WALLETCONNECT_CLIENT_ID:Ww,default:tu},Symbol.toStringTag,{value:"Module"})),Yd="wc",Jd=2,Xd="client",ru=`${Yd}@${Jd}:${Xd}:`,xc={name:Xd,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},PN={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},DN={database:":memory:"},y0="WALLETCONNECT_DEEPLINK_CHOICE",NN={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},RN="history",BN="0.3",y_="proposal",$N=Ve.THIRTY_DAYS,v_="Proposal expired",w_="session",Yo=Ve.SEVEN_DAYS,__="engine",$s={wc_sessionPropose:{req:{ttl:Ve.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ve.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ve.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ve.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ve.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ve.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ve.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ve.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ve.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ve.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ve.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ve.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ve.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ve.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ve.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ve.THIRTY_SECONDS,prompt:!1,tag:1115}}},Sc={min:Ve.FIVE_MINUTES,max:Ve.SEVEN_DAYS},gn={idle:"IDLE",active:"ACTIVE"},E_="request",x_=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var UN=Object.defineProperty,LN=Object.defineProperties,FN=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,kN=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,gg=(e,t,r)=>t in e?UN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,br=(e,t)=>{for(var r in t||(t={}))kN.call(t,r)&&gg(e,r,t[r]);if(pg)for(var r of pg(t))jN.call(t,r)&&gg(e,r,t[r]);return e},Ho=(e,t)=>LN(e,FN(t));class qN extends DT{constructor(t){super(t),this.name=__,this.events=new bv,this.initialized=!1,this.ignoredPayloadTypes=[$i],this.requestQueue={state:gn.idle,queue:[]},this.sessionRequestQueue={state:gn.idle,queue:[]},this.requestQueueDelay=Ve.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys($s)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ve.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const n=Ho(br({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:o,relays:f}=n;let c=s,l,v=!1;if(c&&(v=this.client.core.pairing.pairings.get(c).active),!c||!v){const{topic:K,uri:B}=await this.client.core.pairing.create();c=K,l=B}const S=await this.client.core.crypto.generateKeyPair(),D=br({requiredNamespaces:i,optionalNamespaces:a,relays:f??[{protocol:Gd}],proposer:{publicKey:S,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:C,resolve:q,done:H}=rs(Ve.FIVE_MINUTES,v_);if(this.events.once(Ct("session_connect"),async({error:K,session:B})=>{if(K)C(K);else if(B){B.self.publicKey=S;const z=Ho(br({},B),{requiredNamespaces:B.requiredNamespaces,optionalNamespaces:B.optionalNamespaces});await this.client.session.set(B.topic,z),await this.setExpiry(B.topic,B.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:B.peer.metadata}),q(z)}}),!c){const{message:K}=Fe("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(K)}const Z=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:D}),W=Hr(Ve.FIVE_MINUTES);return await this.setProposal(Z,br({id:Z,expiry:W},D)),{uri:l,approval:H}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:s,namespaces:i,sessionProperties:a}=r,o=this.client.proposal.get(n);let{pairingTopic:f,proposer:c,requiredNamespaces:l,optionalNamespaces:v}=o;f=f||"",ds(l)||(l=$2(i,"approve()"));const S=await this.client.core.crypto.generateKeyPair(),D=c.publicKey,C=await this.client.core.crypto.generateSharedKey(S,D);f&&n&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:c.metadata}),await this.sendResult({id:n,topic:f,result:{relay:{protocol:s??"irn"},responderPublicKey:S}}),await this.client.proposal.delete(n,Pt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));const q=br({relay:{protocol:s??"irn"},namespaces:i,requiredNamespaces:l,optionalNamespaces:v,pairingTopic:f,controller:{publicKey:S,metadata:this.client.metadata},expiry:Hr(Yo)},a&&{sessionProperties:a});await this.client.core.relayer.subscribe(C),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:q,throwOnFailedPublish:!0});const H=Ho(br({},q),{topic:C,pairingTopic:f,acknowledged:!1,self:q.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:S});return await this.client.session.set(C,H),await this.setExpiry(C,Hr(Yo)),{topic:C,acknowledged:()=>new Promise(Z=>setTimeout(()=>Z(this.client.session.get(C)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);const{id:n,reason:s}=r,{pairingTopic:i}=this.client.proposal.get(n);i&&(await this.sendError(n,i,s),await this.client.proposal.delete(n,Pt("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:s}=r,i=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s}}),{done:a,resolve:o,reject:f}=rs();return this.events.once(Ct("session_update",i),({error:c})=>{c?f(c):o()}),await this.client.session.update(n,{namespaces:s}),{acknowledged:a}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,s=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:i,resolve:a,reject:o}=rs();return this.events.once(Ct("session_extend",s),({error:f})=>{f?o(f):a()}),await this.setExpiry(n,Hr(Yo)),{acknowledged:i}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:s,topic:i,expiry:a}=r,o=qd(),{done:f,resolve:c,reject:l}=rs(a,"Request expired. Please try again.");return this.events.once(Ct("session_request",o),({error:v,result:S})=>{v?l(v):c(S)}),await Promise.all([new Promise(async v=>{await this.sendRequest({clientRpcId:o,topic:i,method:"wc_sessionRequest",params:{request:s,chainId:n},expiry:a,throwOnFailedPublish:!0}).catch(S=>l(S)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:o}),v()}),new Promise(async v=>{const S=await T2(this.client.core.storage,y0);I2({id:o,topic:i,wcDeepLink:S}),v()}),f()]).then(v=>v[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:i}=s;Gn(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0}):rn(s)&&await this.sendError(i,n,s.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:i,resolve:a,reject:o}=rs();this.events.once(Ct("session_ping",s),({error:f})=>{f?o(f):a()}),await i()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Pt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>k2(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var a,o;return((a=i.peerMetadata)==null?void 0:a.url)&&((o=i.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:s}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,Pt("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(y0).catch(i=>this.client.logger.warn(i)),this.getPendingSessionRequests().forEach(i=>{i.topic===r&&this.deletePendingSessionRequest(i.id,Pt("USER_DISCONNECTED"))})},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Pt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=gn.idle)},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=$s.wc_sessionRequest.req.ttl,{id:s,topic:i,params:a,verifyContext:o}=r;await this.client.pendingRequest.set(s,{id:s,topic:i,params:a,verifyContext:o}),n&&this.client.core.expirer.set(s,Hr(n))},this.sendRequest=async r=>{const{topic:n,method:s,params:i,expiry:a,relayRpcId:o,clientRpcId:f,throwOnFailedPublish:c}=r,l=Ks(s,i,f);if(xs()&&x_.includes(s)){const D=ls(JSON.stringify(l));this.client.core.verify.register({attestationId:D})}const v=await this.client.core.crypto.encode(n,l),S=$s[s].req;return a&&(S.ttl=a),o&&(S.id=o),this.client.core.history.set(n,l),c?(S.internal=Ho(br({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,v,S)):this.client.core.relayer.publish(n,v,S).catch(D=>this.client.logger.error(D)),l.id},this.sendResult=async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:a}=r,o=Hd(n,i),f=await this.client.core.crypto.encode(s,o),c=await this.client.core.history.get(s,n),l=$s[c.request.method].res;a?(l.internal=Ho(br({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,f,l)):this.client.core.relayer.publish(s,f,l).catch(v=>this.client.logger.error(v)),await this.client.core.history.resolve(o)},this.sendError=async(r,n,s)=>{const i=zd(r,s),a=await this.client.core.crypto.encode(n,i),o=await this.client.core.history.get(n,r),f=$s[o.request.method].res;this.client.core.relayer.publish(n,a,f),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{Wn(s.expiry)&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Wn(s.expiry)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession(s)),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===gn.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=gn.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=gn.idle},this.processRequest=r=>{const{topic:n,payload:s}=r,i=s.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(n,s);case"wc_sessionSettle":return this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return this.onSessionExtendRequest(n,s);case"wc_sessionPing":return this.onSessionPingRequest(n,s);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return this.onSessionRequest(n,s);case"wc_sessionEvent":return this.onSessionEventRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s}=r,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:s}=Fe("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.onSessionProposeRequest=async(r,n)=>{const{params:s,id:i}=n;try{this.isValidConnect(br({},n.params));const a=Hr(Ve.FIVE_MINUTES),o=br({id:i,pairingTopic:r,expiry:a},s);await this.setProposal(i,o);const f=ls(JSON.stringify(n)),c=await this.getVerifyContext(f,o.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:o,verifyContext:c})}catch(a){await this.sendError(i,r,a),this.client.logger.error(a)}},this.onSessionProposeResponse=async(r,n)=>{const{id:s}=n;if(Gn(n)){const{result:i}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const o=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const f=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const c=await this.client.core.crypto.generateSharedKey(o,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});const l=await this.client.core.relayer.subscribe(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:r})}else rn(n)&&(await this.client.proposal.delete(s,Pt("USER_DISCONNECTED")),this.events.emit(Ct("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:a,controller:o,expiry:f,namespaces:c,requiredNamespaces:l,optionalNamespaces:v,sessionProperties:S,pairingTopic:D}=n.params,C=br({topic:r,relay:a,expiry:f,namespaces:c,acknowledged:!0,pairingTopic:D,requiredNamespaces:l,optionalNamespaces:v,controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},S&&{sessionProperties:S});await this.sendResult({id:n.id,topic:r,result:!0}),this.events.emit(Ct("session_connect"),{session:C}),this.cleanupDuplicatePairings(C)}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionSettleResponse=async(r,n)=>{const{id:s}=n;Gn(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ct("session_approve",s),{})):rn(n)&&(await this.client.session.delete(r,Pt("USER_DISCONNECTED")),this.events.emit(Ct("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:s,id:i}=n;try{const a=`${r}_session_update`,o=Wo.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidUpdate(br({topic:r},s)),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_update",{id:i,topic:r,params:s}),Wo.set(a,i)}catch(a){await this.sendError(i,r,a),this.client.logger.error(a)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:s}=n;Gn(n)?this.events.emit(Ct("session_update",s),{}):rn(n)&&this.events.emit(Ct("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Hr(Yo)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError(s,r,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(r,n)=>{const{id:s}=n;Gn(n)?this.events.emit(Ct("session_extend",s),{}):rn(n)&&this.events.emit(Ct("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError(s,r,i),this.client.logger.error(i)}},this.onSessionPingResponse=(r,n)=>{const{id:s}=n;setTimeout(()=>{Gn(n)?this.events.emit(Ct("session_ping",s),{}):rn(n)&&this.events.emit(Ct("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(Gt.publish,async()=>{i(await this.deleteSession(r))})}),this.sendResult({id:s,topic:r,result:!0})]),this.client.events.emit("session_delete",{id:s,topic:r})}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(r,n)=>{const{id:s,params:i}=n;try{this.isValidRequest(br({topic:r},i));const a=ls(JSON.stringify(Ks("wc_sessionRequest",i,s))),o=this.client.session.get(r),f=await this.getVerifyContext(a,o.peer.metadata),c={id:s,topic:r,params:i,verifyContext:f};await this.setPendingSessionRequest(c),this.addSessionRequestToSessionRequestQueue(c),this.processSessionRequestQueue()}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionRequestResponse=(r,n)=>{const{id:s}=n;Gn(n)?this.events.emit(Ct("session_request",s),{result:n.result}):rn(n)&&this.events.emit(Ct("session_request",s),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:s,params:i}=n;try{const a=`${r}_session_event_${i.event.name}`,o=Wo.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(br({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),Wo.set(a,s)}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=gn.idle,this.processSessionRequestQueue()},Ve.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===gn.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=gn.active,this.client.events.emit("session_request",r)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=r=>{if(r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,Ks("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async r=>{if(!dr(r)){const{message:f}=Fe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:a,relays:o}=r;if(sr(n)||await this.isValidPairingTopic(n),!Z2(o,!0)){const{message:f}=Fe("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(f)}!sr(s)&&ds(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!sr(i)&&ds(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),sr(a)||this.validateSessionProps(a,"sessionProperties")},this.validateNamespaces=(r,n)=>{const s=X2(r,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!dr(r))throw new Error(Fe("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:a}=r;await this.isValidProposalId(n);const o=this.client.proposal.get(n),f=ia(s,"approve()");if(f)throw new Error(f.message);const c=Wc(o.requiredNamespaces,s,"approve()");if(c)throw new Error(c.message);if(!Rt(i,!0)){const{message:l}=Fe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(l)}sr(a)||this.validateSessionProps(a,"sessionProperties")},this.isValidReject=async r=>{if(!dr(r)){const{message:i}=Fe("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(await this.isValidProposalId(n),!ew(s)){const{message:i}=Fe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidSessionSettleRequest=r=>{if(!dr(r)){const{message:c}=Fe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:s,namespaces:i,expiry:a}=r;if(!kd(n)){const{message:c}=Fe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const o=V2(s,"onSessionSettleRequest()");if(o)throw new Error(o.message);const f=ia(i,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Wn(a)){const{message:c}=Fe("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async r=>{if(!dr(r)){const{message:f}=Fe("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(f)}const{topic:n,namespaces:s}=r;await this.isValidSessionTopic(n);const i=this.client.session.get(n),a=ia(s,"update()");if(a)throw new Error(a.message);const o=Wc(i.requiredNamespaces,s,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async r=>{if(!dr(r)){const{message:s}=Fe("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!dr(r)){const{message:f}=Fe("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(f)}const{topic:n,request:s,chainId:i,expiry:a}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!f0(o,i)){const{message:f}=Fe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(f)}if(!tw(s)){const{message:f}=Fe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(f)}if(!iw(o,i,s.method)){const{message:f}=Fe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(f)}if(a&&!ow(a,Sc)){const{message:f}=Fe("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${Sc.min} and ${Sc.max}`);throw new Error(f)}},this.isValidRespond=async r=>{var n;if(!dr(r)){const{message:a}=Fe("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!rw(i)){const{message:a}=Fe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!dr(r)){const{message:s}=Fe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!dr(r)){const{message:o}=Fe("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!f0(a,i)){const{message:o}=Fe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!nw(s)){const{message:o}=Fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!sw(a,i,s.name)){const{message:o}=Fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidDisconnect=async r=>{if(!dr(r)){const{message:s}=Fe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const s={verified:{verifyUrl:n.verifyUrl||ss,validation:"UNKNOWN",origin:n.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});i&&(s.verified.origin=i.origin,s.verified.isScam=i.isScam,s.verified.validation=i.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.info(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(s=>{if(!Rt(s,!1)){const{message:i}=Fe("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}})}}async isInitialized(){if(!this.initialized){const{message:t}=Fe("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Gt.message,async t=>{const{topic:r,message:n}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const s=await this.client.core.crypto.decode(r,n);try{Vd(s)?(this.client.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Zf(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.client.core.history.delete(r,s.id)):this.onRelayEventUnknownPayload({topic:r,payload:s})}catch(i){this.client.logger.error(i)}})}registerExpirerEvents(){this.client.core.expirer.on(Or.expired,async t=>{const{topic:r,id:n}=Ud(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Fe("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ls.create,t=>this.onPairingCreated(t))}isValidPairingTopic(t){if(!Rt(t,!1)){const{message:r}=Fe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=Fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Wn(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=Fe("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Rt(t,!1)){const{message:r}=Fe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(!this.client.session.keys.includes(t)){const{message:r}=Fe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Wn(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:r}=Fe("EXPIRED",`session topic: ${t}`);throw new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Rt(t,!1)){const{message:r}=Fe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=Fe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!Q2(t)){const{message:r}=Fe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=Fe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Wn(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:r}=Fe("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class HN extends ja{constructor(t,r){super(t,r,y_,ru),this.core=t,this.logger=r}}class S_ extends ja{constructor(t,r){super(t,r,w_,ru),this.core=t,this.logger=r}}class zN extends ja{constructor(t,r){super(t,r,E_,ru,n=>n.id),this.core=t,this.logger=r}}let A_=class I_ extends PT{constructor(t){super(t),this.protocol=Yd,this.version=Jd,this.name=xc.name,this.events=new un.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||xc.name,this.metadata=(t==null?void 0:t.metadata)||m2();const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:ct.pino(ct.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||xc.logger}));this.core=(t==null?void 0:t.core)||new b_(t),this.logger=ct.generateChildLogger(r,this.name),this.session=new S_(this.core,this.logger),this.proposal=new HN(this.core,this.logger),this.pendingRequest=new zN(this.core,this.logger),this.engine=new qN(this)}static async init(t){const r=new I_(t);return await r.initialize(),r}get context(){return ct.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};const VN=S_,KN=A_,GN=Object.freeze(Object.defineProperty({__proto__:null,ENGINE_CONTEXT:__,ENGINE_QUEUE_STATES:gn,ENGINE_RPC_OPTS:$s,HISTORY_CONTEXT:RN,HISTORY_EVENTS:NN,HISTORY_STORAGE_VERSION:BN,METHODS_TO_VERIFY:x_,PROPOSAL_CONTEXT:y_,PROPOSAL_EXPIRY:$N,PROPOSAL_EXPIRY_MESSAGE:v_,REQUEST_CONTEXT:E_,SESSION_CONTEXT:w_,SESSION_EXPIRY:Yo,SESSION_REQUEST_EXPIRY_BOUNDARIES:Sc,SIGN_CLIENT_CONTEXT:Xd,SIGN_CLIENT_DEFAULT:xc,SIGN_CLIENT_EVENTS:PN,SIGN_CLIENT_PROTOCOL:Yd,SIGN_CLIENT_STORAGE_OPTIONS:DN,SIGN_CLIENT_STORAGE_PREFIX:ru,SIGN_CLIENT_VERSION:Jd,SessionStore:VN,SignClient:KN,WALLETCONNECT_DEEPLINK_CHOICE:y0,default:A_},Symbol.toStringTag,{value:"Module"})),mg=Ar(GN),bg=Ar(jO);var Cr={},yg;function T_(){return yg||(yg=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.ALEPHIUM_DEEP_LINK=Cr.RELAY_URL=Cr.LOGGER=Cr.RELAY_METHODS=Cr.PROVIDER_NAMESPACE=void 0,Cr.PROVIDER_NAMESPACE="alephium",Cr.RELAY_METHODS=["alph_signAndSubmitTransferTx","alph_signAndSubmitDeployContractTx","alph_signAndSubmitExecuteScriptTx","alph_signAndSubmitUnsignedTx","alph_signUnsignedTx","alph_signMessage","alph_requestNodeApi","alph_requestExplorerApi"],Cr.LOGGER="error",Cr.RELAY_URL="wss://relay.walletconnect.com",Cr.ALEPHIUM_DEEP_LINK="alephium://"),Cr}var zo={},vg;function WN(){if(vg)return zo;vg=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.isMobile=void 0;function e(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function t(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function r(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function n(){return t()||r()}function s(){return e()||n()}return zo.isMobile=s,zo}const YN=Ar(ON),JN=Ar(XA);var wg;function XN(){if(wg)return Ht;wg=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.parseAccount=Ht.formatAccount=Ht.parseChain=Ht.formatChain=Ht.isCompatibleAddressGroup=Ht.isCompatibleChain=Ht.WalletConnectProvider=void 0;const e=cv,t=e.__importDefault(_y),r=e.__importDefault(mg),n=mg,s=bg,i=bg,a=ai(),o=T_(),f=WN(),c=YN,l=JN;class v extends a.SignerProvider{static async init(B){const z=new v(B);return await z.initialize(),z}constructor(B){super(),this.events=new t.default,this.account=void 0,this.requestNodeAPI=z=>this.typedRequest("alph_requestNodeApi",z),this.requestExplorerAPI=z=>this.typedRequest("alph_requestExplorerApi",z),this.providerOpts=B,this.networkId=B.networkId,this.addressGroup=B.addressGroup,this.permittedChain=C(this.networkId,this.addressGroup),this.methods=B.methods??[...o.RELAY_METHODS],this.methods.includes("alph_requestNodeApi")?this.nodeProvider=a.NodeProvider.Remote(this.requestNodeAPI):this.nodeProvider=void 0,this.methods.includes("alph_requestExplorerApi")?this.explorerProvider=a.ExplorerProvider.Remote(this.requestExplorerAPI):this.explorerProvider=void 0}async connect(){if(this.session)this.updateNamespace(this.session.namespaces);else{const{uri:B,approval:z}=await this.client.connect({requiredNamespaces:{alephium:{chains:[this.permittedChain],methods:this.methods,events:["accountChanged"]}}});B&&this.emitEvents("displayUri",B),this.session=await z(),this.updateNamespace(this.session.namespaces)}await this.cleanMessages()}async disconnect(){if(!this.client||!this.session)throw new Error("Sign Client not initialized");await this.providerOpts.onDisconnected();const B=(0,i.getSdkError)("USER_DISCONNECTED");try{await this.client.disconnect({topic:this.session.topic,reason:B})}catch{await this.client.session.delete(this.session.topic,B),await this.client.core.crypto.deleteSymKey(this.session.topic)}this.session=void 0,this.account=void 0}on(B,z){this.events.on(B,z)}once(B,z){this.events.once(B,z)}removeListener(B,z){this.events.removeListener(B,z)}off(B,z){this.events.off(B,z)}unsafeGetSelectedAccount(){if(this.account===void 0)throw Error("Account is not available");return Promise.resolve(this.account)}async signAndSubmitTransferTx(B){return this.typedRequest("alph_signAndSubmitTransferTx",B)}async signAndSubmitDeployContractTx(B){return this.typedRequest("alph_signAndSubmitDeployContractTx",B)}async signAndSubmitExecuteScriptTx(B){return this.typedRequest("alph_signAndSubmitExecuteScriptTx",B)}async signAndSubmitUnsignedTx(B){return this.typedRequest("alph_signAndSubmitUnsignedTx",B)}async signUnsignedTx(B){return this.typedRequest("alph_signUnsignedTx",B)}async signMessage(B){return this.typedRequest("alph_signMessage",B)}getWCStorageKey(B,z,P){return B+z+"//"+P}async getSessionTopics(B){const z=this.getWCStorageKey(n.SIGN_CLIENT_STORAGE_PREFIX,c.STORE_STORAGE_VERSION,n.SESSION_CONTEXT),P=await B.getItem(z);return P===void 0?[]:P.filter(g=>{const $=(0,i.getChainsFromNamespaces)(g.namespaces,[o.PROVIDER_NAMESPACE]);return $.length>0&&$.every(Y=>Y.startsWith(o.PROVIDER_NAMESPACE))}).map(g=>g.topic)}async cleanBeforeInit(){console.log("Clean storage before SignClient init");const B=new l.KeyValueStorage({...c.CORE_STORAGE_OPTIONS}),z=this.getWCStorageKey(c.CORE_STORAGE_PREFIX,c.HISTORY_STORAGE_VERSION,c.HISTORY_CONTEXT),P=await B.getItem(z);if(P!==void 0){const $=P.filter(Y=>!this.needToDeleteHistory(Y));await B.setItem(z,$)}const g=await this.getSessionTopics(B);if(g.length>0){const $=this.getWCStorageKey(c.CORE_STORAGE_PREFIX,c.MESSAGES_STORAGE_VERSION,c.MESSAGES_CONTEXT),Y=await B.getItem($);if(Y===void 0)return;const Q=(0,i.objToMap)(Y);g.forEach(G=>Q.delete(G)),await B.setItem($,(0,i.mapToObj)(Q)),console.log(`Clean topics from messages storage: ${g.join(",")}`)}}needToDeleteHistory(B){var g,$;const z=B.request;if(z.method!=="wc_sessionRequest")return!1;const P=($=(g=z.params)==null?void 0:g.request)==null?void 0:$.method;return P==="alph_requestNodeApi"||P==="alph_requestExplorerApi"}cleanHistory(B){try{const z=this.client.core.history.records;for(const[P,g]of z)B&&g.response===void 0||this.needToDeleteHistory(g)&&this.client.core.history.delete(g.topic,P)}catch(z){console.error(`Failed to clean history, error: ${z}`)}}async cleanMessages(){if(this.session!==void 0)try{await this.client.core.relayer.messages.del(this.session.topic)}catch(B){console.error(`Failed to clean messages, error: ${B}, topic: ${this.session.topic}`)}}async initialize(){try{await this.cleanBeforeInit()}catch(B){console.error(`Failed to clean storage, error: ${B}`)}await this.createClient(),this.cleanHistory(!1),this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await r.default.init({logger:this.providerOpts.logger||o.LOGGER,relayUrl:this.providerOpts.relayUrl||o.RELAY_URL,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata})}checkStorage(){const B=this.client.session.keys;for(let z=B.length-1;z>=0;z--){const P=this.client.session.get(B[`${z}`]),g=this.client.core.crypto.keychain.has(P.topic),$=(0,i.getChainsFromNamespaces)(P.namespaces,[o.PROVIDER_NAMESPACE]);if(this.sameChains($,[this.permittedChain])&&g){this.session=P;return}}}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",B=>{var z;B.topic===((z=this.session)==null?void 0:z.topic)&&this.emitEvents("session_ping",B)}),this.client.on("session_event",B=>{var z;B.topic===((z=this.session)==null?void 0:z.topic)&&this.emitEvents("session_event",B)}),this.client.on("session_update",({topic:B,params:z})=>{var P,g;if(B===((P=this.session)==null?void 0:P.topic)){const{namespaces:$}=z,Y=(g=this.client)==null?void 0:g.session.get(B);this.session={...Y,namespaces:$},this.updateNamespace(this.session.namespaces),this.emitEvents("session_update",{topic:B,params:z})}}),this.client.on("session_delete",B=>{var z;B.topic===((z=this.session)==null?void 0:z.topic)&&this.emitEvents("session_delete")})}emitEvents(B,z){this.events.emit(B,z)}typedRequest(B,z){return this.request({method:B,params:z})}async request(B){var z,P;if(!this.session)throw new Error("Sign Client not initialized");if(!this.methods.includes(B.method))return Promise.reject(new Error(`Invalid method was passed: ${B.method}`));if(!B.method.startsWith("alph_request")){const g=(z=B.params)==null?void 0:z.signerAddress;if(typeof g>"u")throw new Error("Cannot request without signerAddress");const $=(await this.getSelectedAccount()).address;if(g!==$)throw new Error(`Invalid signer address: ${B.params.signerAddress}`)}try{const g=B.method.startsWith("alph_sign");g&&W();const $=await this.client.request({request:{method:B.method,params:B.params},chainId:this.permittedChain,topic:(P=this.session)==null?void 0:P.topic});return g||this.cleanHistory(!0),await this.cleanMessages(),$}catch(g){throw g.message?new Error(g.message):g}}updateNamespace(B){const z=(0,i.getChainsFromNamespaces)(B,[o.PROVIDER_NAMESPACE]);this.setChain(z);const P=(0,i.getAccountsFromNamespaces)(B,[o.PROVIDER_NAMESPACE]);this.setAccounts(P)}sameChains(B,z){return typeof z>"u"?!1:B.join()===z.join()}setChain(B){if(!this.sameChains(B,[this.permittedChain]))throw Error("Network or address group has changed")}sameAccounts(B,z){return typeof z>"u"?!1:B.map(P=>P.address).join()===z.map(P=>P.address).join()}isPreauthorized(){if(!this.session)return!1;const z=(0,i.getAccountsFromNamespaces)(this.session.namespaces,[o.PROVIDER_NAMESPACE]).map(Z),{networkId:P,addressGroup:g,keyType:$}=this.providerOpts;return!!z.find(Y=>P===Y.networkId&&(g===void 0||Y.group===g)&&($===void 0||Y.keyType===$))}setAccounts(B){const z=B.map(Z);if(this.sameAccounts(z,this.lastSetAccounts))return;if(this.lastSetAccounts=z,z.length!==1)throw Error("The WC provider does not supports multiple accounts");const P=z[0];if(!D(P.group,this.addressGroup))throw Error("The new account belongs to an unexpected address group");this.account=P,this.emitEvents("accountChanged",P)}}Ht.WalletConnectProvider=v;function S(K){return K.startsWith(`${o.PROVIDER_NAMESPACE}:`)}Ht.isCompatibleChain=S;function D(K,B){return B===void 0||B===K}Ht.isCompatibleAddressGroup=D;function C(K,B){if(B!==void 0&&B<0)throw Error("Address group in provider needs to be either undefined or non-negative");const z=B!==void 0?B:-1;return`${o.PROVIDER_NAMESPACE}:${K}/${z}`}Ht.formatChain=C;function q(K){const[B,z,P]=K.replace(/\//g,":").split(":"),g=parseInt(P,10);if(g<-1)throw Error("Address group in protocol needs to be either -1 or non-negative");const $=a.networkIds;if(!$.includes(z))throw Error(`Invalid network id, expect one of ${$}`);return{networkId:z,addressGroup:g===-1?void 0:g}}Ht.parseChain=q;function H(K,B){return`${K}:${B.publicKey}/${B.keyType}`}Ht.formatAccount=H;function Z(K){const[B,z,P,g,$]=K.replace(/\//g,":").split(":"),Y=(0,a.addressFromPublicKey)(g),Q=(0,a.groupOfAddress)(Y);if($!=="default"&&$!=="bip340-schnorr")throw Error(`Invalid key type: ${$}`);return{address:Y,group:Q,publicKey:g,keyType:$,networkId:z}}Ht.parseAccount=Z;function W(){(0,f.isMobile)()&&(0,s.isBrowser)()&&window.open(o.ALEPHIUM_DEEP_LINK,"_self","noreferrer noopener")}return Ht}var ol={},_g;function ZN(){if(_g)return ol;_g=1,Object.defineProperty(ol,"__esModule",{value:!0});const e=ai();return(0,e.assertType)(),(0,e.assertType)(),ol}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=cv;t.__exportStar(XN(),e),t.__exportStar(T_(),e),t.__exportStar(ZN(),e)})(gd);const nu=(e,t)=>{if(t===void 0)throw new Error("networkId is undefined");return{...e,networkId:"networkId"in e&&e.networkId||t}},iu=e=>(console.log({provider:e}),{signer:e,nodeProvider:e.nodeProvider,disconnect:()=>e.disconnect(),signMessage:t=>e.signMessage(t)}),M_="6e2562e43678dd68a9070a62b6d52207";async function C_(e,t,r){r.onAccountChanged&&e.on("accountChanged",r.onAccountChanged),r.onSessionPing&&e.on("session_ping",r.onSessionPing),r.onSessionUpdate&&e.on("session_update",r.onSessionUpdate),r.onSessionEvent&&e.on("session_event",r.onSessionEvent),r.onDisplayUri&&e.on("displayUri",r.onDisplayUri),e.on("session_delete",t.onDisconnected)}async function O_(e,t){try{const r=await gd.WalletConnectProvider.init({addressGroup:e.addressGroup,networkId:e.networkId,onDisconnected:e.onDisconnected,projectId:M_});if(C_(r,e,t),await r.connect(),r.account)return{success:!0,account:nu(r.account,e.networkId),provider:iu(r)}}catch(r){console.error("WalletConnect connect error:",r),e.onDisconnected()}}const P_=async e=>{console.log("disconnecting wallet connect provider"),await e.disconnect(),console.log("disconnected wallet connect provider")},D_=async(e,t={})=>{try{const r=await gd.WalletConnectProvider.init({projectId:M_,networkId:e.networkId,addressGroup:e.addressGroup,onDisconnected:e.onDisconnected});if(!r.isPreauthorized())return;if(C_(r,e,t),await r.connect(),r.account)return{success:!0,account:nu(r.account,e.networkId),provider:iu(r)}}catch(r){console.error(`WalletConnect auto-connect error: ${r}`),e.onDisconnected()}},QN=async(e,t={})=>await O_(e,{...t,onDisplayUri:r=>{var n;return(n=globalThis.window)==null?void 0:n.open(`alephium://wc?uri=${r}`)}}),eR={connect:QN,disconnect:P_,autoConnect:D_};var en={},Zd;Object.defineProperty(en,"__esModule",{value:!0});var tR=ai();let rR=class extends tR.InteractiveSignerProvider{constructor(){super(...arguments),this.enableIfConnected=async t=>{if(await this.isPreauthorized(t))return await super.enable(t)}}};function N_(e){return`alephiumProviders/${e}#initialized`}const v0={id:"alephium",name:"Alephium",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgd2lkdGg9IjEwMCUiCiAgIGhlaWdodD0iMTAwJSIKICAgdmlld0JveD0iMCAwIDUxMiA1MTIiCiAgIHZlcnNpb249IjEuMSIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIKICAgaWQ9InN2Zzk4ODQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgaWQ9ImRlZnMxMCIgLz4KICAgIDxnCiAgIGlkPSJnMTAwNyI+PHJlY3QKICAgICB4PSIwIgogICAgIHk9IjAiCiAgICAgd2lkdGg9IjUxMi4wMDA2MSIKICAgICBoZWlnaHQ9IjUxMS45OTk5MSIKICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjM1NTU1NiIKICAgICBpZD0icmVjdDk4NjUiIC8+PHBhdGgKICAgICBkPSJtIDIyMi44MjMyLDMwOS43OTQxMSBjIDAsLTQuMzYxMjQgLTMuNDQ2NzgsLTcuMjk4MzIgLTcuNzA0NTgsLTYuNTQ3NjYgbCAtNTAuODkwNzksOC45NzIwOSBjIC00LjI1Nzc5LDAuNzUwNjUgLTcuNzA0NTgsNC45MDMwOCAtNy43MDQ1OCw5LjI2NDMxIHYgOTYuMjM1OTggYyAwLDQuMzcxMTkgMy40NDY3OSw3LjMwODI3IDcuNzA0NTgsNi41NTc2MSBsIDUwLjg5MDc5LC04Ljk3MjA5IGMgNC4yNTc4LC0wLjc1MDY1IDcuNzA0NTgsLTQuOTAzMDggNy43MDQ1OCwtOS4yNzQyNyB6IgogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuMDA0NyIKICAgICBpZD0icGF0aDk4NjciIC8+PHBhdGgKICAgICBkPSJtIDM1NS4zODYyLDk0LjMwNTMwNCBjIDAsLTQuMzYxMjM3IC0zLjQ0Njc4LC03LjI5ODMxNSAtNy43MDQ1OCwtNi41NDc2NjIgbCAtNTAuODkwNzksOC45NzIwOTUgYyAtNC4yNTc3OSwwLjc1MDY1MyAtNy43MDQ1OCw0LjkwMzA3MyAtNy43MDQ1OCw5LjI2NDMxMyB2IDk2LjIzNTk3IGMgMCw0LjM3MTIgMy40NDY3OSw3LjMwODI3IDcuNzA0NTgsNi41NTc2MiBsIDUwLjg5MDc5LC04Ljk3MjA5IGMgNC4yNTc4LC0wLjc1MDY2IDcuNzA0NTgsLTQuOTAzMDggNy43MDQ1OCwtOS4yNzQyNyB6IgogICAgIHN0eWxlPSJmaWxsOiNmZjVkNTE7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuMDA0NyIKICAgICBpZD0icGF0aDk4NzEiIC8+PHBhdGgKICAgICBkPSJtIDIzMS4wODk3OSwxMTYuNzY3NDEgYyAtMS45NjU1NSwtNC4zMjkwNSAtNy4yNDkxNiwtNy4xODEyNiAtMTEuODExMDgsLTYuMzc2OTkgbCAtNTQuNTI1NzgsOS42MTI5NiBjIC00LjU2MTkyLDAuODA0MjcgLTYuNjY0MjgsNC45NTg2MyAtNC42OTg3Miw5LjI4NzY4IGwgMTIwLjczOTcxLDI2NS45MjQxMiBjIDEuOTY1NTYsNC4zMjkwNiA3LjI2MDUzLDcuMjA2MjggMTEuODIyNDQsNi40MDIwMSBsIDU0LjUyNTc5LC05LjYxMjk1IGMgNC41NjE5MiwtMC44MDQyNyA2LjY1MjkxLC00Ljk4MzY1IDQuNjg3MzYsLTkuMzEyNzEgeiIKICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxLjcxMzM0IgogICAgIGlkPSJwYXRoOTg3NSIgLz48L2c+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/alephium-extension-wallet",firefox:"https://addons.mozilla.org/en-US/firefox/addon/alephium-extension-wallet"}},Eg=[v0];function R_(e,t){return e.id===t.id&&e.name===t.name}function al(e){return new Promise(t=>{const r=()=>{const n=B_(e.id);n&&R_(n,e)&&t(n)};window.addEventListener(N_(e.id),r),r(),setTimeout(()=>t(void 0),5e3)})}function B_(e){try{const t=window.alephiumProviders;if(!t)return;const r=t[e];return $_(r)?r:void 0}catch{}}function $_(e){try{return e&&["id","name","icon","unsafeEnable","isPreauthorized","nodeProvider","explorerProvider","signAndSubmitTransferTx","signAndSubmitDeployContractTx","signAndSubmitExecuteScriptTx","signAndSubmitUnsignedTx","signUnsignedTx","signMessage"].every(t=>t in e)}catch{}return!1}en.AlephiumWindowObject=rR,en.alephiumProvider=v0,en.checkProviderMetadata=R_,Zd=en.getDefaultAlephiumWallet=function(){return al(v0)},en.getKnownWallet=al,en.getWalletObject=B_,en.isWalletObj=$_,en.knownProviders=Eg,en.providerInitializedEvent=N_,en.scanKnownWallets=async function(){const e=[];for(const t of Eg){const r=await al(t);r!==void 0&&e.push(r)}return e};async function nR(e){try{const t=await Zd();if(!t)throw new Error("Alephium wallet not found");const r=await t.enable({addressGroup:e.addressGroup,networkId:e.networkId,onDisconnected:e.onDisconnected});if(r)return{success:!0,account:nu(r,t.connectedNetworkId),provider:iu(t)}}catch(t){console.error("Injected Wallet connect error:",t),e.onDisconnected()}}async function iR(e){await(e==null?void 0:e.disconnect())}async function sR(e){try{const t=await Zd();if(!t)throw new Error("Alephium wallet not found");const r=await t.enableIfConnected({addressGroup:e.addressGroup,networkId:e.networkId,onDisconnected:e.onDisconnected});if(r)return{success:!0,account:nu(r,t.connectedNetworkId),provider:iu(t)}}catch(t){console.error("Injected Wallet auto-connect error:",t),e.onDisconnected()}}const oR={connect:nR,disconnect:iR,autoConnect:sR};var Qd={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.getLocalStorage=mt.getLocalStorageOrThrow=mt.getCrypto=mt.getCryptoOrThrow=mt.getLocation=mt.getLocationOrThrow=mt.getNavigator=mt.getNavigatorOrThrow=mt.getDocument=mt.getDocumentOrThrow=mt.getFromWindowOrThrow=mt.getFromWindow=void 0;function Is(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}mt.getFromWindow=Is;function xo(e){const t=Is(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}mt.getFromWindowOrThrow=xo;function aR(){return xo("document")}mt.getDocumentOrThrow=aR;function cR(){return Is("document")}mt.getDocument=cR;function fR(){return xo("navigator")}mt.getNavigatorOrThrow=fR;function uR(){return Is("navigator")}mt.getNavigator=uR;function lR(){return xo("location")}mt.getLocationOrThrow=lR;function dR(){return Is("location")}mt.getLocation=dR;function hR(){return xo("crypto")}mt.getCryptoOrThrow=hR;function pR(){return Is("crypto")}mt.getCrypto=pR;function gR(){return xo("localStorage")}mt.getLocalStorageOrThrow=gR;function mR(){return Is("localStorage")}mt.getLocalStorage=mR;Object.defineProperty(Qd,"__esModule",{value:!0});var U_=Qd.getWindowMetadata=void 0;const xg=mt;function bR(){let e,t;try{e=xg.getDocumentOrThrow(),t=xg.getLocationOrThrow()}catch{return null}function r(){const v=e.getElementsByTagName("link"),S=[];for(let D=0;D<v.length;D++){const C=v[D],q=C.getAttribute("rel");if(q&&q.toLowerCase().indexOf("icon")>-1){const H=C.getAttribute("href");if(H)if(H.toLowerCase().indexOf("https:")===-1&&H.toLowerCase().indexOf("http:")===-1&&H.indexOf("//")!==0){let Z=t.protocol+"//"+t.host;if(H.indexOf("/")===0)Z+=H;else{const W=t.pathname.split("/");W.pop();const K=W.join("/");Z+=K+"/"+H}S.push(Z)}else if(H.indexOf("//")===0){const Z=t.protocol+H;S.push(Z)}else S.push(H)}}return S}function n(...v){const S=e.getElementsByTagName("meta");for(let D=0;D<S.length;D++){const C=S[D],q=["itemprop","property","name"].map(H=>C.getAttribute(H)).filter(H=>H?v.includes(H):!1);if(q.length&&q){const H=C.getAttribute("content");if(H)return H}}return""}function s(){let v=n("name","og:site_name","og:title","twitter:title");return v||(v=e.title),v}function i(){return n("description","og:description","twitter:description","keywords")}const a=s(),o=i(),f=t.origin,c=r();return{description:o,url:f,icons:c,name:a}}U_=Qd.getWindowMetadata=bR;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});var L_=Et.getLocalStorage=Y_=Et.getLocalStorageOrThrow=W_=Et.getCrypto=G_=Et.getCryptoOrThrow=K_=Et.getLocation=V_=Et.getLocationOrThrow=z_=Et.getNavigator=H_=Et.getNavigatorOrThrow=q_=Et.getDocument=j_=Et.getDocumentOrThrow=k_=Et.getFromWindowOrThrow=F_=Et.getFromWindow=void 0;function Ts(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}var F_=Et.getFromWindow=Ts;function So(e){const t=Ts(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var k_=Et.getFromWindowOrThrow=So;function yR(){return So("document")}var j_=Et.getDocumentOrThrow=yR;function vR(){return Ts("document")}var q_=Et.getDocument=vR;function wR(){return So("navigator")}var H_=Et.getNavigatorOrThrow=wR;function _R(){return Ts("navigator")}var z_=Et.getNavigator=_R;function ER(){return So("location")}var V_=Et.getLocationOrThrow=ER;function xR(){return Ts("location")}var K_=Et.getLocation=xR;function SR(){return So("crypto")}var G_=Et.getCryptoOrThrow=SR;function AR(){return Ts("crypto")}var W_=Et.getCrypto=AR;function IR(){return So("localStorage")}var Y_=Et.getLocalStorageOrThrow=IR;function TR(){return Ts("localStorage")}L_=Et.getLocalStorage=TR;var MR=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n},CR=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),OR=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),PR=function(){function e(t,r,n,s){this.name=t,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return e}(),DR=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),NR=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),RR=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,BR=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Sg=3,$R=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",RR]],Ag=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function UR(e){return e?Ig(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new NR:typeof navigator<"u"?Ig(navigator.userAgent):kR()}function LR(e){return e!==""&&$R.reduce(function(t,r){var n=r[0],s=r[1];if(t)return t;var i=s.exec(e);return!!i&&[n,i]},!1)}function Ig(e){var t=LR(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new DR;var s=n[1]&&n[1].split(/[._]/).slice(0,3);s?s.length<Sg&&(s=MR(s,jR(Sg-s.length))):s=[];var i=s.join("."),a=FR(e),o=BR.exec(e);return o&&o[1]?new PR(r,i,a,o[1]):new CR(r,i,a)}function FR(e){for(var t=0,r=Ag.length;t<r;t++){var n=Ag[t],s=n[0],i=n[1],a=i.exec(e);if(a)return s}return null}function kR(){var e=typeof process<"u"&&process.version;return e?new OR(process.version.slice(1)):null}function jR(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function eh(e){return UR(e)}function su(){const e=eh();return e&&e.os?e.os:void 0}function J_(){const e=su();return e?e.toLowerCase().includes("android"):!1}function X_(){const e=su();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function qR(){return su()?J_()||X_():!1}function Z_(){const e=eh();return e&&e.name?e.name.toLowerCase()==="node":!1}function HR(){return!Z_()&&!!Q_()}const zR=F_,VR=k_,KR=j_,GR=q_,WR=H_,Q_=z_,YR=V_,JR=K_,XR=G_,ZR=W_,QR=Y_,ou=L_;function eB(){return U_()}function tB(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}function rB(e){return typeof e=="string"?e:JSON.stringify(e)}const e6=tB,t6=rB;function r6(e,t){const r=t6(t),n=ou();n&&n.setItem(e,r)}function nB(e){let t=null,r=null;const n=ou();return n&&(r=n.getItem(e)),t=r&&e6(r),t}function iB(e){const t=ou();t&&t.removeItem(e)}const n6="WALLETCONNECT_DEEPLINK_CHOICE";function sB(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function oB(e){const t=e.href.split("?")[0];r6(n6,Object.assign(Object.assign({},e),{href:t}))}function i6(e,t){return e.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))[0]}function aB(e,t){let r=e;return t&&(r=t.map(n=>i6(e,n)).filter(Boolean)),r}const s6="https://registry.walletconnect.com";function cB(){return s6+"/api/v2/wallets"}function fB(){return s6+"/api/v2/dapps"}function o6(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:(r=e.image_url.sm)!==null&&r!==void 0?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function uB(e,t="mobile"){return Object.values(e).filter(r=>!!r[t].universal||!!r[t].native).map(r=>o6(r,t))}const lB=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:eh,detectOS:su,formatIOSMobile:sB,formatMobileRegistry:uB,formatMobileRegistryEntry:o6,getClientMeta:eB,getCrypto:ZR,getCryptoOrThrow:XR,getDappRegistryUrl:fB,getDocument:GR,getDocumentOrThrow:KR,getFromWindow:zR,getFromWindowOrThrow:VR,getLocal:nB,getLocalStorage:ou,getLocalStorageOrThrow:QR,getLocation:JR,getLocationOrThrow:YR,getMobileLinkRegistry:aB,getMobileRegistryEntry:i6,getNavigator:Q_,getNavigatorOrThrow:WR,getWalletRegistryUrl:cB,isAndroid:J_,isBrowser:HR,isIOS:X_,isMobile:qR,isNode:Z_,mobileLinkChoiceKey:n6,removeLocal:iB,safeJsonParse:e6,safeJsonStringify:t6,saveMobileLinkInfo:oB,setLocal:r6},Symbol.toStringTag,{value:"Module"})),dB=Ar(lB);var qa={},hB=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},a6={},Ui={},pB={}.toString,th=Array.isArray||function(e){return pB.call(e)=="[object Array]"},gB=th;function mB(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}st.TYPED_ARRAY_SUPPORT=mB();var Tg=st.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function st(e,t,r){return!st.TYPED_ARRAY_SUPPORT&&!(this instanceof st)?new st(e,t,r):typeof e=="number"?c6(this,e):xB(this,e,t,r)}st.TYPED_ARRAY_SUPPORT&&(st.prototype.__proto__=Uint8Array.prototype,st.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&st[Symbol.species]===st&&Object.defineProperty(st,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function rh(e){if(e>=Tg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Tg.toString(16)+" bytes");return e|0}function bB(e){return e!==e}function to(e,t){var r;return st.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=st.prototype):(r=e,r===null&&(r=new st(t)),r.length=t),r}function c6(e,t){var r=to(e,t<0?0:rh(t)|0);if(!st.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function yB(e,t){var r=u6(t)|0,n=to(e,r),s=n.write(t);return s!==r&&(n=n.slice(0,s)),n}function w0(e,t){for(var r=t.length<0?0:rh(t.length)|0,n=to(e,r),s=0;s<r;s+=1)n[s]=t[s]&255;return n}function vB(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var s;return r===void 0&&n===void 0?s=new Uint8Array(t):n===void 0?s=new Uint8Array(t,r):s=new Uint8Array(t,r,n),st.TYPED_ARRAY_SUPPORT?s.__proto__=st.prototype:s=w0(e,s),s}function wB(e,t){if(st.isBuffer(t)){var r=rh(t.length)|0,n=to(e,r);return n.length===0||t.copy(n,0,0,r),n}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||bB(t.length)?to(e,0):w0(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return w0(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f6(e,t){t=t||1/0;for(var r,n=e.length,s=null,i=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function u6(e){if(st.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:f6(e).length}function _B(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function EB(e,t,r,n){return _B(f6(t,e.length-r),e,r,n)}function xB(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?vB(e,t,r,n):typeof t=="string"?yB(e,t):wB(e,t)}st.prototype.write=function(t,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return EB(this,t,r,n)};st.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var s;if(st.TYPED_ARRAY_SUPPORT)s=this.subarray(t,r),s.__proto__=st.prototype;else{var i=r-t;s=new st(i,void 0);for(var a=0;a<i;++a)s[a]=this[a+t]}return s};st.prototype.copy=function(t,r,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),r>=t.length&&(r=t.length),r||(r=0),s>0&&s<n&&(s=n),s===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-r<s-n&&(s=t.length-r+n);var i=s-n,a;if(this===t&&n<r&&r<s)for(a=i-1;a>=0;--a)t[a+r]=this[a+n];else if(i<1e3||!st.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)t[a+r]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),r);return i};st.prototype.fill=function(t,r,n){if(typeof t=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var i;if(typeof t=="number")for(i=r;i<n;++i)this[i]=t;else{var a=st.isBuffer(t)?t:new st(t),o=a.length;for(i=0;i<n-r;++i)this[i+r]=a[i%o]}return this};st.concat=function(t,r){if(!gB(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return to(null,0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var s=c6(null,r),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!st.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(s,i),i+=a.length}return s};st.byteLength=u6;st.prototype._isBuffer=!0;st.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};Ui.alloc=function(e){var t=new st(e);return t.fill(0),t};Ui.from=function(e){return new st(e)};var $r={},nh,SB=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$r.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};$r.getSymbolTotalCodewords=function(t){return SB[t]};$r.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t};$r.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');nh=t};$r.isKanjiModeEnabled=function(){return typeof nh<"u"};$r.toSJIS=function(t){return nh(t)};var au={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,s){if(e.isValid(n))return n;try{return t(n)}catch{return s}}})(au);function l6(){this.buffer=[],this.length=0}l6.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var AB=l6,Mg=Ui;function Ha(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=Mg.alloc(e*e),this.reservedBit=Mg.alloc(e*e)}Ha.prototype.set=function(e,t,r,n){var s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Ha.prototype.get=function(e,t){return this.data[e*this.size+t]};Ha.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ha.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var IB=Ha,d6={};(function(e){var t=$r.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var s=Math.floor(n/7)+2,i=t(n),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7],f=1;f<s-1;f++)o[f]=o[f-1]-a;return o.push(6),o.reverse()},e.getPositions=function(n){for(var s=[],i=e.getRowColCoords(n),a=i.length,o=0;o<a;o++)for(var f=0;f<a;f++)o===0&&f===0||o===0&&f===a-1||o===a-1&&f===0||s.push([i[o],i[f]]);return s}})(d6);var h6={},TB=$r.getSymbolSize,Cg=7;h6.getPositions=function(t){var r=TB(t);return[[0,0],[r-Cg,0],[0,r-Cg]]};var p6={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){for(var i=s.size,a=0,o=0,f=0,c=null,l=null,v=0;v<i;v++){o=f=0,c=l=null;for(var S=0;S<i;S++){var D=s.get(v,S);D===c?o++:(o>=5&&(a+=t.N1+(o-5)),c=D,o=1),D=s.get(S,v),D===l?f++:(f>=5&&(a+=t.N1+(f-5)),l=D,f=1)}o>=5&&(a+=t.N1+(o-5)),f>=5&&(a+=t.N1+(f-5))}return a},e.getPenaltyN2=function(s){for(var i=s.size,a=0,o=0;o<i-1;o++)for(var f=0;f<i-1;f++){var c=s.get(o,f)+s.get(o,f+1)+s.get(o+1,f)+s.get(o+1,f+1);(c===4||c===0)&&a++}return a*t.N2},e.getPenaltyN3=function(s){for(var i=s.size,a=0,o=0,f=0,c=0;c<i;c++){o=f=0;for(var l=0;l<i;l++)o=o<<1&2047|s.get(c,l),l>=10&&(o===1488||o===93)&&a++,f=f<<1&2047|s.get(l,c),l>=10&&(f===1488||f===93)&&a++}return a*t.N3},e.getPenaltyN4=function(s){for(var i=0,a=s.data.length,o=0;o<a;o++)i+=s.data[o];var f=Math.abs(Math.ceil(i*100/a/5)-10);return f*t.N4};function r(n,s,i){switch(n){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(s,i){for(var a=i.size,o=0;o<a;o++)for(var f=0;f<a;f++)i.isReserved(f,o)||i.xor(f,o,r(s,f,o))},e.getBestMask=function(s,i){for(var a=Object.keys(e.Patterns).length,o=0,f=1/0,c=0;c<a;c++){i(c),e.applyMask(c,s);var l=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(c,s),l<f&&(f=l,o=c)}return o}})(p6);var cu={},Ii=au,uc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];cu.getBlocksCount=function(t,r){switch(r){case Ii.L:return uc[(t-1)*4+0];case Ii.M:return uc[(t-1)*4+1];case Ii.Q:return uc[(t-1)*4+2];case Ii.H:return uc[(t-1)*4+3];default:return}};cu.getTotalCodewordsCount=function(t,r){switch(r){case Ii.L:return lc[(t-1)*4+0];case Ii.M:return lc[(t-1)*4+1];case Ii.Q:return lc[(t-1)*4+2];case Ii.H:return lc[(t-1)*4+3];default:return}};var g6={},fu={},m6=Ui,oa=m6.alloc(512),Xc=m6.alloc(256);(function(){for(var t=1,r=0;r<255;r++)oa[r]=t,Xc[t]=r,t<<=1,t&256&&(t^=285);for(r=255;r<512;r++)oa[r]=oa[r-255]})();fu.log=function(t){if(t<1)throw new Error("log("+t+")");return Xc[t]};fu.exp=function(t){return oa[t]};fu.mul=function(t,r){return t===0||r===0?0:oa[Xc[t]+Xc[r]]};(function(e){var t=Ui,r=fu;e.mul=function(s,i){for(var a=t.alloc(s.length+i.length-1),o=0;o<s.length;o++)for(var f=0;f<i.length;f++)a[o+f]^=r.mul(s[o],i[f]);return a},e.mod=function(s,i){for(var a=t.from(s);a.length-i.length>=0;){for(var o=a[0],f=0;f<i.length;f++)a[f]^=r.mul(i[f],o);for(var c=0;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(s){for(var i=t.from([1]),a=0;a<s;a++)i=e.mul(i,[1,r.exp(a)]);return i}})(g6);var b6={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Da,r=wf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=W,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var R=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(R,_),R.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(R){if(R>s)throw new RangeError('The value "'+R+'" is invalid for option "size"');var _=new Uint8Array(R);return Object.setPrototypeOf(_,o.prototype),_}function o(R,_,E){if(typeof R=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(R)}return f(R,_,E)}o.poolSize=8192;function f(R,_,E){if(typeof R=="string")return S(R,_);if(ArrayBuffer.isView(R))return C(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(j(R,ArrayBuffer)||R&&j(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(j(R,SharedArrayBuffer)||R&&j(R.buffer,SharedArrayBuffer)))return q(R,_,E);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=R.valueOf&&R.valueOf();if(L!=null&&L!==R)return o.from(L,_,E);var V=H(R);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return o.from(R[Symbol.toPrimitive]("string"),_,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}o.from=function(R,_,E){return f(R,_,E)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function l(R,_,E){return c(R),R<=0?a(R):_!==void 0?typeof E=="string"?a(R).fill(_,E):a(R).fill(_):a(R)}o.alloc=function(R,_,E){return l(R,_,E)};function v(R){return c(R),a(R<0?0:Z(R)|0)}o.allocUnsafe=function(R){return v(R)},o.allocUnsafeSlow=function(R){return v(R)};function S(R,_){if((typeof _!="string"||_==="")&&(_="utf8"),!o.isEncoding(_))throw new TypeError("Unknown encoding: "+_);var E=K(R,_)|0,L=a(E),V=L.write(R,_);return V!==E&&(L=L.slice(0,V)),L}function D(R){for(var _=R.length<0?0:Z(R.length)|0,E=a(_),L=0;L<_;L+=1)E[L]=R[L]&255;return E}function C(R){if(j(R,Uint8Array)){var _=new Uint8Array(R);return q(_.buffer,_.byteOffset,_.byteLength)}return D(R)}function q(R,_,E){if(_<0||R.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<_+(E||0))throw new RangeError('"length" is outside of buffer bounds');var L;return _===void 0&&E===void 0?L=new Uint8Array(R):E===void 0?L=new Uint8Array(R,_):L=new Uint8Array(R,_,E),Object.setPrototypeOf(L,o.prototype),L}function H(R){if(o.isBuffer(R)){var _=Z(R.length)|0,E=a(_);return E.length===0||R.copy(E,0,0,_),E}if(R.length!==void 0)return typeof R.length!="number"||J(R.length)?a(0):D(R);if(R.type==="Buffer"&&Array.isArray(R.data))return D(R.data)}function Z(R){if(R>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return R|0}function W(R){return+R!=R&&(R=0),o.alloc(+R)}o.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==o.prototype},o.compare=function(_,E){if(j(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),j(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),!o.isBuffer(_)||!o.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===E)return 0;for(var L=_.length,V=E.length,ee=0,ie=Math.min(L,V);ee<ie;++ee)if(_[ee]!==E[ee]){L=_[ee],V=E[ee];break}return L<V?-1:V<L?1:0},o.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_,E){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return o.alloc(0);var L;if(E===void 0)for(E=0,L=0;L<_.length;++L)E+=_[L].length;var V=o.allocUnsafe(E),ee=0;for(L=0;L<_.length;++L){var ie=_[L];if(j(ie,Uint8Array))ee+ie.length>V.length?o.from(ie).copy(V,ee):Uint8Array.prototype.set.call(V,ie,ee);else if(o.isBuffer(ie))ie.copy(V,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=ie.length}return V};function K(R,_){if(o.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||j(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var E=R.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&E===0)return 0;for(var V=!1;;)switch(_){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return pe(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return F(R).length;default:if(V)return L?-1:pe(R).length;_=(""+_).toLowerCase(),V=!0}}o.byteLength=K;function B(R,_,E){var L=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,_>>>=0,E<=_))return"";for(R||(R="utf8");;)switch(R){case"hex":return N(this,_,E);case"utf8":case"utf-8":return u(this,_,E);case"ascii":return x(this,_,E);case"latin1":case"binary":return O(this,_,E);case"base64":return m(this,_,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,_,E);default:if(L)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),L=!0}}o.prototype._isBuffer=!0;function z(R,_,E){var L=R[_];R[_]=R[E],R[E]=L}o.prototype.swap16=function(){var _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<_;E+=2)z(this,E,E+1);return this},o.prototype.swap32=function(){var _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<_;E+=4)z(this,E,E+3),z(this,E+1,E+2);return this},o.prototype.swap64=function(){var _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<_;E+=8)z(this,E,E+7),z(this,E+1,E+6),z(this,E+2,E+5),z(this,E+3,E+4);return this},o.prototype.toString=function(){var _=this.length;return _===0?"":arguments.length===0?u(this,0,_):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_){if(!o.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:o.compare(this,_)===0},o.prototype.inspect=function(){var _="",E=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(_+=" ... "),"<Buffer "+_+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(_,E,L,V,ee){if(j(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),!o.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(E===void 0&&(E=0),L===void 0&&(L=_?_.length:0),V===void 0&&(V=0),ee===void 0&&(ee=this.length),E<0||L>_.length||V<0||ee>this.length)throw new RangeError("out of range index");if(V>=ee&&E>=L)return 0;if(V>=ee)return-1;if(E>=L)return 1;if(E>>>=0,L>>>=0,V>>>=0,ee>>>=0,this===_)return 0;for(var ie=ee-V,me=L-E,ye=Math.min(ie,me),ve=this.slice(V,ee),Se=_.slice(E,L),M=0;M<ye;++M)if(ve[M]!==Se[M]){ie=ve[M],me=Se[M];break}return ie<me?-1:me<ie?1:0};function P(R,_,E,L,V){if(R.length===0)return-1;if(typeof E=="string"?(L=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,J(E)&&(E=V?0:R.length-1),E<0&&(E=R.length+E),E>=R.length){if(V)return-1;E=R.length-1}else if(E<0)if(V)E=0;else return-1;if(typeof _=="string"&&(_=o.from(_,L)),o.isBuffer(_))return _.length===0?-1:g(R,_,E,L,V);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(R,_,E):Uint8Array.prototype.lastIndexOf.call(R,_,E):g(R,[_],E,L,V);throw new TypeError("val must be string, number or Buffer")}function g(R,_,E,L,V){var ee=1,ie=R.length,me=_.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(R.length<2||_.length<2)return-1;ee=2,ie/=2,me/=2,E/=2}function ye(b,U){return ee===1?b[U]:b.readUInt16BE(U*ee)}var ve;if(V){var Se=-1;for(ve=E;ve<ie;ve++)if(ye(R,ve)===ye(_,Se===-1?0:ve-Se)){if(Se===-1&&(Se=ve),ve-Se+1===me)return Se*ee}else Se!==-1&&(ve-=ve-Se),Se=-1}else for(E+me>ie&&(E=ie-me),ve=E;ve>=0;ve--){for(var M=!0,d=0;d<me;d++)if(ye(R,ve+d)!==ye(_,d)){M=!1;break}if(M)return ve}return-1}o.prototype.includes=function(_,E,L){return this.indexOf(_,E,L)!==-1},o.prototype.indexOf=function(_,E,L){return P(this,_,E,L,!0)},o.prototype.lastIndexOf=function(_,E,L){return P(this,_,E,L,!1)};function $(R,_,E,L){E=Number(E)||0;var V=R.length-E;L?(L=Number(L),L>V&&(L=V)):L=V;var ee=_.length;L>ee/2&&(L=ee/2);for(var ie=0;ie<L;++ie){var me=parseInt(_.substr(ie*2,2),16);if(J(me))return ie;R[E+ie]=me}return ie}function Y(R,_,E,L){return re(pe(_,R.length-E),R,E,L)}function Q(R,_,E,L){return re(le(_),R,E,L)}function G(R,_,E,L){return re(F(_),R,E,L)}function h(R,_,E,L){return re(y(_,R.length-E),R,E,L)}o.prototype.write=function(_,E,L,V){if(E===void 0)V="utf8",L=this.length,E=0;else if(L===void 0&&typeof E=="string")V=E,L=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(L)?(L=L>>>0,V===void 0&&(V="utf8")):(V=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-E;if((L===void 0||L>ee)&&(L=ee),_.length>0&&(L<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var ie=!1;;)switch(V){case"hex":return $(this,_,E,L);case"utf8":case"utf-8":return Y(this,_,E,L);case"ascii":case"latin1":case"binary":return Q(this,_,E,L);case"base64":return G(this,_,E,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,_,E,L);default:if(ie)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),ie=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(R,_,E){return _===0&&E===R.length?t.fromByteArray(R):t.fromByteArray(R.slice(_,E))}function u(R,_,E){E=Math.min(R.length,E);for(var L=[],V=_;V<E;){var ee=R[V],ie=null,me=ee>239?4:ee>223?3:ee>191?2:1;if(V+me<=E){var ye,ve,Se,M;switch(me){case 1:ee<128&&(ie=ee);break;case 2:ye=R[V+1],(ye&192)===128&&(M=(ee&31)<<6|ye&63,M>127&&(ie=M));break;case 3:ye=R[V+1],ve=R[V+2],(ye&192)===128&&(ve&192)===128&&(M=(ee&15)<<12|(ye&63)<<6|ve&63,M>2047&&(M<55296||M>57343)&&(ie=M));break;case 4:ye=R[V+1],ve=R[V+2],Se=R[V+3],(ye&192)===128&&(ve&192)===128&&(Se&192)===128&&(M=(ee&15)<<18|(ye&63)<<12|(ve&63)<<6|Se&63,M>65535&&M<1114112&&(ie=M))}}ie===null?(ie=65533,me=1):ie>65535&&(ie-=65536,L.push(ie>>>10&1023|55296),ie=56320|ie&1023),L.push(ie),V+=me}return A(L)}var p=4096;function A(R){var _=R.length;if(_<=p)return String.fromCharCode.apply(String,R);for(var E="",L=0;L<_;)E+=String.fromCharCode.apply(String,R.slice(L,L+=p));return E}function x(R,_,E){var L="";E=Math.min(R.length,E);for(var V=_;V<E;++V)L+=String.fromCharCode(R[V]&127);return L}function O(R,_,E){var L="";E=Math.min(R.length,E);for(var V=_;V<E;++V)L+=String.fromCharCode(R[V]);return L}function N(R,_,E){var L=R.length;(!_||_<0)&&(_=0),(!E||E<0||E>L)&&(E=L);for(var V="",ee=_;ee<E;++ee)V+=te[R[ee]];return V}function w(R,_,E){for(var L=R.slice(_,E),V="",ee=0;ee<L.length-1;ee+=2)V+=String.fromCharCode(L[ee]+L[ee+1]*256);return V}o.prototype.slice=function(_,E){var L=this.length;_=~~_,E=E===void 0?L:~~E,_<0?(_+=L,_<0&&(_=0)):_>L&&(_=L),E<0?(E+=L,E<0&&(E=0)):E>L&&(E=L),E<_&&(E=_);var V=this.subarray(_,E);return Object.setPrototypeOf(V,o.prototype),V};function I(R,_,E){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+_>E)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_,E,L){_=_>>>0,E=E>>>0,L||I(_,E,this.length);for(var V=this[_],ee=1,ie=0;++ie<E&&(ee*=256);)V+=this[_+ie]*ee;return V},o.prototype.readUintBE=o.prototype.readUIntBE=function(_,E,L){_=_>>>0,E=E>>>0,L||I(_,E,this.length);for(var V=this[_+--E],ee=1;E>0&&(ee*=256);)V+=this[_+--E]*ee;return V},o.prototype.readUint8=o.prototype.readUInt8=function(_,E){return _=_>>>0,E||I(_,1,this.length),this[_]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_,E){return _=_>>>0,E||I(_,2,this.length),this[_]|this[_+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_,E){return _=_>>>0,E||I(_,2,this.length),this[_]<<8|this[_+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_,E){return _=_>>>0,E||I(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_,E){return _=_>>>0,E||I(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},o.prototype.readIntLE=function(_,E,L){_=_>>>0,E=E>>>0,L||I(_,E,this.length);for(var V=this[_],ee=1,ie=0;++ie<E&&(ee*=256);)V+=this[_+ie]*ee;return ee*=128,V>=ee&&(V-=Math.pow(2,8*E)),V},o.prototype.readIntBE=function(_,E,L){_=_>>>0,E=E>>>0,L||I(_,E,this.length);for(var V=E,ee=1,ie=this[_+--V];V>0&&(ee*=256);)ie+=this[_+--V]*ee;return ee*=128,ie>=ee&&(ie-=Math.pow(2,8*E)),ie},o.prototype.readInt8=function(_,E){return _=_>>>0,E||I(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},o.prototype.readInt16LE=function(_,E){_=_>>>0,E||I(_,2,this.length);var L=this[_]|this[_+1]<<8;return L&32768?L|4294901760:L},o.prototype.readInt16BE=function(_,E){_=_>>>0,E||I(_,2,this.length);var L=this[_+1]|this[_]<<8;return L&32768?L|4294901760:L},o.prototype.readInt32LE=function(_,E){return _=_>>>0,E||I(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},o.prototype.readInt32BE=function(_,E){return _=_>>>0,E||I(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},o.prototype.readFloatLE=function(_,E){return _=_>>>0,E||I(_,4,this.length),r.read(this,_,!0,23,4)},o.prototype.readFloatBE=function(_,E){return _=_>>>0,E||I(_,4,this.length),r.read(this,_,!1,23,4)},o.prototype.readDoubleLE=function(_,E){return _=_>>>0,E||I(_,8,this.length),r.read(this,_,!0,52,8)},o.prototype.readDoubleBE=function(_,E){return _=_>>>0,E||I(_,8,this.length),r.read(this,_,!1,52,8)};function T(R,_,E,L,V,ee){if(!o.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>V||_<ee)throw new RangeError('"value" argument is out of bounds');if(E+L>R.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_,E,L,V){if(_=+_,E=E>>>0,L=L>>>0,!V){var ee=Math.pow(2,8*L)-1;T(this,_,E,L,ee,0)}var ie=1,me=0;for(this[E]=_&255;++me<L&&(ie*=256);)this[E+me]=_/ie&255;return E+L},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_,E,L,V){if(_=+_,E=E>>>0,L=L>>>0,!V){var ee=Math.pow(2,8*L)-1;T(this,_,E,L,ee,0)}var ie=L-1,me=1;for(this[E+ie]=_&255;--ie>=0&&(me*=256);)this[E+ie]=_/me&255;return E+L},o.prototype.writeUint8=o.prototype.writeUInt8=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,1,255,0),this[E]=_&255,E+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,2,65535,0),this[E]=_&255,this[E+1]=_>>>8,E+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,2,65535,0),this[E]=_>>>8,this[E+1]=_&255,E+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,4,4294967295,0),this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=_&255,E+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,4,4294967295,0),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4},o.prototype.writeIntLE=function(_,E,L,V){if(_=+_,E=E>>>0,!V){var ee=Math.pow(2,8*L-1);T(this,_,E,L,ee-1,-ee)}var ie=0,me=1,ye=0;for(this[E]=_&255;++ie<L&&(me*=256);)_<0&&ye===0&&this[E+ie-1]!==0&&(ye=1),this[E+ie]=(_/me>>0)-ye&255;return E+L},o.prototype.writeIntBE=function(_,E,L,V){if(_=+_,E=E>>>0,!V){var ee=Math.pow(2,8*L-1);T(this,_,E,L,ee-1,-ee)}var ie=L-1,me=1,ye=0;for(this[E+ie]=_&255;--ie>=0&&(me*=256);)_<0&&ye===0&&this[E+ie+1]!==0&&(ye=1),this[E+ie]=(_/me>>0)-ye&255;return E+L},o.prototype.writeInt8=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,1,127,-128),_<0&&(_=255+_+1),this[E]=_&255,E+1},o.prototype.writeInt16LE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,2,32767,-32768),this[E]=_&255,this[E+1]=_>>>8,E+2},o.prototype.writeInt16BE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,2,32767,-32768),this[E]=_>>>8,this[E+1]=_&255,E+2},o.prototype.writeInt32LE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,4,2147483647,-2147483648),this[E]=_&255,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24,E+4},o.prototype.writeInt32BE=function(_,E,L){return _=+_,E=E>>>0,L||T(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4};function k(R,_,E,L,V,ee){if(E+L>R.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function ce(R,_,E,L,V){return _=+_,E=E>>>0,V||k(R,_,E,4),r.write(R,_,E,L,23,4),E+4}o.prototype.writeFloatLE=function(_,E,L){return ce(this,_,E,!0,L)},o.prototype.writeFloatBE=function(_,E,L){return ce(this,_,E,!1,L)};function fe(R,_,E,L,V){return _=+_,E=E>>>0,V||k(R,_,E,8),r.write(R,_,E,L,52,8),E+8}o.prototype.writeDoubleLE=function(_,E,L){return fe(this,_,E,!0,L)},o.prototype.writeDoubleBE=function(_,E,L){return fe(this,_,E,!1,L)},o.prototype.copy=function(_,E,L,V){if(!o.isBuffer(_))throw new TypeError("argument should be a Buffer");if(L||(L=0),!V&&V!==0&&(V=this.length),E>=_.length&&(E=_.length),E||(E=0),V>0&&V<L&&(V=L),V===L||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),_.length-E<V-L&&(V=_.length-E+L);var ee=V-L;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,L,V):Uint8Array.prototype.set.call(_,this.subarray(L,V),E),ee},o.prototype.fill=function(_,E,L,V){if(typeof _=="string"){if(typeof E=="string"?(V=E,E=0,L=this.length):typeof L=="string"&&(V=L,L=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!o.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(_.length===1){var ee=_.charCodeAt(0);(V==="utf8"&&ee<128||V==="latin1")&&(_=ee)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(E<0||this.length<E||this.length<L)throw new RangeError("Out of range index");if(L<=E)return this;E=E>>>0,L=L===void 0?this.length:L>>>0,_||(_=0);var ie;if(typeof _=="number")for(ie=E;ie<L;++ie)this[ie]=_;else{var me=o.isBuffer(_)?_:o.from(_,V),ye=me.length;if(ye===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ie=0;ie<L-E;++ie)this[ie+E]=me[ie%ye]}return this};var be=/[^+/0-9A-Za-z-_]/g;function he(R){if(R=R.split("=")[0],R=R.trim().replace(be,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function pe(R,_){_=_||1/0;for(var E,L=R.length,V=null,ee=[],ie=0;ie<L;++ie){if(E=R.charCodeAt(ie),E>55295&&E<57344){if(!V){if(E>56319){(_-=3)>-1&&ee.push(239,191,189);continue}else if(ie+1===L){(_-=3)>-1&&ee.push(239,191,189);continue}V=E;continue}if(E<56320){(_-=3)>-1&&ee.push(239,191,189),V=E;continue}E=(V-55296<<10|E-56320)+65536}else V&&(_-=3)>-1&&ee.push(239,191,189);if(V=null,E<128){if((_-=1)<0)break;ee.push(E)}else if(E<2048){if((_-=2)<0)break;ee.push(E>>6|192,E&63|128)}else if(E<65536){if((_-=3)<0)break;ee.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((_-=4)<0)break;ee.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return ee}function le(R){for(var _=[],E=0;E<R.length;++E)_.push(R.charCodeAt(E)&255);return _}function y(R,_){for(var E,L,V,ee=[],ie=0;ie<R.length&&!((_-=2)<0);++ie)E=R.charCodeAt(ie),L=E>>8,V=E%256,ee.push(V),ee.push(L);return ee}function F(R){return t.toByteArray(he(R))}function re(R,_,E,L){for(var V=0;V<L&&!(V+E>=_.length||V>=R.length);++V)_[V+E]=R[V];return V}function j(R,_){return R instanceof _||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===_.name}function J(R){return R!==R}var te=function(){for(var R="0123456789abcdef",_=new Array(256),E=0;E<16;++E)for(var L=E*16,V=0;V<16;++V)_[L+V]=R[E]+R[V];return _}()})(b6);var Og=Ui,y6=g6,MB=b6.Buffer;function ih(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ih.prototype.initialize=function(t){this.degree=t,this.genPoly=y6.generateECPolynomial(this.degree)};ih.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=Og.alloc(this.degree),n=MB.concat([t,r],t.length+this.degree),s=y6.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){var a=Og.alloc(this.degree);return s.copy(a,i),a}return s};var CB=ih,v6={},Li={},sh={};sh.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Dn={},w6="[0-9]+",OB="[A-Z $%*+\\-./:]+",Ea="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ea=Ea.replace(/u/g,"\\u");var PB="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ea+`)(?:.|[\r
]))+`;Dn.KANJI=new RegExp(Ea,"g");Dn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Dn.BYTE=new RegExp(PB,"g");Dn.NUMERIC=new RegExp(w6,"g");Dn.ALPHANUMERIC=new RegExp(OB,"g");var DB=new RegExp("^"+Ea+"$"),NB=new RegExp("^"+w6+"$"),RB=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Dn.testKanji=function(t){return DB.test(t)};Dn.testNumeric=function(t){return NB.test(t)};Dn.testAlphanumeric=function(t){return RB.test(t)};(function(e){var t=sh,r=Dn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");var i=s.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,a){if(e.isValid(i))return i;try{return n(i)}catch{return a}}})(Li);(function(e){var t=$r,r=cu,n=au,s=Li,i=sh,a=th,o=7973,f=t.getBCHDigit(o);function c(D,C,q){for(var H=1;H<=40;H++)if(C<=e.getCapacity(H,q,D))return H}function l(D,C){return s.getCharCountIndicator(D,C)+4}function v(D,C){var q=0;return D.forEach(function(H){var Z=l(H.mode,C);q+=Z+H.getBitsLength()}),q}function S(D,C){for(var q=1;q<=40;q++){var H=v(D,q);if(H<=e.getCapacity(q,C,s.MIXED))return q}}e.from=function(C,q){return i.isValid(C)?parseInt(C,10):q},e.getCapacity=function(C,q,H){if(!i.isValid(C))throw new Error("Invalid QR Code version");typeof H>"u"&&(H=s.BYTE);var Z=t.getSymbolTotalCodewords(C),W=r.getTotalCodewordsCount(C,q),K=(Z-W)*8;if(H===s.MIXED)return K;var B=K-l(H,C);switch(H){case s.NUMERIC:return Math.floor(B/10*3);case s.ALPHANUMERIC:return Math.floor(B/11*2);case s.KANJI:return Math.floor(B/13);case s.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(C,q){var H,Z=n.from(q,n.M);if(a(C)){if(C.length>1)return S(C,Z);if(C.length===0)return 1;H=C[0]}else H=C;return c(H.mode,H.getLength(),Z)},e.getEncodedBits=function(C){if(!i.isValid(C)||C<7)throw new Error("Invalid QR Code version");for(var q=C<<12;t.getBCHDigit(q)-f>=0;)q^=o<<t.getBCHDigit(q)-f;return C<<12|q}})(v6);var _6={},_0=$r,E6=1335,BB=21522,Pg=_0.getBCHDigit(E6);_6.getEncodedBits=function(t,r){for(var n=t.bit<<3|r,s=n<<10;_0.getBCHDigit(s)-Pg>=0;)s^=E6<<_0.getBCHDigit(s)-Pg;return(n<<10|s)^BB};var x6={},$B=Li;function ro(e){this.mode=$B.NUMERIC,this.data=e.toString()}ro.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ro.prototype.getLength=function(){return this.data.length};ro.prototype.getBitsLength=function(){return ro.getBitsLength(this.data.length)};ro.prototype.write=function(t){var r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,i*3+1))};var UB=ro,LB=Li,cl=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function no(e){this.mode=LB.ALPHANUMERIC,this.data=e}no.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};no.prototype.getLength=function(){return this.data.length};no.prototype.getBitsLength=function(){return no.getBitsLength(this.data.length)};no.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=cl.indexOf(this.data[r])*45;n+=cl.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(cl.indexOf(this.data[r]),6)};var FB=no,kB=Ui,jB=Li;function io(e){this.mode=jB.BYTE,this.data=kB.from(e)}io.getBitsLength=function(t){return t*8};io.prototype.getLength=function(){return this.data.length};io.prototype.getBitsLength=function(){return io.getBitsLength(this.data.length)};io.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var qB=io,HB=Li,zB=$r;function so(e){this.mode=HB.KANJI,this.data=e}so.getBitsLength=function(t){return t*13};so.prototype.getLength=function(){return this.data.length};so.prototype.getBitsLength=function(){return so.getBitsLength(this.data.length)};so.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=zB.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var VB=so,S6={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,s){var i={},a={};a[n]=0;var o=t.PriorityQueue.make();o.push(n,0);for(var f,c,l,v,S,D,C,q,H;!o.empty();){f=o.pop(),c=f.value,v=f.cost,S=r[c]||{};for(l in S)S.hasOwnProperty(l)&&(D=S[l],C=v+D,q=a[l],H=typeof a[l]>"u",(H||q>C)&&(a[l]=C,o.push(l,C),i[l]=c))}if(typeof s<"u"&&typeof a[s]>"u"){var Z=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(Z)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=t.single_source_shortest_paths(r,n,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(S6);var KB=S6.exports;(function(e){var t=Li,r=UB,n=FB,s=qB,i=VB,a=Dn,o=$r,f=KB;function c(Z){return unescape(encodeURIComponent(Z)).length}function l(Z,W,K){for(var B=[],z;(z=Z.exec(K))!==null;)B.push({data:z[0],index:z.index,mode:W,length:z[0].length});return B}function v(Z){var W=l(a.NUMERIC,t.NUMERIC,Z),K=l(a.ALPHANUMERIC,t.ALPHANUMERIC,Z),B,z;o.isKanjiModeEnabled()?(B=l(a.BYTE,t.BYTE,Z),z=l(a.KANJI,t.KANJI,Z)):(B=l(a.BYTE_KANJI,t.BYTE,Z),z=[]);var P=W.concat(K,B,z);return P.sort(function(g,$){return g.index-$.index}).map(function(g){return{data:g.data,mode:g.mode,length:g.length}})}function S(Z,W){switch(W){case t.NUMERIC:return r.getBitsLength(Z);case t.ALPHANUMERIC:return n.getBitsLength(Z);case t.KANJI:return i.getBitsLength(Z);case t.BYTE:return s.getBitsLength(Z)}}function D(Z){return Z.reduce(function(W,K){var B=W.length-1>=0?W[W.length-1]:null;return B&&B.mode===K.mode?(W[W.length-1].data+=K.data,W):(W.push(K),W)},[])}function C(Z){for(var W=[],K=0;K<Z.length;K++){var B=Z[K];switch(B.mode){case t.NUMERIC:W.push([B,{data:B.data,mode:t.ALPHANUMERIC,length:B.length},{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.ALPHANUMERIC:W.push([B,{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.KANJI:W.push([B,{data:B.data,mode:t.BYTE,length:c(B.data)}]);break;case t.BYTE:W.push([{data:B.data,mode:t.BYTE,length:c(B.data)}])}}return W}function q(Z,W){for(var K={},B={start:{}},z=["start"],P=0;P<Z.length;P++){for(var g=Z[P],$=[],Y=0;Y<g.length;Y++){var Q=g[Y],G=""+P+Y;$.push(G),K[G]={node:Q,lastCount:0},B[G]={};for(var h=0;h<z.length;h++){var m=z[h];K[m]&&K[m].node.mode===Q.mode?(B[m][G]=S(K[m].lastCount+Q.length,Q.mode)-S(K[m].lastCount,Q.mode),K[m].lastCount+=Q.length):(K[m]&&(K[m].lastCount=Q.length),B[m][G]=S(Q.length,Q.mode)+4+t.getCharCountIndicator(Q.mode,W))}}z=$}for(h=0;h<z.length;h++)B[z[h]].end=0;return{map:B,table:K}}function H(Z,W){var K,B=t.getBestModeForData(Z);if(K=t.from(W,B),K!==t.BYTE&&K.bit<B.bit)throw new Error('"'+Z+'" cannot be encoded with mode '+t.toString(K)+`.
 Suggested mode is: `+t.toString(B));switch(K===t.KANJI&&!o.isKanjiModeEnabled()&&(K=t.BYTE),K){case t.NUMERIC:return new r(Z);case t.ALPHANUMERIC:return new n(Z);case t.KANJI:return new i(Z);case t.BYTE:return new s(Z)}}e.fromArray=function(W){return W.reduce(function(K,B){return typeof B=="string"?K.push(H(B,null)):B.data&&K.push(H(B.data,B.mode)),K},[])},e.fromString=function(W,K){for(var B=v(W,o.isKanjiModeEnabled()),z=C(B),P=q(z,K),g=f.find_path(P.map,"start","end"),$=[],Y=1;Y<g.length-1;Y++)$.push(P.table[g[Y]].node);return e.fromArray(D($))},e.rawSplit=function(W){return e.fromArray(v(W,o.isKanjiModeEnabled()))}})(x6);var Dg=Ui,uu=$r,fl=au,GB=AB,WB=IB,YB=d6,JB=h6,E0=p6,x0=cu,XB=CB,Zc=v6,ZB=_6,QB=Li,ul=x6,e$=th;function t$(e,t){for(var r=e.size,n=JB.getPositions(t),s=0;s<n.length;s++)for(var i=n[s][0],a=n[s][1],o=-1;o<=7;o++)if(!(i+o<=-1||r<=i+o))for(var f=-1;f<=7;f++)a+f<=-1||r<=a+f||(o>=0&&o<=6&&(f===0||f===6)||f>=0&&f<=6&&(o===0||o===6)||o>=2&&o<=4&&f>=2&&f<=4?e.set(i+o,a+f,!0,!0):e.set(i+o,a+f,!1,!0))}function r$(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function n$(e,t){for(var r=YB.getPositions(t),n=0;n<r.length;n++)for(var s=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?e.set(s+a,i+o,!0,!0):e.set(s+a,i+o,!1,!0)}function i$(e,t){for(var r=e.size,n=Zc.getEncodedBits(t),s,i,a,o=0;o<18;o++)s=Math.floor(o/3),i=o%3+r-8-3,a=(n>>o&1)===1,e.set(s,i,a,!0),e.set(i,s,a,!0)}function ll(e,t,r){var n=e.size,s=ZB.getEncodedBits(t,r),i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(n-15+i,8,a,!0),i<8?e.set(8,n-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(n-8,8,1,!0)}function s$(e,t){for(var r=e.size,n=-1,s=r-1,i=7,a=0,o=r-1;o>0;o-=2)for(o===6&&o--;;){for(var f=0;f<2;f++)if(!e.isReserved(s,o-f)){var c=!1;a<t.length&&(c=(t[a]>>>i&1)===1),e.set(s,o-f,c),i--,i===-1&&(a++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function o$(e,t,r){var n=new GB;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),QB.getCharCountIndicator(c.mode,e)),c.write(n)});var s=uu.getSymbolTotalCodewords(e),i=x0.getTotalCodewordsCount(e,t),a=(s-i)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var o=(a-n.getLengthInBits())/8,f=0;f<o;f++)n.put(f%2?17:236,8);return a$(n,e,t)}function a$(e,t,r){for(var n=uu.getSymbolTotalCodewords(t),s=x0.getTotalCodewordsCount(t,r),i=n-s,a=x0.getBlocksCount(t,r),o=n%a,f=a-o,c=Math.floor(n/a),l=Math.floor(i/a),v=l+1,S=c-l,D=new XB(S),C=0,q=new Array(a),H=new Array(a),Z=0,W=Dg.from(e.buffer),K=0;K<a;K++){var B=K<f?l:v;q[K]=W.slice(C,C+B),H[K]=D.encode(q[K]),C+=B,Z=Math.max(Z,B)}var z=Dg.alloc(n),P=0,g,$;for(g=0;g<Z;g++)for($=0;$<a;$++)g<q[$].length&&(z[P++]=q[$][g]);for(g=0;g<S;g++)for($=0;$<a;$++)z[P++]=H[$][g];return z}function c$(e,t,r,n){var s;if(e$(e))s=ul.fromArray(e);else if(typeof e=="string"){var i=t;if(!i){var a=ul.rawSplit(e);i=Zc.getBestVersionForData(a,r)}s=ul.fromString(e,i||40)}else throw new Error("Invalid data");var o=Zc.getBestVersionForData(s,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);var f=o$(t,r,s),c=uu.getSymbolSize(t),l=new WB(c);return t$(l,t),r$(l),n$(l,t),ll(l,r,0),t>=7&&i$(l,t),s$(l,f),isNaN(n)&&(n=E0.getBestMask(l,ll.bind(null,l,r))),E0.applyMask(n,l),ll(l,r,n),{modules:l,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}a6.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");var n=fl.M,s,i;return typeof r<"u"&&(n=fl.from(r.errorCorrectionLevel,fl.M),s=Zc.from(r.version),i=E0.from(r.maskPattern),r.toSJISFunc&&uu.setToSJISFunction(r.toSJISFunc)),c$(t,s,n,i)};var A6={},oh={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},e.getImageWidth=function(n,s){var i=e.getScale(n,s);return Math.floor((n+s.margin*2)*i)},e.qrToImageData=function(n,s,i){for(var a=s.modules.size,o=s.modules.data,f=e.getScale(a,i),c=Math.floor((a+i.margin*2)*f),l=i.margin*f,v=[i.color.light,i.color.dark],S=0;S<c;S++)for(var D=0;D<c;D++){var C=(S*c+D)*4,q=i.color.light;if(S>=l&&D>=l&&S<c-l&&D<c-l){var H=Math.floor((S-l)/f),Z=Math.floor((D-l)/f);q=v[o[H*a+Z]?1:0]}n[C++]=q.r,n[C++]=q.g,n[C++]=q.b,n[C]=q.a}}})(oh);(function(e){var t=oh;function r(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,o){var f=o,c=a;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),a||(c=n()),f=t.getOptions(f);var l=t.getImageWidth(i.modules.size,f),v=c.getContext("2d"),S=v.createImageData(l,l);return t.qrToImageData(S.data,i,f),r(v,c,l),v.putImageData(S,0,0),c},e.renderToDataURL=function(i,a,o){var f=o;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),f||(f={});var c=e.render(i,a,f),l=f.type||"image/png",v=f.rendererOpts||{};return c.toDataURL(l,v.quality)}})(A6);var I6={},f$=oh;function Ng(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function dl(e,t,r){var n=e+t;return typeof r<"u"&&(n+=" "+r),n}function u$(e,t,r){for(var n="",s=0,i=!1,a=0,o=0;o<e.length;o++){var f=Math.floor(o%t),c=Math.floor(o/t);!f&&!i&&(i=!0),e[o]?(a++,o>0&&f>0&&e[o-1]||(n+=i?dl("M",f+r,.5+c+r):dl("m",s,0),s=0,i=!1),f+1<t&&e[o+1]||(n+=dl("h",a),a=0)):s++}return n}I6.render=function(t,r,n){var s=f$.getOptions(r),i=t.modules.size,a=t.modules.data,o=i+s.margin*2,f=s.color.light.a?"<path "+Ng(s.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+Ng(s.color.dark,"stroke")+' d="'+u$(a,i,s.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',v=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",S='<svg xmlns="http://www.w3.org/2000/svg" '+v+l+' shape-rendering="crispEdges">'+f+c+`</svg>
`;return typeof n=="function"&&n(null,S),S};var l$=hB,S0=a6,T6=A6,d$=I6;function ah(e,t,r,n,s){var i=[].slice.call(arguments,1),a=i.length,o=typeof i[a-1]=="function";if(!o&&!l$())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(s=r,r=t,t=n=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=t,t=n=void 0):a===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,l){try{var v=S0.create(r,n);c(e(v,t,n))}catch(S){l(S)}})}try{var f=S0.create(r,n);s(null,e(f,t,n))}catch(c){s(c)}}qa.create=S0.create;qa.toCanvas=ah.bind(null,T6.render);qa.toDataURL=ah.bind(null,T6.renderToDataURL);qa.toString=ah.bind(null,function(e,t,r){return d$.render(e,r)});var h$=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(s){e.addRange(s)}),t&&t.focus()}},p$=h$,Rg={"text/plain":"Text","text/html":"Url",default:"Text"},g$="Copy to clipboard: #{key}, Enter";function m$(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function b$(e,t){var r,n,s,i,a,o,f=!1;t||(t={}),r=t.debug||!1;try{s=p$(),i=document.createRange(),a=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=Rg[t.format]||Rg.default;window.clipboardData.setData(v,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(o),i.selectNodeContents(o),a.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");f=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(v){r&&console.error("unable to copy using clipboardData: ",v),r&&console.error("falling back to prompt"),n=m$("message"in t?t.message:g$),window.prompt(n,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),o&&document.body.removeChild(o),s()}return f}var y$=b$,Ye,aa,ch,M6,Bg,fh,C6,ei={},lu=[],v$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Jn(e,t){for(var r in t)e[r]=t[r];return e}function O6(e){var t=e.parentNode;t&&t.removeChild(e)}function ci(e,t,r){var n,s=arguments,i={};for(n in t)n!=="key"&&n!=="ref"&&(i[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(s[n]);if(r!=null&&(i.children=r),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return Qc(e,i,t&&t.key,t&&t.ref,null)}function Qc(e,t,r,n,s){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return s==null&&(i.__v=i),Ye.vnode&&Ye.vnode(i),i}function P6(){return{}}function za(e){return e.children}function cn(e,t){this.props=e,this.context=t}function xa(e,t){if(t==null)return e.__?xa(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?xa(e):null}function D6(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return D6(e)}}function Ac(e){(!e.__d&&(e.__d=!0)&&aa.push(e)&&!ch++||Bg!==Ye.debounceRendering)&&((Bg=Ye.debounceRendering)||M6)(w$)}function w$(){for(var e;ch=aa.length;)e=aa.sort(function(t,r){return t.__v.__b-r.__v.__b}),aa=[],e.some(function(t){var r,n,s,i,a,o,f;t.__d&&(o=(a=(r=t).__v).__e,(f=r.__P)&&(n=[],(s=Jn({},a)).__v=s,i=uh(f,a,s,r.__n,f.ownerSVGElement!==void 0,null,n,o??xa(a)),R6(n,a),i!=o&&D6(a)))})}function N6(e,t,r,n,s,i,a,o,f){var c,l,v,S,D,C,q,H=r&&r.__k||lu,Z=H.length;if(o==ei&&(o=i!=null?i[0]:Z?xa(r,0):null),c=0,t.__k=Ci(t.__k,function(W){if(W!=null){if(W.__=t,W.__b=t.__b+1,(v=H[c])===null||v&&W.key==v.key&&W.type===v.type)H[c]=void 0;else for(l=0;l<Z;l++){if((v=H[l])&&W.key==v.key&&W.type===v.type){H[l]=void 0;break}v=null}if(S=uh(e,W,v=v||ei,n,s,i,a,o,f),(l=W.ref)&&v.ref!=l&&(q||(q=[]),v.ref&&q.push(v.ref,null,W),q.push(l,W.__c||S,W)),S!=null){var K;if(C==null&&(C=S),W.__d!==void 0)K=W.__d,W.__d=void 0;else if(i==v||S!=o||S.parentNode==null){e:if(o==null||o.parentNode!==e)e.appendChild(S),K=null;else{for(D=o,l=0;(D=D.nextSibling)&&l<Z;l+=2)if(D==S)break e;e.insertBefore(S,o),K=o}t.type=="option"&&(e.value="")}o=K!==void 0?K:S.nextSibling,typeof t.type=="function"&&(t.__d=o)}else o&&v.__e==o&&o.parentNode!=e&&(o=xa(v))}return c++,W}),t.__e=C,i!=null&&typeof t.type!="function")for(c=i.length;c--;)i[c]!=null&&O6(i[c]);for(c=Z;c--;)H[c]!=null&&ca(H[c],H[c]);if(q)for(c=0;c<q.length;c++)B6(q[c],q[++c],q[++c])}function Ci(e,t,r){if(r==null&&(r=[]),e==null||typeof e=="boolean")t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)Ci(e[n],t,r);else r.push(t?t(typeof e=="string"||typeof e=="number"?Qc(null,e,null,null,e):e.__e!=null||e.__c!=null?Qc(e.type,e.props,e.key,null,e.__v):e):e);return r}function _$(e,t,r,n,s){var i;for(i in r)i==="children"||i==="key"||i in t||ef(e,i,null,r[i],n);for(i in t)s&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===t[i]||ef(e,i,t[i],r[i],n)}function $g(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=typeof r=="number"&&v$.test(t)===!1?r+"px":r??""}function ef(e,t,r,n,s){var i,a,o,f,c;if(s?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(i=e.style,typeof r=="string")i.cssText=r;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(f in n)r&&f in r||$g(i,f,"");if(r)for(c in r)n&&r[c]===n[c]||$g(i,c,r[c])}else t[0]==="o"&&t[1]==="n"?(a=t!==(t=t.replace(/Capture$/,"")),o=t.toLowerCase(),t=(o in e?o:t).slice(2),r?(n||e.addEventListener(t,Ug,a),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,Ug,a)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!s&&t in e?e[t]=r??"":typeof r!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?r==null||r===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function Ug(e){this.l[e.type](Ye.event?Ye.event(e):e)}function uh(e,t,r,n,s,i,a,o,f){var c,l,v,S,D,C,q,H,Z,W,K=t.type;if(t.constructor!==void 0)return null;(c=Ye.__b)&&c(t);try{e:if(typeof K=="function"){if(H=t.props,Z=(c=K.contextType)&&n[c.__c],W=c?Z?Z.props.value:c.__:n,r.__c?q=(l=t.__c=r.__c).__=l.__E:("prototype"in K&&K.prototype.render?t.__c=l=new K(H,W):(t.__c=l=new cn(H,W),l.constructor=K,l.render=x$),Z&&Z.sub(l),l.props=H,l.state||(l.state={}),l.context=W,l.__n=n,v=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),K.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Jn({},l.__s)),Jn(l.__s,K.getDerivedStateFromProps(H,l.__s))),S=l.props,D=l.state,v)K.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(K.getDerivedStateFromProps==null&&H!==S&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(H,W),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(H,l.__s,W)===!1||t.__v===r.__v&&!l.__){for(l.props=H,l.state=l.__s,t.__v!==r.__v&&(l.__d=!1),l.__v=t,t.__e=r.__e,t.__k=r.__k,l.__h.length&&a.push(l),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(H,l.__s,W),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(S,D,C)})}l.context=W,l.props=H,l.state=l.__s,(c=Ye.__r)&&c(t),l.__d=!1,l.__v=t,l.__P=e,c=l.render(l.props,l.state,l.context),t.__k=c!=null&&c.type==za&&c.key==null?c.props.children:Array.isArray(c)?c:[c],l.getChildContext!=null&&(n=Jn(Jn({},n),l.getChildContext())),v||l.getSnapshotBeforeUpdate==null||(C=l.getSnapshotBeforeUpdate(S,D)),N6(e,t,r,n,s,i,a,o,f),l.base=t.__e,l.__h.length&&a.push(l),q&&(l.__E=l.__=null),l.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=E$(r.__e,t,r,n,s,i,a,f);(c=Ye.diffed)&&c(t)}catch(B){t.__v=null,Ye.__e(B,t,r)}return t.__e}function R6(e,t){Ye.__c&&Ye.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){Ye.__e(n,r.__v)}})}function E$(e,t,r,n,s,i,a,o){var f,c,l,v,S,D=r.props,C=t.props;if(s=t.type==="svg"||s,i!=null){for(f=0;f<i.length;f++)if((c=i[f])!=null&&((t.type===null?c.nodeType===3:c.localName===t.type)||e==c)){e=c,i[f]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(C);e=s?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,C.is&&{is:C.is}),i=null,o=!1}if(t.type===null)D!==C&&e.data!=C&&(e.data=C);else{if(i!=null&&(i=lu.slice.call(e.childNodes)),l=(D=r.props||ei).dangerouslySetInnerHTML,v=C.dangerouslySetInnerHTML,!o){if(D===ei)for(D={},S=0;S<e.attributes.length;S++)D[e.attributes[S].name]=e.attributes[S].value;(v||l)&&(v&&l&&v.__html==l.__html||(e.innerHTML=v&&v.__html||""))}_$(e,C,D,s,o),v?t.__k=[]:(t.__k=t.props.children,N6(e,t,r,n,t.type!=="foreignObject"&&s,i,a,ei,o)),o||("value"in C&&(f=C.value)!==void 0&&f!==e.value&&ef(e,"value",f,D.value,!1),"checked"in C&&(f=C.checked)!==void 0&&f!==e.checked&&ef(e,"checked",f,D.checked,!1))}return e}function B6(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){Ye.__e(n,r)}}function ca(e,t,r){var n,s,i;if(Ye.unmount&&Ye.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||B6(n,null,t)),r||typeof e.type=="function"||(r=(s=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Ye.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&ca(n[i],t,r);s!=null&&O6(s)}function x$(e,t,r){return this.constructor(e,r)}function Sa(e,t,r){var n,s,i;Ye.__&&Ye.__(e,t),s=(n=r===fh)?null:r&&r.__k||t.__k,e=ci(za,null,[e]),i=[],uh(t,(n?t:r||t).__k=e,s||ei,ei,t.ownerSVGElement!==void 0,r&&!n?[r]:s?null:lu.slice.call(t.childNodes),i,r||ei,n),R6(i,e)}function $6(e,t){Sa(e,t,fh)}function S$(e,t){var r,n;for(n in t=Jn(Jn({},e.props),t),arguments.length>2&&(t.children=lu.slice.call(arguments,2)),r={},t)n!=="key"&&n!=="ref"&&(r[n]=t[n]);return Qc(e.type,r,t.key||e.key,t.ref||e.ref,null)}function U6(e){var t={},r={__c:"__cC"+C6++,__:e,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i=this;return this.getChildContext||(s=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(a){i.props.value!==a.value&&s.some(function(o){o.context=a.value,Ac(o)})},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}Ye={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(e)),n)return Ac(r.__E=r)}catch(s){e=s}throw e}},cn.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=Jn({},this.state),typeof e=="function"&&(e=e(r,this.props)),e&&Jn(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),Ac(this))},cn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ac(this))},cn.prototype.render=za,aa=[],ch=0,M6=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fh=ei,C6=0;var Ms,_r,Lg,oo=0,A0=[],Fg=Ye.__r,kg=Ye.diffed,jg=Ye.__c,qg=Ye.unmount;function Ao(e,t){Ye.__h&&Ye.__h(_r,e,oo||t),oo=0;var r=_r.__H||(_r.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function lh(e){return oo=1,dh(z6,e)}function dh(e,t,r){var n=Ao(Ms++,2);return n.__c||(n.__c=_r,n.__=[r?r(t):z6(void 0,t),function(s){var i=e(n.__[0],s);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}function L6(e,t){var r=Ao(Ms++,3);!Ye.__s&&ph(r.__H,t)&&(r.__=e,r.__H=t,_r.__H.__h.push(r))}function hh(e,t){var r=Ao(Ms++,4);!Ye.__s&&ph(r.__H,t)&&(r.__=e,r.__H=t,_r.__h.push(r))}function F6(e){return oo=5,du(function(){return{current:e}},[])}function k6(e,t,r){oo=6,hh(function(){typeof e=="function"?e(t()):e&&(e.current=t())},r==null?r:r.concat(e))}function du(e,t){var r=Ao(Ms++,7);return ph(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function j6(e,t){return oo=8,du(function(){return e},t)}function q6(e){var t=_r.context[e.__c],r=Ao(Ms++,9);return r.__c=e,t?(r.__==null&&(r.__=!0,t.sub(_r)),t.props.value):e.__}function H6(e,t){Ye.useDebugValue&&Ye.useDebugValue(t?t(e):e)}function A$(e){var t=Ao(Ms++,10),r=lh();return t.__=e,_r.componentDidCatch||(_r.componentDidCatch=function(n){t.__&&t.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function I$(){A0.some(function(e){if(e.__P)try{e.__H.__h.forEach(I0),e.__H.__h.forEach(T0),e.__H.__h=[]}catch(t){return e.__H.__h=[],Ye.__e(t,e.__v),!0}}),A0=[]}function I0(e){e.t&&e.t()}function T0(e){var t=e.__();typeof t=="function"&&(e.t=t)}function ph(e,t){return!e||t.some(function(r,n){return r!==e[n]})}function z6(e,t){return typeof t=="function"?t(e):t}Ye.__r=function(e){Fg&&Fg(e),Ms=0,(_r=e.__c).__H&&(_r.__H.__h.forEach(I0),_r.__H.__h.forEach(T0),_r.__H.__h=[])},Ye.diffed=function(e){kg&&kg(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(A0.push(t)!==1&&Lg===Ye.requestAnimationFrame||((Lg=Ye.requestAnimationFrame)||function(n){var s,i=function(){clearTimeout(a),cancelAnimationFrame(s),setTimeout(n)},a=setTimeout(i,100);typeof window<"u"&&(s=requestAnimationFrame(i))})(I$))}},Ye.__c=function(e,t){t.some(function(r){try{r.__h.forEach(I0),r.__h=r.__h.filter(function(n){return!n.__||T0(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],Ye.__e(n,r.__v)}}),jg&&jg(e,t)},Ye.unmount=function(e){qg&&qg(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){Ye.__e(n,t.__v)}}};function gh(e,t){for(var r in t)e[r]=t[r];return e}function M0(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}var V6=function(e){var t,r;function n(s){var i;return(i=e.call(this,s)||this).isPureReactComponent=!0,i}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(s,i){return M0(this.props,s)||M0(this.state,i)},n}(cn);function K6(e,t){function r(s){var i=this.props.ref,a=i==s.ref;return!a&&i&&(i.call?i(null):i.current=null),t?!t(this.props,s)||!a:M0(this.props,s)}function n(s){return this.shouldComponentUpdate=r,ci(e,gh({},s))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var Hg=Ye.__b;function G6(e){function t(r){var n=gh({},r);return delete n.ref,e(n,r.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}Ye.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),Hg&&Hg(e)};var zg=function(e,t){return e?Ci(e).reduce(function(r,n,s){return r.concat(t(n,s))},[]):null},W6={map:zg,forEach:zg,count:function(e){return e?Ci(e).length:0},only:function(e){if((e=Ci(e)).length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:Ci},T$=Ye.__e;function Y6(e){return e&&((e=gh({},e)).__c=null,e.__k=e.__k&&e.__k.map(Y6)),e}function tf(){this.__u=0,this.o=null,this.__b=null}function J6(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function X6(e){var t,r,n;function s(i){if(t||(t=e()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw t;return ci(r,i)}return s.displayName="Lazy",s.t=!0,s}function Fs(){this.i=null,this.l=null}Ye.__e=function(e,t,r){if(e.then){for(var n,s=t;s=s.__;)if((n=s.__c)&&n.__c)return n.__c(e,t.__c)}T$(e,t,r)},(tf.prototype=new cn).__c=function(e,t){var r=this;r.o==null&&(r.o=[]),r.o.push(t);var n=J6(r.__v),s=!1,i=function(){s||(s=!0,n?n(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var a=function(){var o;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});o=r.o.pop();)o.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(i,i)},tf.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=Y6(this.__b),this.__b=null),[ci(cn,null,t.u?null:e.children),t.u&&e.fallback]};var Vg=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(Fs.prototype=new cn).u=function(e){var t=this,r=J6(t.__v),n=t.l.get(e);return n[0]++,function(s){var i=function(){t.props.revealOrder?(n.push(s),Vg(t,e,n)):s()};r?r(i):i()}},Fs.prototype.render=function(e){this.i=null,this.l=new Map;var t=Ci(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},Fs.prototype.componentDidUpdate=Fs.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,r){Vg(e,r,t)})};var M$=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(r){return r.children},e}();function C$(e){var t=this,r=e.container,n=ci(M$,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),ca(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,Sa(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),$6("",r),r.appendChild(t.v),t.p=!0,t.s=r,Sa(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),ca(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),ca(t.h)},null}function Z6(e,t){return ci(C$,{vnode:e,container:t})}var Kg=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;cn.prototype.isReactComponent={};var Q6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function C0(e,t,r){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return Sa(e,t),typeof r=="function"&&r(),e?e.__c:null}function O$(e,t,r){return $6(e,t),typeof r=="function"&&r(),e?e.__c:null}var Gg=Ye.event;function hl(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(r){this["UNSAFE_"+t]=r}})}Ye.event=function(e){Gg&&(e=Gg(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var s=e.preventDefault;return e.preventDefault=function(){s.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var Wg={configurable:!0,get:function(){return this.class}},Yg=Ye.vnode;Ye.vnode=function(e){e.$$typeof=Q6;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&(Wg.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",Wg)),typeof t!="function"){var n,s,i;for(i in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&t==="select"&&(Ci(r.children).forEach(function(a){r.value.indexOf(a.props.value)!=-1&&(a.props.selected=!0)}),delete r.value),r)if(n=Kg.test(i))break;if(n)for(i in s=e.props={},r)s[Kg.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=r[i]}(function(a){var o=e.type,f=e.props;if(f&&typeof o=="string"){var c={};for(var l in f)/^on(Ani|Tra|Tou)/.test(l)&&(f[l.toLowerCase()]=f[l],delete f[l]),c[l.toLowerCase()]=l;if(c.ondoubleclick&&(f.ondblclick=f[c.ondoubleclick],delete f[c.ondoubleclick]),c.onbeforeinput&&(f.onbeforeinput=f[c.onbeforeinput],delete f[c.onbeforeinput]),c.onchange&&(o==="textarea"||o.toLowerCase()==="input"&&!/^fil|che|ra/i.test(f.type))){var v=c.oninput||"oninput";f[v]||(f[v]=f[c.onchange],delete f[c.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(hl(t.prototype,"componentWillMount"),hl(t.prototype,"componentWillReceiveProps"),hl(t.prototype,"componentWillUpdate"),t.m=!0)}Yg&&Yg(e)};var P$="16.8.0";function e3(e){return ci.bind(null,e)}function mh(e){return!!e&&e.$$typeof===Q6}function t3(e){return mh(e)?S$.apply(null,arguments):e}function r3(e){return!!e.__k&&(Sa(null,e),!0)}function n3(e){return e&&(e.base||e.nodeType===1&&e)||null}var i3=function(e,t){return e(t)};const D$={useState:lh,useReducer:dh,useEffect:L6,useLayoutEffect:hh,useRef:F6,useImperativeHandle:k6,useMemo:du,useCallback:j6,useContext:q6,useDebugValue:H6,version:"16.8.0",Children:W6,render:C0,hydrate:C0,unmountComponentAtNode:r3,createPortal:Z6,createElement:ci,createContext:U6,createFactory:e3,cloneElement:t3,createRef:P6,Fragment:za,isValidElement:mh,findDOMNode:n3,Component:cn,PureComponent:V6,memo:K6,forwardRef:G6,unstable_batchedUpdates:i3,Suspense:tf,SuspenseList:Fs,lazy:X6},N$=Object.freeze(Object.defineProperty({__proto__:null,Children:W6,Component:cn,Fragment:za,PureComponent:V6,Suspense:tf,SuspenseList:Fs,cloneElement:t3,createContext:U6,createElement:ci,createFactory:e3,createPortal:Z6,createRef:P6,default:D$,findDOMNode:n3,forwardRef:G6,hydrate:O$,isValidElement:mh,lazy:X6,memo:K6,render:C0,unmountComponentAtNode:r3,unstable_batchedUpdates:i3,useCallback:j6,useContext:q6,useDebugValue:H6,useEffect:L6,useErrorBoundary:A$,useImperativeHandle:k6,useLayoutEffect:hh,useMemo:du,useReducer:dh,useRef:F6,useState:lh,version:P$},Symbol.toStringTag,{value:"Module"})),R$=Ar(N$);function s3(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var zr=dB,o3=s3(qa),B$=s3(y$),ke=R$;function $$(e){o3.toString(e,{type:"terminal"}).then(console.log)}var U$=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function L$(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var F$="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",k$="WalletConnect",j$=300,q$="rgb(64, 153, 255)",a3="walletconnect-wrapper",Jg="walletconnect-style-sheet",c3="walletconnect-qrcode-modal",H$="walletconnect-qrcode-close",f3="walletconnect-qrcode-text",z$="walletconnect-connect-button";function V$(e){return ke.createElement("div",{className:"walletconnect-modal__header"},ke.createElement("img",{src:F$,className:"walletconnect-modal__headerLogo"}),ke.createElement("p",null,k$),ke.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},ke.createElement("div",{id:H$,className:"walletconnect-modal__close__icon"},ke.createElement("div",{className:"walletconnect-modal__close__line1"}),ke.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function K$(e){return ke.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:z$+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var G$="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function W$(e){var t=e.color,r=e.href,n=e.name,s=e.logo,i=e.onClick;return ke.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},ke.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),ke.createElement("div",{className:"walletconnect-modal__base__row__right"},ke.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+s+"') "+t,backgroundSize:"100%"}}),ke.createElement("img",{src:G$,className:"walletconnect-modal__base__row__right__caret"})))}function Y$(e){var t=e.color,r=e.href,n=e.name,s=e.logo,i=e.onClick,a=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return ke.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},ke.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+s+"') "+t,backgroundSize:"100%"}}),ke.createElement("div",{style:{fontSize:a},className:"walletconnect-connect__button__text"},n))}var J$=5,pl=12;function X$(e){var t=zr.isAndroid(),r=ke.useState(""),n=r[0],s=r[1],i=ke.useState(""),a=i[0],o=i[1],f=ke.useState(1),c=f[0],l=f[1],v=a?e.links.filter(function(B){return B.name.toLowerCase().includes(a.toLowerCase())}):e.links,S=e.errorMessage,D=a||v.length>J$,C=Math.ceil(v.length/pl),q=[(c-1)*pl+1,c*pl],H=v.length?v.filter(function(B,z){return z+1>=q[0]&&z+1<=q[1]}):[],Z=!t&&C>1,W=void 0;function K(B){s(B.target.value),clearTimeout(W),B.target.value?W=setTimeout(function(){o(B.target.value),l(1)},1e3):(s(""),o(""),l(1))}return ke.createElement("div",null,ke.createElement("p",{id:f3,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&ke.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:K}),ke.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":D&&v.length?"__wrap":"")},t?ke.createElement(K$,{name:e.text.connect,color:q$,href:e.uri,onClick:ke.useCallback(function(){},[])}):H.length?H.map(function(B){var z=B.color,P=B.name,g=B.shortName,$=B.logo,Y=zr.formatIOSMobile(e.uri,B),Q=ke.useCallback(function(){},[]);return D?ke.createElement(Y$,{color:z,href:Y,name:g||P,logo:$,onClick:Q}):ke.createElement(W$,{color:z,href:Y,name:P,logo:$,onClick:Q})}):ke.createElement(ke.Fragment,null,ke.createElement("p",null,S.length?e.errorMessage:e.links.length&&!v.length?e.text.no_wallets_found:e.text.loading))),Z&&ke.createElement("div",{className:"walletconnect-modal__footer"},Array(C).fill(0).map(function(B,z){var P=z+1,g=c===P;return ke.createElement("a",{style:{margin:"auto 10px",fontWeight:g?"bold":"normal"},onClick:function(){return l(P)}},P)})))}function Z$(e){var t=!!e.message.trim();return ke.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var Q$=function(e){try{var t="";return Promise.resolve(o3.toString(e,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(t=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(r){return Promise.reject(r)}};function eU(e){var t=ke.useState(""),r=t[0],n=t[1],s=ke.useState(""),i=s[0],a=s[1];ke.useEffect(function(){try{return Promise.resolve(Q$(e.uri)).then(function(f){a(f)})}catch(f){Promise.reject(f)}},[]);var o=function(){var f=B$(e.uri);f?(n(e.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return ke.createElement("div",null,ke.createElement("p",{id:f3,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),ke.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),ke.createElement("div",{className:"walletconnect-modal__footer"},ke.createElement("a",{onClick:o},e.text.copy_to_clipboard)),ke.createElement(Z$,{message:r}))}function tU(e){var t=zr.isAndroid(),r=zr.isMobile(),n=r?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,s=ke.useState(!1),i=s[0],a=s[1],o=ke.useState(!1),f=o[0],c=o[1],l=ke.useState(!r),v=l[0],S=l[1],D={mobile:r,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},C=ke.useState(""),q=C[0],H=C[1],Z=ke.useState(!1),W=Z[0],K=Z[1],B=ke.useState([]),z=B[0],P=B[1],g=ke.useState(""),$=g[0],Y=g[1],Q=function(){f||i||n&&!n.length||z.length>0||ke.useEffect(function(){var h=function(){try{if(t)return Promise.resolve();a(!0);var m=L$(function(){var u=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:zr.getWalletRegistryUrl();return Promise.resolve(fetch(u)).then(function(p){return Promise.resolve(p.json()).then(function(A){var x=A.listings,O=r?"mobile":"desktop",N=zr.getMobileLinkRegistry(zr.formatMobileRegistry(x,O),n);a(!1),c(!0),Y(N.length?"":e.text.no_supported_wallets),P(N);var w=N.length===1;w&&(H(zr.formatIOSMobile(e.uri,N[0])),S(!0)),K(w)})})},function(u){a(!1),c(!0),Y(e.text.something_went_wrong),console.error(u)});return Promise.resolve(m&&m.then?m.then(function(){}):void 0)}catch(u){return Promise.reject(u)}};h()})};Q();var G=r?v:!v;return ke.createElement("div",{id:c3,className:"walletconnect-qrcode__base animated fadeIn"},ke.createElement("div",{className:"walletconnect-modal__base"},ke.createElement(V$,{onClose:e.onClose}),W&&v?ke.createElement("div",{className:"walletconnect-modal__single_wallet"},ke.createElement("a",{href:q,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(W?z[0].name:"")+" ")):t||i||!i&&z.length?ke.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(G?" right__selected":"")},ke.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?ke.createElement(ke.Fragment,null,ke.createElement("a",{onClick:function(){return S(!1),Q()}},e.text.mobile),ke.createElement("a",{onClick:function(){return S(!0)}},e.text.qrcode)):ke.createElement(ke.Fragment,null,ke.createElement("a",{onClick:function(){return S(!0)}},e.text.qrcode),ke.createElement("a",{onClick:function(){return S(!1),Q()}},e.text.desktop))):null,ke.createElement("div",null,v||!t&&!i&&!z.length?ke.createElement(eU,Object.assign({},D)):ke.createElement(X$,Object.assign({},D,{links:z,errorMessage:$})))))}var rU={choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine untersttzten Wallet",no_wallets_found:"keine Wallet gefunden"},nU={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},iU={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali mal",no_supported_wallets:"Todava no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},sU={choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv"},oU={choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" ",loading:" ...",something_went_wrong:" .",no_supported_wallets:"   ",no_wallets_found:"   "},aU={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda no h carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},cU={choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:"",loading:"...",something_went_wrong:"",no_supported_wallets:"",no_wallets_found:""},fU={choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" ",loading:"...",something_went_wrong:"  ",no_supported_wallets:"        ",no_wallets_found:"    "},Xg={de:rU,en:nU,es:iU,fr:sU,ko:oU,pt:aU,zh:cU,fa:fU};function uU(){var e=zr.getDocumentOrThrow(),t=e.getElementById(Jg);t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id",Jg),r.innerText=U$,e.head.appendChild(r)}function lU(){var e=zr.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",a3),e.body.appendChild(t),t}function u3(){var e=zr.getDocumentOrThrow(),t=e.getElementById(c3);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=e.getElementById(a3);r&&e.body.removeChild(r)},j$))}function dU(e){return function(){u3(),e&&e()}}function hU(){var e=zr.getNavigatorOrThrow().language.split("-")[0]||"en";return Xg[e]||Xg.en}function pU(e,t,r){uU();var n=lU();ke.render(ke.createElement(tU,{text:hU(),uri:e,onClose:dU(t),qrcodeModalOptions:r}),n)}function gU(){u3()}var l3=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function mU(e,t,r){console.log(e),l3()?$$(e):pU(e,t,r)}function bU(){l3()||gU()}var yU={open:mU,close:bU},vU=yU;const Zg=Oa(vU),wU=async(e,t={})=>{const r=await O_(e,{...t,onDisplayUri:n=>{var s;Zg.open(n,()=>console.log("qr closed")),(s=t==null?void 0:t.onDisplayUri)==null||s.call(t,n)},onDisconnected:(...n)=>{var s;return(s=t==null?void 0:t.onDisconnected)==null?void 0:s.call(t,...n)}});return Zg.close(),r},_U={connect:wU,disconnect:P_,autoConnect:D_};function gl(){var e;return((e=globalThis.window)==null?void 0:e.localStorage)??{getItem:()=>{},setItem:()=>{},removeItem:()=>{}}}var ks=(e=>(e.LastUsedConnectorId="lastUsedConnectorId",e.LastUsedConnectionOptions="lastUsedConnectionOptions",e))(ks||{});class os{static get(t){try{const n=gl().getItem(`alephium:${t}`);return n===null?void 0:JSON.parse(n)}catch{console.warn(`Un-Serializable value for key ${t} - removing from storage`),os.remove(t)}}static set(t,r){gl().setItem(`alephium:${t}`,JSON.stringify(r))}static remove(t){gl().removeItem(`alephium:${t}`)}}const Ei=Ia({networkId:void 0,keyType:"default",group:0,address:"",publicKey:""});function EU(e){Ei.networkId=e.networkId,Ei.address=e.address,Ei.publicKey=e.publicKey,Ei.keyType=e.keyType,Ei.group=e.group}function xU(){Ei.address="",Ei.publicKey=""}function bh(){return{account:Ei,setAccount:EU,clearAccount:xU}}const{amounts:SU}=Fy(),Vo=Ni(os.get(ks.LastUsedConnectorId)),Qg=Ia({networkId:"mainnet",addressGroup:0,keyType:"default"});async function em(e){var i;const t=J0(),{account:r}=bh();He.web3.setCurrentNodeProvider(e);const n=(i=Ny("mainnet").contracts.VendingMachine)==null?void 0:i.contractInstance;let s=!1;n==null||n.subscribeNftMintedEvent({pollingInterval:5,messageCallback:async a=>{console.log(a);const o=Math.floor(Number(a.fields.startingIndex)/50),f=Number(a.fields.startingIndex)%50,c=Number(a.fields.mintAmount)-1;SU.value[o]=f+c,s?a.fields.minter===r.address?t.success(`You Minted ${c+1} ${Rc[o]}`):t.warning(`Someone grabbed ${c+1} ${Rc[o]}`):setTimeout(()=>{s=!0},500)},errorCallback:async a=>{console.log("something happened"),console.log({error:a})}})}function ml(e){switch(e){case"injected":return oR;case"walletConnect":return _U;case"desktopWallet":return eR}}function AU(e=!0){const t={onDisconnected:(...v)=>{console.log("disconnected")},onConnected:(...v)=>{console.log("connected")}},{account:r,setAccount:n,clearAccount:s}=bh(),{getProvider:i,setProvider:a,clearProvider:o}=Ry(),f=async(v,S)=>{const D={...Qg,...S},C=await ml(v).connect({...t,...D});if(console.log({results:C}),Vo.value=v,C!=null&&C.success)return e&&(os.set(ks.LastUsedConnectorId,v),os.set(ks.LastUsedConnectionOptions,D)),em(C.provider.nodeProvider),n(C.account),a(C.provider),C},c=async()=>{const v=i();Vo.value&&v&&await ml(Vo.value).disconnect(v),s(),o(),e&&(os.remove(ks.LastUsedConnectorId),os.remove(ks.LastUsedConnectionOptions))},l=async()=>{if(!Vo.value||r.address)return;const v=await ml(Vo.value).autoConnect({...Qg,...t});if(v!=null&&v.success)return em(v.provider.nodeProvider),n(v.account),a(v.provider),v};return e?{connect:f,disconnect:c,autoConnect:l}:{connect:f,disconnect:c,autoConnect:()=>{}}}const IU={style:{background:"#356e90",display:"flex","border-radius":"5px","flex-flow":"column",gap:"1rem","z-index":"10",padding:"1rem","font-size":"1.5rem"}},TU={class:"bottom",style:{display:"flex",padding:"1rem","justify-content":"space-between","align-items":"flex-end","max-height":"250px"}},MU={style:{position:"relative",display:"flex","align-items":"flex-start","justify-content":"center"}},CU=bt("div",{class:"slot"},null,-1),OU=["src"],PU=bt("div",null,null,-1),DU={class:"insert-wrapper"},NU={class:"insert insert-input",style:{"max-width":"135px"}},RU=Cn({__name:"Slot",setup(e){const{state:t,selection:r,amount:n}=Uy(),{connect:s,disconnect:i,autoConnect:a}=AU(),{account:o}=bh();function f(){n.value<1&&(n.value=1),n.value>10&&(n.value=10),Number.isNaN(n.value)&&(n.value=1)}const c=Ni(!1);function l(){c.value=!0}V0(()=>{a()});async function v(D){await s(D),c.value=!1}async function S(){await i(),c.value=!1}return(D,C)=>(at(),St(Nt,null,[c.value?(at(),St("div",{key:0,onClick:C[4]||(C[4]=ub(q=>c.value=!1,["self"])),style:{background:"#00000099","z-index":"5",display:"flex","flex-flow":"row wrap","align-items":"center","justify-content":"center",top:"0",bottom:"0",right:"0",left:"0",position:"fixed"}},[bt("div",IU,[Kt(o).address?_i("",!0):(at(),St("div",{key:0,onClick:C[0]||(C[0]=q=>v("injected")),style:{padding:"0.75rem","text-align":"center","border-radius":"5px",background:"rgb(49, 72, 85)","border-style":"solid"}}," Extension Wallet")),Kt(o).address?_i("",!0):(at(),St("div",{key:1,onClick:C[1]||(C[1]=q=>v("walletConnect")),style:{padding:"0.75rem","text-align":"center","border-radius":"5px",background:"rgb(49, 72, 85)","border-style":"solid"}}," Wallet Connect ")),Kt(o).address?_i("",!0):(at(),St("div",{key:2,onClick:C[2]||(C[2]=q=>v("desktopWallet")),style:{padding:"0.75rem","text-align":"center","border-radius":"5px",background:"rgb(49, 72, 85)","border-style":"solid"}}," Desktop/Mobile Wallet ")),Kt(o).address?(at(),St("div",{key:3,onClick:C[3]||(C[3]=q=>S()),style:{padding:"0.75rem","text-align":"center","border-radius":"5px",background:"rgb(49, 72, 85)","border-style":"solid"}}," Disconnect ")):_i("",!0)])])):_i("",!0),bt("div",TU,[bt("div",MU,[CU,bt("div",{class:An(["img",Kt(t)==="idle"?"up":"down"])},[bt("img",{src:`/images/${Kt(X0)[Kt(r)]}.svg`,style:{margin:"0 auto",width:"70%"}},null,8,OU)],2)]),PU,bt("div",DU,[bt("div",NU,[B4(bt("input",{min:" 1",max:"10",step:"1","onUpdate:modelValue":C[5]||(C[5]=q=>pr(n)?n.value=q:null),onBlur:f,type:"number"},null,544),[[s8,Kt(n)]])]),bt("div",{class:An(["insert connect",Kt(o).address?"connected":"disconnected"]),onClick:l,style:{"max-width":"135px"}},[bt("h1",null,fa(Kt(o).address?Kt(o).address.slice(0,6):"CONNECT"),1)],2)])])],64))}}),BU={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"flex-end","min-height":"100dvh",width:"100vw"}},$U=bt("div",{class:"honk-font",style:{color:"black","font-weight":"bold","font-size":"4rem","text-align":"center","line-height":"0.8","padding-bottom":"1rem"}}," Alephium Vending Machine ",-1),UU={class:"machine_body",style:{display:"flex","flex-direction":"column","align-items":"stretch","justify-content":"space-between",height:"100%","max-height":"900px"}},LU={style:{display:"flex","flex-direction":"column",gap:"0rem",padding:"1rem","z-index":"4"}},FU=Cn({__name:"App",setup(e){return(t,r)=>(at(),St("div",BU,[$U,bt("div",UU,[bt("div",LU,[Wt(ac,{style:{position:"relative"},labelIndex:[0,1,2,3,4]}),Wt(ac,{style:{position:"relative"},labelIndex:[5,6,7,8,9]}),Wt(ac,{style:{position:"relative"},labelIndex:[10,11,12,13,14]}),Wt(ac,{style:{position:"relative"},labelIndex:[15,16,17,18,19]})]),Wt(RU)])]))}});lb(FU).use(aE,{}).mount("#app");
